<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"novav.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Simon Shi的小站">
<meta property="og:url" content="https://novav.github.io/page/24/index.html">
<meta property="og:site_name" content="Simon Shi的小站">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Simon Shi">
<meta property="article:tag" content="AI,Machine Learning, Deep Learning">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://novav.github.io/page/24/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Simon Shi的小站</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Simon Shi的小站</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">人工智能，机器学习， 强化学习，大模型，自动驾驶</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/07/23/Course/Algorithm/Algorithm-impl-Render/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/23/Course/Algorithm/Algorithm-impl-Render/" class="post-title-link" itemprop="url">Algorithm Impl Render</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-23 17:06:00" itemprop="dateCreated datePublished" datetime="2020-07-23T17:06:00+00:00">2020-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:38" itemprop="dateModified" datetime="2025-08-06T08:16:38+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/CG/" itemprop="url" rel="index"><span itemprop="name">CG</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<h2 id="Render-impl-todo"><a href="#Render-impl-todo" class="headerlink" title="Render impl todo"></a>Render impl todo</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/07/23/Course/Algorithm/Algorithm-impl-SRT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/23/Course/Algorithm/Algorithm-impl-SRT/" class="post-title-link" itemprop="url">Algorithm Impl CV/CG Transform</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-23 16:06:00" itemprop="dateCreated datePublished" datetime="2020-07-23T16:06:00+00:00">2020-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:38" itemprop="dateModified" datetime="2025-08-06T08:16:38+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/CG/" itemprop="url" rel="index"><span itemprop="name">CG</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Transform"><a href="#Transform" class="headerlink" title="Transform"></a>Transform</h2><p>[TOC]</p>
<h3 id="angle2matrix"><a href="#angle2matrix" class="headerlink" title="angle2matrix"></a>angle2matrix</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">angle2matrix</span>(<span class="params">angles</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; get rotation matrix from three rotation angles(degree). right-handed.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        angles: [3,]. x, y, z angles</span></span><br><span class="line"><span class="string">        x: pitch. positive for looking down.</span></span><br><span class="line"><span class="string">        y: yaw. positive for looking left. </span></span><br><span class="line"><span class="string">        z: roll. positive for tilting head right. </span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        R: [3, 3]. rotation matrix.</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    x, y, z = np.deg2rad(angles[<span class="number">0</span>]), np.deg2rad(angles[<span class="number">1</span>]), np.deg2rad(angles[<span class="number">2</span>])</span><br><span class="line">    <span class="comment"># x</span></span><br><span class="line">    Rx=np.array([[<span class="number">1</span>,      <span class="number">0</span>,       <span class="number">0</span>],</span><br><span class="line">                 [<span class="number">0</span>, cos(x),  -sin(x)],</span><br><span class="line">                 [<span class="number">0</span>, sin(x),   cos(x)]])</span><br><span class="line">    <span class="comment"># y</span></span><br><span class="line">    Ry=np.array([[ cos(y), <span class="number">0</span>, sin(y)],</span><br><span class="line">                 [      <span class="number">0</span>, <span class="number">1</span>,      <span class="number">0</span>],</span><br><span class="line">                 [-sin(y), <span class="number">0</span>, cos(y)]])</span><br><span class="line">    <span class="comment"># z</span></span><br><span class="line">    Rz=np.array([[cos(z), -sin(z), <span class="number">0</span>],</span><br><span class="line">                 [sin(z),  cos(z), <span class="number">0</span>],</span><br><span class="line">                 [     <span class="number">0</span>,       <span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line">    R=Rz.dot(Ry.dot(Rx))</span><br><span class="line">    <span class="keyword">return</span> R.astype(np.float32)</span><br></pre></td></tr></table></figure>

<h3 id="angle2matrix-3ddfa"><a href="#angle2matrix-3ddfa" class="headerlink" title="angle2matrix_3ddfa"></a>angle2matrix_3ddfa</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">angle2matrix_3ddfa</span>(<span class="params">angles</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; get rotation matrix from three rotation angles(radian). The same as in 3DDFA.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        angles: [3,]. x, y, z angles</span></span><br><span class="line"><span class="string">        x: pitch.</span></span><br><span class="line"><span class="string">        y: yaw. </span></span><br><span class="line"><span class="string">        z: roll. </span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        R: 3x3. rotation matrix.</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># x, y, z = np.deg2rad(angles[0]), np.deg2rad(angles[1]), np.deg2rad(angles[2])</span></span><br><span class="line">    x, y, z = angles[<span class="number">0</span>], angles[<span class="number">1</span>], angles[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># x</span></span><br><span class="line">    Rx=np.array([[<span class="number">1</span>,      <span class="number">0</span>,       <span class="number">0</span>],</span><br><span class="line">                 [<span class="number">0</span>, cos(x),  sin(x)],</span><br><span class="line">                 [<span class="number">0</span>, -sin(x),   cos(x)]])</span><br><span class="line">    <span class="comment"># y</span></span><br><span class="line">    Ry=np.array([[ cos(y), <span class="number">0</span>, -sin(y)],</span><br><span class="line">                 [      <span class="number">0</span>, <span class="number">1</span>,      <span class="number">0</span>],</span><br><span class="line">                 [sin(y), <span class="number">0</span>, cos(y)]])</span><br><span class="line">    <span class="comment"># z</span></span><br><span class="line">    Rz=np.array([[cos(z), sin(z), <span class="number">0</span>],</span><br><span class="line">                 [-sin(z),  cos(z), <span class="number">0</span>],</span><br><span class="line">                 [     <span class="number">0</span>,       <span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line">    R = Rx.dot(Ry).dot(Rz)</span><br><span class="line">    <span class="keyword">return</span> R.astype(np.float32)</span><br></pre></td></tr></table></figure>

<p>—————————————— 1. transform(transform, project, camera).</p>
<p>———- 3d-3d transform. Transform obj in world space</p>
<h3 id="rotate"><a href="#rotate" class="headerlink" title="rotate"></a>rotate</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">rotate</span>(<span class="params">vertices, angles</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; rotate vertices. </span></span><br><span class="line"><span class="string">    X_new = R.dot(X). X: 3 x 1   </span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        vertices: [nver, 3]. </span></span><br><span class="line"><span class="string">        rx, ry, rz: degree angles</span></span><br><span class="line"><span class="string">        rx: pitch. positive for looking down </span></span><br><span class="line"><span class="string">        ry: yaw. positive for looking left</span></span><br><span class="line"><span class="string">        rz: roll. positive for tilting head right</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        rotated vertices: [nver, 3]</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    R = angle2matrix(angles)</span><br><span class="line">    rotated_vertices = vertices.dot(R.T)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> rotated_vertices</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">similarity_transform</span>(<span class="params">vertices, s, R, t3d</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; similarity transform. dof = 7.</span></span><br><span class="line"><span class="string">    3D: s*R.dot(X) + t</span></span><br><span class="line"><span class="string">    Homo: M = [[sR, t],[0^T, 1]].  M.dot(X)</span></span><br><span class="line"><span class="string">    Args:(float32)</span></span><br><span class="line"><span class="string">        vertices: [nver, 3]. </span></span><br><span class="line"><span class="string">        s: [1,]. scale factor.</span></span><br><span class="line"><span class="string">        R: [3,3]. rotation matrix.</span></span><br><span class="line"><span class="string">        t3d: [3,]. 3d translation vector.</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        transformed vertices: [nver, 3]</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    t3d = np.squeeze(np.array(t3d, dtype = np.float32))</span><br><span class="line">    transformed_vertices = s * vertices.dot(R.T) + t3d[np.newaxis, :]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> transformed_vertices</span><br></pre></td></tr></table></figure>

<h3 id="normalize"><a href="#normalize" class="headerlink" title="normalize"></a>normalize</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">## -------------- Camera. from world space to camera space</span><br><span class="line"># Ref: https://cs184.eecs.berkeley.edu/lecture/transforms-2</span><br><span class="line">def normalize(x):</span><br><span class="line">    epsilon = 1e-12</span><br><span class="line">    norm = np.sqrt(np.sum(x**2, axis = 0))</span><br><span class="line">    norm = np.maximum(norm, epsilon)</span><br><span class="line">    return x/norm</span><br></pre></td></tr></table></figure>

<h3 id="lookat-camera"><a href="#lookat-camera" class="headerlink" title="lookat camera"></a>lookat camera</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">lookat_camera</span>(<span class="params">vertices, eye, at = <span class="literal">None</span>, up = <span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; &#x27;look at&#x27; transformation: from world space to camera space</span></span><br><span class="line"><span class="string">    standard camera space: </span></span><br><span class="line"><span class="string">        camera located at the origin. </span></span><br><span class="line"><span class="string">        looking down negative z-axis. </span></span><br><span class="line"><span class="string">        vertical vector is y-axis.</span></span><br><span class="line"><span class="string">    Xcam = R(X - C)</span></span><br><span class="line"><span class="string">    Homo: [[R, -RC], [0, 1]]</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">      vertices: [nver, 3] </span></span><br><span class="line"><span class="string">      eye: [3,] the XYZ world space position of the camera.</span></span><br><span class="line"><span class="string">      at: [3,] a position along the center of the camera&#x27;s gaze.</span></span><br><span class="line"><span class="string">      up: [3,] up direction </span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">      transformed_vertices: [nver, 3]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> at <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">      at = np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], np.float32)</span><br><span class="line">    <span class="keyword">if</span> up <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">      up = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], np.float32)</span><br><span class="line"></span><br><span class="line">    eye = np.array(eye).astype(np.float32)</span><br><span class="line">    at = np.array(at).astype(np.float32)</span><br><span class="line">    z_aixs = -normalize(at - eye) <span class="comment"># look forward</span></span><br><span class="line">    x_aixs = normalize(np.cross(up, z_aixs)) <span class="comment"># look right</span></span><br><span class="line">    y_axis = np.cross(z_aixs, x_aixs) <span class="comment"># look up</span></span><br><span class="line"></span><br><span class="line">    R = np.stack((x_aixs, y_axis, z_aixs))<span class="comment">#, axis = 0) # 3 x 3</span></span><br><span class="line">    transformed_vertices = vertices - eye <span class="comment"># translation</span></span><br><span class="line">    transformed_vertices = transformed_vertices.dot(R.T) <span class="comment"># rotation</span></span><br><span class="line">    <span class="keyword">return</span> transformed_vertices</span><br></pre></td></tr></table></figure>

<h3 id="orthographic-project-正交投影"><a href="#orthographic-project-正交投影" class="headerlink" title="orthographic_project 正交投影"></a>orthographic_project 正交投影</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">## --------- 3d-2d project. from camera space to image plane</span><br><span class="line"># generally, image plane only keeps x,y channels, here reserve z channel for calculating z-buffer.</span><br><span class="line">def orthographic_project(vertices):</span><br><span class="line">    &#x27;&#x27;&#x27; scaled orthographic projection(just delete z)</span><br><span class="line">        assumes: variations in depth over the object is small relative to the mean distance from camera to object</span><br><span class="line">        x -&gt; x*f/z, y -&gt; x*f/z, z -&gt; f.</span><br><span class="line">        for point i,j. zi~=zj. so just delete z</span><br><span class="line">        ** often used in face</span><br><span class="line">        Homo: P = [[1,0,0,0], [0,1,0,0], [0,0,1,0]]</span><br><span class="line">    Args:</span><br><span class="line">        vertices: [nver, 3]</span><br><span class="line">    Returns:</span><br><span class="line">        projected_vertices: [nver, 3] if isKeepZ=True. [nver, 2] if isKeepZ=False.</span><br><span class="line">    &#x27;&#x27;&#x27;</span><br><span class="line">    return vertices.copy()</span><br></pre></td></tr></table></figure>

<h3 id="perspective-project-透视投影"><a href="#perspective-project-透视投影" class="headerlink" title="perspective_project 透视投影"></a>perspective_project 透视投影</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">perspective_project</span>(<span class="params">vertices, fovy, aspect_ratio = <span class="number">1.</span>, near = <span class="number">0.1</span>, far = <span class="number">1000.</span></span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; perspective projection.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        vertices: [nver, 3]</span></span><br><span class="line"><span class="string">        fovy: vertical angular field of view. degree.</span></span><br><span class="line"><span class="string">        aspect_ratio : width / height of field of view</span></span><br><span class="line"><span class="string">        near : depth of near clipping plane</span></span><br><span class="line"><span class="string">        far : depth of far clipping plane</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        projected_vertices: [nver, 3] </span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    fovy = np.deg2rad(fovy)</span><br><span class="line">    top = near*np.tan(fovy)</span><br><span class="line">    bottom = -top </span><br><span class="line">    right = top*aspect_ratio</span><br><span class="line">    left = -right</span><br><span class="line"></span><br><span class="line">    <span class="comment">#-- homo</span></span><br><span class="line">    P = np.array([[near/right, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                 [<span class="number">0</span>, near/top, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                 [<span class="number">0</span>, <span class="number">0</span>, -(far+near)/(far-near), -<span class="number">2</span>*far*near/(far-near)],</span><br><span class="line">                 [<span class="number">0</span>, <span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>]])</span><br><span class="line">    vertices_homo = np.hstack((vertices, np.ones((vertices.shape[<span class="number">0</span>], <span class="number">1</span>)))) <span class="comment"># [nver, 4]</span></span><br><span class="line">    projected_vertices = vertices_homo.dot(P.T)</span><br><span class="line">    projected_vertices = projected_vertices/projected_vertices[:,<span class="number">3</span>:]</span><br><span class="line">    projected_vertices = projected_vertices[:,:<span class="number">3</span>]</span><br><span class="line">    projected_vertices[:,<span class="number">2</span>] = -projected_vertices[:,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment">#-- non homo. only fovy</span></span><br><span class="line">    <span class="comment"># projected_vertices = vertices.copy()</span></span><br><span class="line">    <span class="comment"># projected_vertices[:,0] = -(near/right)*vertices[:,0]/vertices[:,2]</span></span><br><span class="line">    <span class="comment"># projected_vertices[:,1] = -(near/top)*vertices[:,1]/vertices[:,2]</span></span><br><span class="line">    <span class="keyword">return</span> projected_vertices</span><br></pre></td></tr></table></figure>

<h3 id="to-image"><a href="#to-image" class="headerlink" title="to_image"></a>to_image</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">to_image</span>(<span class="params">vertices, h, w, is_perspective = <span class="literal">False</span></span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; change vertices to image coord system</span></span><br><span class="line"><span class="string">    3d system: XYZ, center(0, 0, 0)</span></span><br><span class="line"><span class="string">    2d image: x(u), y(v). center(w/2, h/2), flip y-axis. </span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        vertices: [nver, 3]</span></span><br><span class="line"><span class="string">        h: height of the rendering</span></span><br><span class="line"><span class="string">        w : width of the rendering</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        projected_vertices: [nver, 3]  </span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    image_vertices = vertices.copy()</span><br><span class="line">    <span class="keyword">if</span> is_perspective:</span><br><span class="line">        <span class="comment"># if perspective, the projected vertices are normalized to [-1, 1]. so change it to image size first.</span></span><br><span class="line">        image_vertices[:,<span class="number">0</span>] = image_vertices[:,<span class="number">0</span>]*w/<span class="number">2</span></span><br><span class="line">        image_vertices[:,<span class="number">1</span>] = image_vertices[:,<span class="number">1</span>]*h/<span class="number">2</span></span><br><span class="line">    <span class="comment"># move to center of image</span></span><br><span class="line">    image_vertices[:,<span class="number">0</span>] = image_vertices[:,<span class="number">0</span>] + w/<span class="number">2</span></span><br><span class="line">    image_vertices[:,<span class="number">1</span>] = image_vertices[:,<span class="number">1</span>] + h/<span class="number">2</span></span><br><span class="line">    <span class="comment"># flip vertices along y-axis.</span></span><br><span class="line">    image_vertices[:,<span class="number">1</span>] = h - image_vertices[:,<span class="number">1</span>] - <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> image_vertices</span><br></pre></td></tr></table></figure>

<h3 id="estimate-affine-matrix-3d23d"><a href="#estimate-affine-matrix-3d23d" class="headerlink" title="estimate_affine_matrix_3d23d"></a>estimate_affine_matrix_3d23d</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### -------------------------------------------2. estimate transform matrix from correspondences.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">estimate_affine_matrix_3d23d</span>(<span class="params">X, Y</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; Using least-squares solution </span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        X: [n, 3]. 3d points(fixed)</span></span><br><span class="line"><span class="string">        Y: [n, 3]. corresponding 3d points(moving). Y = PX</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        P_Affine: (3, 4). Affine camera matrix (the third row is [0, 0, 0, 1]).</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    X_homo = np.hstack((X, np.ones([X.shape[<span class="number">1</span>],<span class="number">1</span>]))) <span class="comment">#n x 4</span></span><br><span class="line">    P = np.linalg.lstsq(X_homo, Y)[<span class="number">0</span>].T <span class="comment"># Affine matrix. 3 x 4</span></span><br><span class="line">    <span class="keyword">return</span> P</span><br></pre></td></tr></table></figure>

<h3 id="estimate-affine-matrix-3d22d"><a href="#estimate-affine-matrix-3d22d" class="headerlink" title="estimate_affine_matrix_3d22d"></a>estimate_affine_matrix_3d22d</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">estimate_affine_matrix_3d22d</span>(<span class="params">X, x</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; Using Golden Standard Algorithm for estimating an affine camera</span></span><br><span class="line"><span class="string">        matrix P from world to image correspondences.</span></span><br><span class="line"><span class="string">        See Alg.7.2. in MVGCV </span></span><br><span class="line"><span class="string">        Code Ref: https://github.com/patrikhuber/eos/blob/master/include/eos/fitting/affine_camera_estimation.hpp</span></span><br><span class="line"><span class="string">        x_homo = X_homo.dot(P_Affine)</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        X: [n, 3]. corresponding 3d points(fixed)</span></span><br><span class="line"><span class="string">        x: [n, 2]. n&gt;=4. 2d points(moving). x = PX</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        P_Affine: [3, 4]. Affine camera matrix</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    X = X.T; x = x.T</span><br><span class="line">    <span class="keyword">assert</span>(x.shape[<span class="number">1</span>] == X.shape[<span class="number">1</span>])</span><br><span class="line">    n = x.shape[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">assert</span>(n &gt;= <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#--- 1. normalization</span></span><br><span class="line">    <span class="comment"># 2d points</span></span><br><span class="line">    mean = np.mean(x, <span class="number">1</span>) <span class="comment"># (2,)</span></span><br><span class="line">    x = x - np.tile(mean[:, np.newaxis], [<span class="number">1</span>, n])</span><br><span class="line">    average_norm = np.mean(np.sqrt(np.<span class="built_in">sum</span>(x**<span class="number">2</span>, <span class="number">0</span>)))</span><br><span class="line">    scale = np.sqrt(<span class="number">2</span>) / average_norm</span><br><span class="line">    x = scale * x</span><br><span class="line"></span><br><span class="line">    T = np.zeros((<span class="number">3</span>,<span class="number">3</span>), dtype = np.float32)</span><br><span class="line">    T[<span class="number">0</span>, <span class="number">0</span>] = T[<span class="number">1</span>, <span class="number">1</span>] = scale</span><br><span class="line">    T[:<span class="number">2</span>, <span class="number">2</span>] = -mean*scale</span><br><span class="line">    T[<span class="number">2</span>, <span class="number">2</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 3d points</span></span><br><span class="line">    X_homo = np.vstack((X, np.ones((<span class="number">1</span>, n))))</span><br><span class="line">    mean = np.mean(X, <span class="number">1</span>) <span class="comment"># (3,)</span></span><br><span class="line">    X = X - np.tile(mean[:, np.newaxis], [<span class="number">1</span>, n])</span><br><span class="line">    m = X_homo[:<span class="number">3</span>,:] - X</span><br><span class="line">    average_norm = np.mean(np.sqrt(np.<span class="built_in">sum</span>(X**<span class="number">2</span>, <span class="number">0</span>)))</span><br><span class="line">    scale = np.sqrt(<span class="number">3</span>) / average_norm</span><br><span class="line">    X = scale * X</span><br><span class="line"></span><br><span class="line">    U = np.zeros((<span class="number">4</span>,<span class="number">4</span>), dtype = np.float32)</span><br><span class="line">    U[<span class="number">0</span>, <span class="number">0</span>] = U[<span class="number">1</span>, <span class="number">1</span>] = U[<span class="number">2</span>, <span class="number">2</span>] = scale</span><br><span class="line">    U[:<span class="number">3</span>, <span class="number">3</span>] = -mean*scale</span><br><span class="line">    U[<span class="number">3</span>, <span class="number">3</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># --- 2. equations</span></span><br><span class="line">    A = np.zeros((n*<span class="number">2</span>, <span class="number">8</span>), dtype = np.float32);</span><br><span class="line">    X_homo = np.vstack((X, np.ones((<span class="number">1</span>, n)))).T</span><br><span class="line">    A[:n, :<span class="number">4</span>] = X_homo</span><br><span class="line">    A[n:, <span class="number">4</span>:] = X_homo</span><br><span class="line">    b = np.reshape(x, [-<span class="number">1</span>, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># --- 3. solution</span></span><br><span class="line">    p_8 = np.linalg.pinv(A).dot(b)</span><br><span class="line">    P = np.zeros((<span class="number">3</span>, <span class="number">4</span>), dtype = np.float32)</span><br><span class="line">    P[<span class="number">0</span>, :] = p_8[:<span class="number">4</span>, <span class="number">0</span>]</span><br><span class="line">    P[<span class="number">1</span>, :] = p_8[<span class="number">4</span>:, <span class="number">0</span>]</span><br><span class="line">    P[-<span class="number">1</span>, -<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># --- 4. denormalization</span></span><br><span class="line">    P_Affine = np.linalg.inv(T).dot(P.dot(U))</span><br><span class="line">    <span class="keyword">return</span> P_Affine</span><br></pre></td></tr></table></figure>

<h3 id="P2sRt"><a href="#P2sRt" class="headerlink" title="P2sRt"></a>P2sRt</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">P2sRt</span>(<span class="params">P</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; decompositing camera matrix P</span></span><br><span class="line"><span class="string">    Args: </span></span><br><span class="line"><span class="string">        P: (3, 4). Affine Camera Matrix.</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        s: scale factor.</span></span><br><span class="line"><span class="string">        R: (3, 3). rotation matrix.</span></span><br><span class="line"><span class="string">        t: (3,). translation. </span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    t = P[:, <span class="number">3</span>]</span><br><span class="line">    R1 = P[<span class="number">0</span>:<span class="number">1</span>, :<span class="number">3</span>]</span><br><span class="line">    R2 = P[<span class="number">1</span>:<span class="number">2</span>, :<span class="number">3</span>]</span><br><span class="line">    s = (np.linalg.norm(R1) + np.linalg.norm(R2))/<span class="number">2.0</span></span><br><span class="line">    r1 = R1/np.linalg.norm(R1)</span><br><span class="line">    r2 = R2/np.linalg.norm(R2)</span><br><span class="line">    r3 = np.cross(r1, r2)</span><br><span class="line"></span><br><span class="line">    R = np.concatenate((r1, r2, r3), <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> s, R, t</span><br></pre></td></tr></table></figure>

<h3 id="isRotationMatrix"><a href="#isRotationMatrix" class="headerlink" title="isRotationMatrix"></a>isRotationMatrix</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Ref: https://www.learnopencv.com/rotation-matrix-to-euler-angles/</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">isRotationMatrix</span>(<span class="params">R</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; checks if a matrix is a valid rotation matrix(whether orthogonal or not)</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    Rt = np.transpose(R)</span><br><span class="line">    shouldBeIdentity = np.dot(Rt, R)</span><br><span class="line">    I = np.identity(<span class="number">3</span>, dtype = R.dtype)</span><br><span class="line">    n = np.linalg.norm(I - shouldBeIdentity)</span><br><span class="line">    <span class="keyword">return</span> n &lt; <span class="number">1e-6</span></span><br></pre></td></tr></table></figure>

<h3 id="matrox2angle"><a href="#matrox2angle" class="headerlink" title="matrox2angle"></a>matrox2angle</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">matrix2angle</span>(<span class="params">R</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; get three Euler angles from Rotation Matrix</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        R: (3,3). rotation matrix</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        x: pitch</span></span><br><span class="line"><span class="string">        y: yaw</span></span><br><span class="line"><span class="string">        z: roll</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">assert</span>(isRotationMatrix)</span><br><span class="line">    sy = math.sqrt(R[<span class="number">0</span>,<span class="number">0</span>] * R[<span class="number">0</span>,<span class="number">0</span>] +  R[<span class="number">1</span>,<span class="number">0</span>] * R[<span class="number">1</span>,<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    singular = sy &lt; <span class="number">1e-6</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>  <span class="keyword">not</span> singular :</span><br><span class="line">        x = math.atan2(R[<span class="number">2</span>,<span class="number">1</span>] , R[<span class="number">2</span>,<span class="number">2</span>])</span><br><span class="line">        y = math.atan2(-R[<span class="number">2</span>,<span class="number">0</span>], sy)</span><br><span class="line">        z = math.atan2(R[<span class="number">1</span>,<span class="number">0</span>], R[<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        x = math.atan2(-R[<span class="number">1</span>,<span class="number">2</span>], R[<span class="number">1</span>,<span class="number">1</span>])</span><br><span class="line">        y = math.atan2(-R[<span class="number">2</span>,<span class="number">0</span>], sy)</span><br><span class="line">        z = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># rx, ry, rz = np.rad2deg(x), np.rad2deg(y), np.rad2deg(z)</span></span><br><span class="line">    rx, ry, rz = x*<span class="number">180</span>/np.pi, y*<span class="number">180</span>/np.pi, z*<span class="number">180</span>/np.pi</span><br><span class="line">    <span class="keyword">return</span> rx, ry, rz</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/07/23/Course/Algorithm/Algorithm-survey/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/23/Course/Algorithm/Algorithm-survey/" class="post-title-link" itemprop="url">Algorithm Survey</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-23 15:06:00" itemprop="dateCreated datePublished" datetime="2020-07-23T15:06:00+00:00">2020-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:38" itemprop="dateModified" datetime="2025-08-06T08:16:38+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/CG/" itemprop="url" rel="index"><span itemprop="name">CG</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<h2 id="算法类型"><a href="#算法类型" class="headerlink" title="算法类型"></a>算法类型</h2><h3 id="图形学算法"><a href="#图形学算法" class="headerlink" title="图形学算法"></a>图形学算法</h3><p>S,R,T</p>
<ul>
<li>Scala</li>
<li>旋转</li>
<li>位移</li>
<li>对齐 （mtcnn align 算法）</li>
<li>仿射变换  (CV-transformations.md)</li>
<li>线性插值</li>
</ul>
<p>CG Algorithm (Algorithm-CG.md)</p>
<p>&#x2F;home&#x2F;simon&#x2F;data&#x2F;blogs&#x2F;source&#x2F;_posts&#x2F;CV-3D-Transform.md</p>
<ul>
<li>LBS算法 （CV-3D-BuildModel-CMPL.md）</li>
<li></li>
</ul>
<h3 id="点云对齐算法"><a href="#点云对齐算法" class="headerlink" title="点云对齐算法"></a>点云对齐算法</h3><p>CV-3D-Base.md</p>
<h3 id="统计机器学习算法"><a href="#统计机器学习算法" class="headerlink" title="统计机器学习算法"></a>统计机器学习算法</h3><ul>
<li>k-means</li>
</ul>
<p>数据降维</p>
<ul>
<li>PCA</li>
</ul>
<p>数据降维基础</p>
<ul>
<li>奇异值分解SVD</li>
<li>特征值分解EVD</li>
<li></li>
</ul>
<h3 id="游戏树算法"><a href="#游戏树算法" class="headerlink" title="游戏树算法"></a>游戏树算法</h3><ul>
<li>minimax</li>
<li>pn-search</li>
<li>alpha-beta剪枝</li>
</ul>
<h3 id="增强学习算法"><a href="#增强学习算法" class="headerlink" title="增强学习算法"></a>增强学习算法</h3><ul>
<li>MCTS</li>
<li>UCT</li>
<li>CFR</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/07/23/Course/Algorithm/Algorithm-CG/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/23/Course/Algorithm/Algorithm-CG/" class="post-title-link" itemprop="url">Algorithm CG</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-23 15:05:00" itemprop="dateCreated datePublished" datetime="2020-07-23T15:05:00+00:00">2020-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:38" itemprop="dateModified" datetime="2025-08-06T08:16:38+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/CG/" itemprop="url" rel="index"><span itemprop="name">CG</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/07/16/Sub_Language/CVs/Language-cv2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/16/Sub_Language/CVs/Language-cv2/" class="post-title-link" itemprop="url">Python Lib OpenCV</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-16 16:00:52" itemprop="dateCreated datePublished" datetime="2020-07-16T16:00:52+00:00">2020-07-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/" itemprop="url" rel="index"><span itemprop="name">dev</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/OpenCV/" itemprop="url" rel="index"><span itemprop="name">OpenCV</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<p>OpenCV -API  (python)</p>
<h2 id="APi-Tutorials"><a href="#APi-Tutorials" class="headerlink" title="APi Tutorials"></a>APi Tutorials</h2><p><a target="_blank" rel="noopener" href="https://www.opencv.org.cn/opencvdoc/2.3.2/html/doc/tutorials/imgproc/table_of_content_imgproc/table_of_content_imgproc.html">imgproc 模块. 图像处理  OpenCV 2.3.2 documentation</a></p>
<ul>
<li><p><input disabled type="checkbox"> 
图像平滑(模糊)处理 blur &#x2F;GaussianBlur &#x2F; MedianBlur &#x2F; BilaterFilter</p>
</li>
<li><p><input checked disabled type="checkbox"> 
腐蚀-膨胀</p>
</li>
<li><p><input disabled type="checkbox"> 
形态变换</p>
</li>
</ul>
<h2 id="一、Image-I-O"><a href="#一、Image-I-O" class="headerlink" title="一、Image I&#x2F;O"></a>一、Image I&#x2F;O</h2><h3 id="imread"><a href="#imread" class="headerlink" title="imread"></a>imread</h3><h3 id="imsave"><a href="#imsave" class="headerlink" title="imsave"></a>imsave</h3><h3 id="imshow"><a href="#imshow" class="headerlink" title="imshow()"></a>imshow()</h3><h3 id="resize"><a href="#resize" class="headerlink" title="resize"></a>resize</h3><p>cv2.resize的第二个参数dim是(W, H)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.resize(array, (W, H))</span><br></pre></td></tr></table></figure>

<h3 id="copyMakeBorder"><a href="#copyMakeBorder" class="headerlink" title="copyMakeBorder"></a>copyMakeBorder</h3><p>cv2.copyMakeBorder的第二个到第五个参数是top, bottom, left, right，是先H后W</p>
<p>opencv中以左上角为原点，W方向为x，H方向为y</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">copyMakeBorder</span>(<span class="params">src, top, bottom, left, right, borderType, dst=<span class="literal">None</span>, value=<span class="literal">None</span></span>): <span class="comment"># real signature unknown; restored from __doc__</span></span><br></pre></td></tr></table></figure>

<p>**扩充src的边缘，将图像变大，**然后以各种外插方式自动填充图像边界,这个函数实际上调用了函数cv::borderInterpolate，这个函数最重要的功能就是为了处理边界，比如均值滤波或者中值滤波中，使用copyMakeBorder将原图稍微放大，然后我们就可以处理边界的情况了</p>
<h3 id="CV-demo-实现crop-pad"><a href="#CV-demo-实现crop-pad" class="headerlink" title="CV demo {实现crop,pad)"></a>CV demo {实现crop,pad)</h3><p>使用opencv-python 对图像进行resize和填充<br>在图像输入神经网络之前，需要进行一定的处理，假设神经网络的图像输入是256 256然后进行了224 224的random crop。</p>
<p>我们需要进行如下处理：</p>
<p>读入原始图像</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">image = cv2.imread(<span class="string">&quot;img.jpg&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>截取图像中有价值的部分</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">region = image[y1:y2, x1:x2]</span><br></pre></td></tr></table></figure>

<p>确定图片的长边和短边，然后把长边resize到224，保持纵横比的情况下resize短边</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">w, h = x2 - x1, y2 - y1 <span class="comment"># h, w = image.shape</span></span><br><span class="line">m = <span class="built_in">max</span>(w, h)</span><br><span class="line">ratio = <span class="number">224.0</span> / m</span><br><span class="line">new_w, new_h = <span class="built_in">int</span>(ratio * w), <span class="built_in">int</span>(ratio *h)</span><br><span class="line"><span class="keyword">assert</span> new_w &gt; <span class="number">0</span> <span class="keyword">and</span> new_h &gt; <span class="number">0</span></span><br><span class="line">resized = cv2.resize(region, (new_w, new_h))</span><br></pre></td></tr></table></figure>

<p>把图片进行填充，填充到256 256</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">W, H = <span class="number">256</span>, <span class="number">256</span></span><br><span class="line">top = (H - new_h) // <span class="number">2</span></span><br><span class="line">bottom = (H - new_h) // <span class="number">2</span></span><br><span class="line"><span class="keyword">if</span> top + bottom + h &lt; H:</span><br><span class="line">    bottom += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">left = (W - new_w) // <span class="number">2</span></span><br><span class="line">right = (W - new_w) // <span class="number">2</span></span><br><span class="line"><span class="keyword">if</span> left + right + w &lt; W:</span><br><span class="line">    right += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">pad_image = cv2.copyMakeBorder(resized, top, bottom, left, right, cv2.BORDER_CONSTANT, value = <span class="variable language_">self</span>.white)</span><br></pre></td></tr></table></figure>

<p>图片在输入网络之后，训练的时候进行random crop,就会发生有一部分被截取掉的情况，而这正是我们想要的图像增强<br>在test阶段，是进行centre crop,而正好把整个图像都截取出来，而这正是我们想要的<br>值得注意的是,image.shape，cv2.resize和cv2.copyMakeBorder几个函数</p>
<p>image.shape的输出是(H, W, C)</p>
<h2 id="三、形态变化"><a href="#三、形态变化" class="headerlink" title="三、形态变化"></a>三、形态变化</h2><ul>
<li>形态变化是基于图像中物体的形态进行一些简单变换,通常在二值化的图像上进行,</li>
</ul>
<h3 id="1-侵蚀"><a href="#1-侵蚀" class="headerlink" title="1.侵蚀"></a>1.侵蚀</h3><p>侵蚀的基本思想就像土壤侵蚀一样，侵蚀着物体前景色(白色)的边界。形态学处理内核在图像窗口中滑动,只有当内核下的所有像素都为1时，原始图像中的像素(1或0)才会被视为1，否则它将被侵蚀(变为零)。<em><strong>我要说话</strong></em></p>
<p>因此最终的表现就是，所有靠近前景色边界的像素都将而被丢弃,内核尺寸越大丢的越多,即白色的区域会减小。这种操作对于消除小的白色噪声(如我们在色彩空间一章中所看到的)、分离两个连接的对象等非常有用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pltShow</span>(<span class="params">img</span>):</span><br><span class="line">    dst = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)</span><br><span class="line">    plt.imshow(dst)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">testErosion</span>():</span><br><span class="line">    img = cv2.imread(<span class="string">&#x27;test.png&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">    kernel = np.ones((<span class="number">5</span>, <span class="number">5</span>), np.uint8)</span><br><span class="line">    erosion = cv2.erode(img, kernel, iterations=<span class="number">1</span>)</span><br><span class="line">    plt.subplot(<span class="number">121</span>),pltShow(img),plt.title(<span class="string">&quot;Origin&quot;</span>)</span><br><span class="line">    plt.subplot(<span class="number">122</span>),pltShow(erosion),plt.title(<span class="string">&quot;Erosion&quot;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/16/Sub_Language/CVs/Language-cv2/2024-05-21-16-46-18-image.png"></p>
<h3 id="2-膨胀"><a href="#2-膨胀" class="headerlink" title="2.膨胀"></a>2.膨胀</h3><p>膨胀的效果正好与侵蚀相反，如果内核下至少有一个像素为“1”，则像素元素为“1”。因此，它增加了图像中的白色区域(前景对象)的大小。<em><strong>我要说话</strong></em></p>
<p>在去除噪音的时候，一般采用的操作是侵蚀之后再膨胀。侵蚀消除了白色的噪音，但它也缩小了物体,所以需要通过膨胀来还原。而噪音已经在侵蚀的过程中消失，膨胀的时候也不会再出现。例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">img_3 = cv2.imread(img_path, mode)</span><br><span class="line">erosion = cv2.dilate(img_3, kernel, iterations=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h3 id="3-开运算"><a href="#3-开运算" class="headerlink" title="3 开运算"></a>3 开运算</h3><p>开运算就是2节中讲到的先侵蚀再膨胀的操作,可以认为是个语法糖吧。(外部杂点去除)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">testOpen</span>():</span><br><span class="line">    img = cv2.imread(<span class="string">&quot;test2.png&quot;</span>, <span class="number">0</span>)</span><br><span class="line">    kernel = np.ones((<span class="number">5</span>,<span class="number">5</span>), np.uint8)</span><br><span class="line">    erosion = cv2.erode(img, kernel, iterations=<span class="number">1</span>)</span><br><span class="line">    dilateAfterErosion = cv2.dilate(erosion, kernel, iterations=<span class="number">1</span>)</span><br><span class="line">    opening = cv2.morphologyEx(img, cv2.MORPH_OPEN, kernel)</span><br><span class="line">    plt.subplot(<span class="number">131</span>), pltShow(img), plt.title(<span class="string">&quot;Origin&quot;</span>)</span><br><span class="line">    plt.subplot(<span class="number">132</span>), pltShow(dilateAfterErosion), plt.title(<span class="string">&quot;DilateAfterErosion&quot;</span>)</span><br><span class="line">    plt.subplot(<span class="number">133</span>), pltShow(opening), plt.title(<span class="string">&quot;Opening&quot;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/16/Sub_Language/CVs/Language-cv2/2024-05-21-16-56-16-image.png"></p>
<h3 id="4-闭运算"><a href="#4-闭运算" class="headerlink" title="4 闭运算"></a>4 闭运算</h3><p>顾名思义,开运算与闭运算是相反的语法糖——先膨胀再侵蚀,其作用也可以想象到了,可以填充上物体内部的杂点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">testClose</span>():</span><br><span class="line">    img = cv2.imread(<span class="string">&quot;test3.png&quot;</span>, <span class="number">0</span>)</span><br><span class="line">    kernel = np.ones((<span class="number">5</span>,<span class="number">5</span>), np.uint8)</span><br><span class="line">    dilate = cv2.dilate(img, kernel, iterations=<span class="number">1</span>)</span><br><span class="line">    erosionAfterDilate = cv2.erode(dilate, kernel, iterations=<span class="number">1</span>)</span><br><span class="line">    closing = cv2.morphologyEx(img, cv2.MORPH_CLOSE, kernel)</span><br><span class="line">    plt.subplot(<span class="number">131</span>), pltShow(img), plt.title(<span class="string">&quot;Origin&quot;</span>)</span><br><span class="line">    plt.subplot(<span class="number">132</span>), pltShow(erosionAfterDilate), plt.title(<span class="string">&quot;ErosionAfterDilate&quot;</span>)</span><br><span class="line">    plt.subplot(<span class="number">133</span>), pltShow(closing), plt.title(<span class="string">&quot;Closing&quot;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/16/Sub_Language/CVs/Language-cv2/2024-05-21-16-57-40-image.png"></p>
<h3 id="5-形态梯度"><a href="#5-形态梯度" class="headerlink" title="5.形态梯度"></a>5.形态梯度</h3><p>出现梯度变化的地方前景色保留,其它的去掉,用于检测边缘</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">testGradient</span>():</span><br><span class="line">    img = cv2.imread(<span class="string">&#x27;test.png&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">    kernel = np.ones((<span class="number">2</span>, <span class="number">2</span>), np.uint8)</span><br><span class="line">    gradient = cv2.morphologyEx(img, cv2.MORPH_GRADIENT, kernel)</span><br><span class="line">    plt.subplot(<span class="number">121</span>), pltShow(img), plt.title(<span class="string">&quot;Origin&quot;</span>)</span><br><span class="line">    plt.subplot(<span class="number">122</span>), pltShow(gradient), plt.title(<span class="string">&quot;Gradient&quot;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/16/Sub_Language/CVs/Language-cv2/2024-05-21-16-59-56-image.png"></p>
<h3 id="6-tophat"><a href="#6-tophat" class="headerlink" title="6.tophat"></a>6.tophat</h3><p>顶帽 &#x3D; 原图 - 开运算</p>
<p>开运算的效果是去除图像外的噪点，因此<strong>原图 - 开运算就得到了去掉的噪点</strong>。</p>
<p>通过API — <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=morphologyEx&spm=1001.2101.3001.7020">morphologyEx</a>（img， <strong>MORPH_TOPHAT</strong>， kernel）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">cv2.namedWindow(<span class="string">&quot;img&quot;</span>, cv2.WINDOW_NORMAL)</span><br><span class="line">cv2.resizeWindow(<span class="string">&quot;img&quot;</span>, <span class="number">640</span>, <span class="number">480</span>)</span><br><span class="line">img = cv2.imread(<span class="string">&quot;i.png&quot;</span>)</span><br><span class="line">kernel = cv2.getStructuringElement(cv2.MORPH_RECT, (<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">new_img = cv2.morphologyEx(img, cv2.MORPH_TOPHAT, kernel, iterations=<span class="number">1</span>)</span><br><span class="line">cv2.imshow(<span class="string">&quot;img&quot;</span>, np.hstack((img, new_img)))</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/16/Sub_Language/CVs/Language-cv2/2024-05-21-17-07-38-image.png"></p>
<h3 id="7-blackhat"><a href="#7-blackhat" class="headerlink" title="7. blackhat"></a>7. blackhat</h3><p>黑帽 &#x3D; 原图 - 闭运算</p>
<p>闭运算可以将图形内部的噪声点去掉，那么<strong>原图 - 闭运算的结果就是图形内部的噪声点</strong>。</p>
<p>通过API — morphologyEx（img， MORPH_BLACKHAT， kernel）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">cv2.namedWindow(<span class="string">&quot;img&quot;</span>, cv2.WINDOW_NORMAL)</span><br><span class="line">cv2.resizeWindow(<span class="string">&quot;img&quot;</span>, <span class="number">640</span>, <span class="number">480</span>)</span><br><span class="line">img = cv2.imread(<span class="string">&quot;is.png&quot;</span>)</span><br><span class="line">kernel = cv2.getStructuringElement(cv2.MORPH_RECT, (<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line"><span class="comment"># 黑帽操作</span></span><br><span class="line">new_img = cv2.morphologyEx(img, cv2.MORPH_BLACKHAT, kernel, iterations=<span class="number">1</span>)</span><br><span class="line">cv2.imshow(<span class="string">&quot;img&quot;</span>, np.hstack((img, new_img)))</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

<p><img src="/2020/07/16/Sub_Language/CVs/Language-cv2/2024-05-21-17-07-24-image.png"></p>
<h3 id="8-自定义内核"><a href="#8-自定义内核" class="headerlink" title="8. 自定义内核"></a>8. 自定义内核</h3><h2 id="四、图像处理"><a href="#四、图像处理" class="headerlink" title="四、图像处理"></a>四、图像处理</h2><h3 id="图像金字塔"><a href="#图像金字塔" class="headerlink" title="图像金字塔"></a>图像金字塔</h3><h3 id="图像阈值操作"><a href="#图像阈值操作" class="headerlink" title="图像阈值操作"></a>图像阈值操作</h3><h2 id="五、仿射变换"><a href="#五、仿射变换" class="headerlink" title="五、仿射变换"></a>五、仿射变换</h2><ul>
<li><p>旋转（线性）</p>
</li>
<li><p>平移（向量加）</p>
</li>
<li><p>缩放（线性变换）</p>
</li>
</ul>
<h3 id="getAffineTransform"><a href="#getAffineTransform" class="headerlink" title="getAffineTransform"></a>getAffineTransform</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">warp_mat = getAffineTransform( srcTri, dstTri );</span><br><span class="line">warpAffine( src, warp_dst, warp_mat, warp_dst.size() );</span><br></pre></td></tr></table></figure>

<h3 id="rotation"><a href="#rotation" class="headerlink" title="rotation"></a>rotation</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rot_mat = getRotationMatrix2D( center, angle, scale );</span><br><span class="line">warpAffine( warp_dst, warp_rotate_dst, rot_mat, warp_dst.size() );</span><br></pre></td></tr></table></figure>

<h3 id="轮廓"><a href="#轮廓" class="headerlink" title="轮廓"></a>轮廓</h3><h3 id="rectangle-boundingRect"><a href="#rectangle-boundingRect" class="headerlink" title="rectangle &amp; boundingRect"></a>rectangle &amp; boundingRect</h3><p><img src="/2020/07/16/Sub_Language/CVs/Language-cv2/boundingrect.png" alt="Bounding Rectangle"></p>
<p>然后利用<code>cv2.rectangle(img, (x,y), (x+w,y+h), (0,255,0), 2)</code>画出矩行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">参数解释</span><br><span class="line">第一个参数：img是原图</span><br><span class="line">第二个参数：（x，y）是矩阵的左上点坐标</span><br><span class="line">第三个参数：（x+w，y+h）是矩阵的右下点坐标</span><br><span class="line">第四个参数：（0,255,0）是画线对应的rgb颜色</span><br><span class="line">第五个参数：2是所画的线的宽度</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用绿色(0, 255, 0)来画出最小的矩形框架</span></span><br><span class="line">x, y, w, h = cv2.boundingRect(cnt)</span><br><span class="line">cv2.rectangle(img, (x, y), (x+w, y+h), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用红色表示有旋转角度的矩形框架</span></span><br><span class="line">rect = cv2.minAreaRect(cnt)</span><br><span class="line">box = cv2.cv.BoxPoints(rect)</span><br><span class="line">box = np.int0(box)</span><br><span class="line">cv2.drawContours(img, [box], <span class="number">0</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">cv2.imwrite(<span class="string">&#x27;contours.png&#x27;</span>, img)</span><br></pre></td></tr></table></figure>

<h2 id="七、Video-api"><a href="#七、Video-api" class="headerlink" title="七、Video api"></a>七、Video api</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、表示打开笔记本的内置摄像头，</span></span><br><span class="line">cap = cv2.VideoCapture(<span class="number">0</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 视频文件路径</span></span><br><span class="line">cap = cv2.VideoCapture(“../test.avi”)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line">ret,frame = cap.read()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4</span></span><br><span class="line">cap.release()</span><br></pre></td></tr></table></figure>

<h2 id="八、应用"><a href="#八、应用" class="headerlink" title="八、应用"></a>八、应用</h2><h3 id="Sobel导数"><a href="#Sobel导数" class="headerlink" title="Sobel导数"></a>Sobel导数</h3><p>如何计算梯度，以及如何使用梯度来检测边缘。</p>
<h3 id="Laplace算子"><a href="#Laplace算子" class="headerlink" title="Laplace算子"></a>Laplace算子</h3><p>边缘检测算法。</p>
<h3 id="Canny边缘检测"><a href="#Canny边缘检测" class="headerlink" title="Canny边缘检测"></a>Canny边缘检测</h3><p>这儿是一个更高级的边缘检测算法。</p>
<h3 id="霍夫线变换"><a href="#霍夫线变换" class="headerlink" title="霍夫线变换"></a>霍夫线变换</h3><p>霍夫变换来检测直线。</p>
<h3 id="霍夫圆变换"><a href="#霍夫圆变换" class="headerlink" title="霍夫圆变换"></a>霍夫圆变换</h3><p>霍夫变换来检测圆。</p>
<h3 id="Remapping重映射"><a href="#Remapping重映射" class="headerlink" title="Remapping重映射"></a>Remapping重映射</h3><p>两副图像之间建立坐标位置的映射。</p>
<h2 id="九、CV-Face"><a href="#九、CV-Face" class="headerlink" title="九、CV Face"></a>九、CV Face</h2><h3 id="CascadeClassifier"><a href="#CascadeClassifier" class="headerlink" title="CascadeClassifier"></a>CascadeClassifier</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">haarcascade_eye.xml</span><br><span class="line">haarcascade_eye_tree_eyeglasses.xml</span><br><span class="line">haarcascade_frontalcatface.xml</span><br><span class="line">haarcascade_frontalcatface_extended.xml</span><br><span class="line">haarcascade_frontalface_alt.xml</span><br><span class="line">haarcascade_frontalface_alt2.xml</span><br><span class="line">haarcascade_frontalface_alt_tree.xml</span><br><span class="line">haarcascade_frontalface_default.xml</span><br><span class="line">haarcascade_fullbody.xml</span><br><span class="line">haarcascade_lefteye_2splits.xml</span><br><span class="line">haarcascade_licence_plate_rus_16stages.xml</span><br><span class="line">haarcascade_lowerbody.xml</span><br><span class="line">haarcascade_profileface.xml</span><br><span class="line">haarcascade_righteye_2splits.xml</span><br><span class="line">haarcascade_russian_plate_number.xml</span><br><span class="line">haarcascade_smile.xml</span><br><span class="line">haarcascade_upperbody.xml</span><br></pre></td></tr></table></figure>

<h3 id="1、人脸检测"><a href="#1、人脸检测" class="headerlink" title="1、人脸检测"></a>1、人脸检测</h3><p>cv.CascadeClassifier</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 人脸检测haarcascade_frontalface_default</span><br><span class="line">faceCascade = cv2.CascadeClassifier(&quot;XML/haarcascade_frontalface_default.xml&quot;)</span><br></pre></td></tr></table></figure>

<h2 id="Dlib"><a href="#Dlib" class="headerlink" title="Dlib"></a>Dlib</h2><p>人脸提取+关键点检测</p>
<blockquote>
<p>CNN人脸检测模型名称: mmod_human_face_detector.dat.bz2</p>
<p>68维人脸检测模型名称: shape_predictor_68_face_landmarks.dat.bz2</p>
</blockquote>
<blockquote>
<p>5维人脸检测模型名称 shape_predictor_5_face_landmarks.dat.bz2</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">detector = dlib.cnn_face_detection_model_v1(face_detector_model_path)  <span class="comment"># dlib.cnn_face_detection_model_v1</span></span><br><span class="line"><span class="comment"># detector = dlib.get_frontal_face_detector()</span></span><br><span class="line"></span><br><span class="line">predictor = dlib.shape_predictor(<span class="string">&#x27;shape_predictor_68_face_landmarks.dat&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">detections = detector(img, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># step 3. get shape of one face for example</span></span><br><span class="line">detection = detections[<span class="number">0</span>]  <span class="comment"># dlib.mmod_rectangle</span></span><br><span class="line"><span class="comment"># the mmod_rectangle contains two parts : confidence and rect</span></span><br><span class="line"></span><br><span class="line">shape = predictor(img, detection.rect)  <span class="comment"># dlib.full_object_detection</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># step 4. get all the face landmark points</span></span><br><span class="line">landmark_points = shape.parts() <span class="comment"># dlib.points</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/07/15/Sub_Language/DL_Train/Pytorch/doc-pytorch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/15/Sub_Language/DL_Train/Pytorch/doc-pytorch/" class="post-title-link" itemprop="url">PyTorch Doc Detail</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-15 10:54:51" itemprop="dateCreated datePublished" datetime="2020-07-15T10:54:51+00:00">2020-07-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DNN-platform/" itemprop="url" rel="index"><span itemprop="name">DNN_platform</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DNN-platform/pytorch/" itemprop="url" rel="index"><span itemprop="name">pytorch</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>APIs</p>
<p>[TOC]</p>
<h2 id="Tensor"><a href="#Tensor" class="headerlink" title="Tensor"></a>Tensor</h2><h3 id="pytorch"><a href="#pytorch" class="headerlink" title="pytorch"></a>pytorch</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1 list-&gt;tensor</span></span><br><span class="line">data = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]]</span><br><span class="line">x_data = torch.tensor(data, dtype=torch.<span class="built_in">float</span>)</span><br><span class="line"><span class="comment">### torch.FloatTensor, torch.DoubleTensor</span></span><br><span class="line">float_tensor = torch.FloatTensor([<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#2 np.array -&gt; tensor</span></span><br><span class="line">np_array = np.array(data)</span><br><span class="line">x_np_data = torch.from_numpy(data)</span><br><span class="line"></span><br><span class="line"><span class="comment">#3 tensor -&gt; tensor</span></span><br><span class="line">x_ones = torch.ones_like(x_data)</span><br><span class="line">x_rand = torch.rand_like(x_data, dtype=torch.<span class="built_in">float</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#4 new empty tensor</span></span><br><span class="line">shape = (<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">x_ones = torch.ones(shape)</span><br><span class="line">x_zeros = torch.zeros(shape)</span><br><span class="line">x_rand = torch.rand(shape)</span><br><span class="line"></span><br><span class="line"><span class="comment">#5  tensor to numpy</span></span><br><span class="line">tensor.numpy()</span><br></pre></td></tr></table></figure>

<h3 id="libtorch-c"><a href="#libtorch-c" class="headerlink" title="libtorch(c++)"></a>libtorch(c++)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1 数组 -&gt; Tensor</span></span><br><span class="line"><span class="type">int</span> data[<span class="number">10</span>] = &#123;<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>&#125;</span><br><span class="line">torch::Tensor x_data = torch::<span class="built_in">from_blob</span>(data,&#123;<span class="number">3</span>&#125;,torch::kFloat)</span><br><span class="line"></span><br><span class="line"><span class="comment">//2 vector -&gt; Tensor</span></span><br><span class="line">std::vector&lt;<span class="type">float</span>&gt; std_vector = &#123;<span class="number">3</span>，<span class="number">4</span>，<span class="number">6</span>&#125;;</span><br><span class="line">torch::Tensor vector_data = torch::<span class="built_in">from_brob</span>(std_vector.<span class="built_in">data</span>(),&#123;<span class="number">3</span>&#125;,torch::kFloat);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3 Tensor like</span></span><br><span class="line">torch::Tensor x = torch::<span class="built_in">zeros</span>(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line">torch::Tensor x_zeros = torch::<span class="built_in">zeros_like</span>(x);</span><br><span class="line">torch::Tensor x_ones = torch::<span class="built_in">ones_like</span>(x);</span><br><span class="line">torch::Tensor x_rand = torch::<span class="built_in">rand_like</span>(x);</span><br><span class="line"><span class="comment">//浅拷贝</span></span><br><span class="line">torch::Tensor y = x</span><br><span class="line"><span class="comment">//深拷贝</span></span><br><span class="line">torch::Tensor z = x.<span class="built_in">clone</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//4 new shape Tensor</span></span><br><span class="line">torch::Tensor x_ones = torch::<span class="built_in">ones</span>(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line">torch::Tensor x_zeros = torch::<span class="built_in">zeros</span>(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line">torch::Tensor x_eye = torch::<span class="built_in">eye</span>(<span class="number">4</span>);</span><br><span class="line">torch::Tensor x_full = torch::<span class="built_in">full</span>(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;,<span class="number">10</span>);</span><br><span class="line">torch::Tensor x_rand = torch::<span class="built_in">rand</span>(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line">torch::Tensor x_randn = torch::<span class="built_in">randn</span>(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line">torch::Tensor x_randint = torch::<span class="built_in">randint</span>(<span class="number">0</span>,<span class="number">4</span>,&#123;<span class="number">3</span>,<span class="number">3</span>&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="张量操作"><a href="#张量操作" class="headerlink" title="张量操作"></a>张量操作</h3><h4 id="pytorch-1"><a href="#pytorch-1" class="headerlink" title="pytorch"></a>pytorch</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># index + slice</span></span><br><span class="line">tensor = torch.rand(<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line">a = tensor[:, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># get mask</span></span><br><span class="line">Tensor[Mask]</span><br></pre></td></tr></table></figure>

<h4 id="libtorch-c-1"><a href="#libtorch-c-1" class="headerlink" title="libtorch(c++)"></a>libtorch(c++)</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index </span></span><br><span class="line"><span class="keyword">auto</span> x = torch::rand(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line">y = x[<span class="number">1</span>];</span><br><span class="line">y = x[<span class="number">1</span>][<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// slice</span></span><br><span class="line"><span class="keyword">auto</span> x = torch::rand(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line"><span class="keyword">auto</span> y = x.select(<span class="number">0</span>,<span class="number">1</span>); <span class="comment">// 第0维的第一层张量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> x = torch::rand(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line"><span class="keyword">auto</span> y = x.narrow(<span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>); <span class="comment">// 从第0维的第2层张量开始，选两层张量？</span></span><br><span class="line"><span class="keyword">auto</span> y = x.slice(<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>); <span class="comment">// 从第0维中，选第1维到第3-1维的张量 ？</span></span><br></pre></td></tr></table></figure>

<p>3、 提取指定元素形成新的张量（关键字index：就代表是提取出来相应的元素组成新的张量）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;b.index_select(<span class="number">0</span>,torch::tensor(&#123;<span class="number">0</span>, <span class="number">3</span>, <span class="number">3</span>&#125;)).sizes();<span class="comment">//选择第0维的0，3，3组成新张量[3,3,28,28]</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;b.index_select(<span class="number">1</span>,torch::tensor(&#123;<span class="number">0</span>,<span class="number">2</span>&#125;)).sizes(); <span class="comment">//选择第1维的第0和第2的组成新张量[10, 2, 28, 28]</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;b.index_select(<span class="number">2</span>,torch::arange(<span class="number">0</span>,<span class="number">8</span>)).sizes(); <span class="comment">//选择十张图片每个通道的前8列的所有像素[10, 3, 8, 28]</span></span><br><span class="line"></span><br><span class="line">Tensor x_data = torch::rand(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line">Tensor mask = torch::zeros(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line"></span><br><span class="line">mask[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">mask[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index()方法输入参量为布尔值组成的数组，输出参量为对应index的值组成新的张量(新的内存空间)</span></span><br><span class="line">Tensor x = x_data.index(&#123; mask.to(kBool) &#125;);    </span><br></pre></td></tr></table></figure>

<h3 id="张量基本运算"><a href="#张量基本运算" class="headerlink" title="张量基本运算"></a>张量基本运算</h3><p>3.1 pytorch<br>① 按元素的加减乘除正常使用±*&#x2F;的运算符即可<br>② 矩阵乘法：例如xx^T</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = torch.rand((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">y = x @ x.T</span><br><span class="line">y = x.matmul(x.T)</span><br></pre></td></tr></table></figure>

<p>3.2 torchlib<br>① 按元素的加减乘除正常使用±*&#x2F;的运算符即可<br>② 矩阵乘法：例如xx^T</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> x = torch::<span class="built_in">rand</span>(&#123;<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line">x.<span class="built_in">mm</span>(x.<span class="built_in">t</span>());</span><br></pre></td></tr></table></figure>

<h2 id="Init-Weight"><a href="#Init-Weight" class="headerlink" title="Init Weight"></a>Init Weight</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">torch.nn.init.xavier_uniform_(conv.weight)</span><br><span class="line">torch.nn.init.xavier_uniform_(conv.bias, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># REF: https://blog.csdn.net/qq_42995479/article/details/120598487</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># kaiming均匀分布</span></span><br><span class="line"><span class="comment"># torch.nn.init.kaiming_uniform_(tensor, a=0, mode=&#x27;fan_in&#x27;, nonlinearity=&#x27;leaky_relu&#x27;)</span></span><br><span class="line"><span class="comment"># 服从 U(-a, a), a = sqrt(6 / (1 + b ^2) * fan_in), 其中b为激活函数的负半轴的斜率， relu是0</span></span><br><span class="line"><span class="comment"># model 可以是fan_in或者fan_out。fan_in 表示使正向传播时，方差一致； fan_out使反向传播时， 方差一致</span></span><br><span class="line"><span class="comment"># nonlinearity 可选为relu和leaky_relu， 默认是leaky_relu</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># kaiming正态分布,  N～ (0,std)，其中std = sqrt(2/(1+b^2)*fan_in)</span></span><br><span class="line"><span class="comment"># torch.nn.init.kaiming_normal_(tensor, a=0, mode=&#x27;fan_in&#x27;, nonlinearity=&#x27;leaky_relu&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> net.modules():</span><br><span class="line">     <span class="keyword">if</span> <span class="built_in">isinstance</span>(m, torch.nn.Conv2d):</span><br><span class="line">          nn.kaiming_normal_(m.weight, mode = <span class="string">&#x27;fan_in&#x27;</span>)</span><br><span class="line">          nn.init.kaiming_normal_(m.weight, mode=<span class="string">&#x27;fan_out&#x27;</span>, nonlinearity=<span class="string">&#x27;relu&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="API-tensor"><a href="#API-tensor" class="headerlink" title="API-tensor"></a>API-tensor</h2><p><a target="_blank" rel="noopener" href="https://pytorch.org/docs/stable/torch.html">torch &mdash; PyTorch 2.0 documentation</a></p>
<img src="/2020/07/15/Sub_Language/DL_Train/Pytorch/doc-pytorch/2024-04-30-10-03-27-image.png" title alt width="633">

<h3 id="torch-reshape"><a href="#torch-reshape" class="headerlink" title="torch.reshape()"></a>torch.reshape()</h3><p><strong>torch.reshape用来改变tensor的shape。</strong><br><strong>torch.reshape(tensor,shape)</strong></p>
<h3 id="tensor-squeeze"><a href="#tensor-squeeze" class="headerlink" title="tensor.squeeze()"></a>tensor.squeeze()</h3><p><strong>维度压缩</strong></p>
<p>如果 <strong>input</strong> 的形状为 <strong>(A×1×B×C×1×D)</strong>，那么返回的tensor的形状则为 <strong>(A×B×C×D)</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = torch.zeros(<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.size()</span><br><span class="line">torch.Size([<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = torch.squeeze(x)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y.size()</span><br><span class="line">torch.Size([<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = torch.squeeze(x, <span class="number">0</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y.size()</span><br><span class="line">torch.Size([<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = torch.squeeze(x, <span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y.size()</span><br><span class="line">torch.Size([<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = torch.squeeze(x, (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">torch.Size([<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<h3 id="tensor-unsqueenze"><a href="#tensor-unsqueenze" class="headerlink" title="tensor.unsqueenze()"></a>tensor.unsqueenze()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = torch.tensor([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.unsqueeze(x, <span class="number">0</span>)</span><br><span class="line">tensor([[ <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.unsqueeze(x, <span class="number">1</span>)</span><br><span class="line">tensor([[ <span class="number">1</span>],</span><br><span class="line">        [ <span class="number">2</span>],</span><br><span class="line">        [ <span class="number">3</span>],</span><br><span class="line">        [ <span class="number">4</span>]])</span><br></pre></td></tr></table></figure>

<h3 id="torch-gather函数"><a href="#torch-gather函数" class="headerlink" title="torch.gather函数"></a>torch.gather函数</h3><p>​    (todo)</p>
<p>​    图解PyTorch中的 []<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/352877584">https://zhuanlan.zhihu.com/p/352877584</a></p>
<h3 id="torch-flatten"><a href="#torch-flatten" class="headerlink" title="torch.flatten()"></a>torch.flatten()</h3><p>扁平化</p>
<p>torch.flatten(t, start_dim&#x3D;0, end_dim&#x3D;-1) 的实现原理如下。假设类型为 torch.tensor 的张量 t 的形状如下所示：(2,4,3,5,6)，则 torch.flatten(t, 1, 3).shape 的结果为 (2, 60, 6)。将索引为 start_dim 和 end_dim 之间（包括该位置）的数量相乘【1，2，3维度的数据扁平化处理合成一个维度】，其余位置不变。因为默认 start_dim&#x3D;0，end_dim&#x3D;-1，所以 torch.flatten(t) 返回只有一维的数据。</p>
<p><img src="/2020/07/15/Sub_Language/DL_Train/Pytorch/doc-pytorch/image-20220630094510503.png" alt="image-20220630094510503"></p>
<h3 id="mean"><a href="#mean" class="headerlink" title="mean()"></a>mean()</h3><p>        求均值</p>
<h3 id="var"><a href="#var" class="headerlink" title="var()"></a>var()</h3><p>        求方差</p>
<h3 id="item"><a href="#item" class="headerlink" title="item()"></a>item()</h3><p>        .item()用于在只包含一个元素的<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=tensor&spm=1001.2101.3001.7020">tensor</a>中提取值，注意是只包含一个元素，否则的话使用.tolist()</p>
<h3 id="tolist"><a href="#tolist" class="headerlink" title="tolist()"></a>tolist()</h3><p>        tensor转换为Python List</p>
<h3 id="permute"><a href="#permute" class="headerlink" title="permute"></a>permute</h3><ul>
<li><p>作用类似tf的transpose()</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.jb51.net/article/246243.htm">pytorch中permute()函数用法实例详解_python_脚本之家</a></p>
</li>
</ul>
<h3 id="mask"><a href="#mask" class="headerlink" title="mask"></a>mask</h3><p>pytorch提供mask机制用来提取数据中“感兴趣”的部分。过程如下：左边的矩阵是原数据，中间的mask是遮罩矩阵，标记为1的表明对这个位置的数据“感兴趣”-保留，反之舍弃。整个过程可以视作是在原数据上盖了一层mask，只有感兴趣的部分（值为1）显露出来，而其他部分则背遮住。</p>
<p><img src="/2020/07/15/Sub_Language/DL_Train/Pytorch/doc-pytorch/2024-04-17-19-19-50-image.png"></p>
<h4 id="torch-masked-fill-input-mask-value"><a href="#torch-masked-fill-input-mask-value" class="headerlink" title="torch.masked_fill(input, mask, value)"></a>torch.masked_fill(input, mask, value)</h4><p>参数：　　</p>
<ul>
<li>input：输入的原数据</li>
<li>mask：遮罩矩阵</li>
<li>value：被“遮住的”部分填充的数据，可以取0、1等值，数据类型不限，int、float均可</li>
</ul>
<p>返回值：一个和input相同size的masked-tensor</p>
<p>使用：</p>
<ul>
<li>output &#x3D; torch.masked_fill(input, mask, value)</li>
<li>output &#x3D; input.masked_fill(mask, value)</li>
</ul>
<h4 id="torch-masked-select-input-mask-out"><a href="#torch-masked-select-input-mask-out" class="headerlink" title="torch.masked_select(input, mask, out)"></a>torch.masked_select(input, mask, out)</h4><p>参数：　　</p>
<ul>
<li>input：输入的原数据</li>
<li>mask：遮罩矩阵</li>
<li>out：输出的结果，和原tensor不共用内存，一般在左侧接收，而不在形参中赋值</li>
</ul>
<p>返回值：一维tensor，数据为“选中”的数据</p>
<p>使用：</p>
<ul>
<li>torch.masked_select(input, mask, out)</li>
<li>output &#x3D; input.masked_select(mask)</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">selected_ele = torch.masked_select(input=imgs, mask=mask)  # true表示selected，false则未选中，所以这里没有取反</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">tensor([182.,  92.,  86., 157., 148.,  56.])</span></span><br></pre></td></tr></table></figure>

<h4 id="torch-masked-scatter-input-mask-source"><a href="#torch-masked-scatter-input-mask-source" class="headerlink" title="torch.masked_scatter(input, mask, source)"></a>torch.masked_scatter(input, mask, source)</h4><p>说明：将从input中mask得到的数据赋值到source-tensor中</p>
<p>参数：　　</p>
<ul>
<li>input：输入的原数据</li>
<li>mask：遮罩矩阵</li>
<li>source：遮罩矩阵的”样子“（全零还是全一或是其他），true表示遮住了</li>
</ul>
<p>返回值：一个和source相同size的masked-tensor</p>
<p>使用：</p>
<ul>
<li>output &#x3D; torch.masked_scatter(input, mask, source)</li>
<li>output &#x3D; input.masked_scatter(mask, source)</li>
</ul>
<h2 id="API-Model"><a href="#API-Model" class="headerlink" title="API-Model"></a>API-Model</h2><h4 id="train-mode-True"><a href="#train-mode-True" class="headerlink" title="train(mode&#x3D;True)"></a>train(mode&#x3D;True)</h4><p>将<code>module</code>设置为 <code>training mode</code>。</p>
<p>仅仅当模型中有<code>Dropout</code>和<code>BatchNorm</code>是才会有影响。</p>
<h4 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h4><p>将模型设置成<code>evaluation</code>模式</p>
<p>仅仅当模型中有<code>Dropout</code>和<code>BatchNorm</code>是才会有影响。</p>
<h2 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/68717029">pytorch多机多卡分布式训练</a></p>
<h3 id="BN使用注意事项"><a href="#BN使用注意事项" class="headerlink" title="BN使用注意事项"></a>BN使用注意事项</h3><p>model.eval()之后，pytorch会管理BN的参数，所以不需要TF那般麻烦；</p>
<p>$$<br>Y &#x3D; (X - running_mean) &#x2F; sqrt(running_var + eps) * gamma + beta<br>$$</p>
<p>其中gamma、beta为可学习参数（在pytorch中分别改叫weight和bias），训练时通过反向传播更新；而running_mean、running_var则是在前向时先由X计算出mean和var，再由mean和var以动量momentum来更新running_mean和running_var。</p>
<p>所以在训练阶段，running_mean和running_var在每次前向时更新一次；</p>
<p>在测试阶段，则通过net.eval()固定该BN层的running_mean和running_var，此时这两个值即为训练阶段最后一次前向时确定的值，并在<strong>整个测试阶段保持不变</strong>。</p>
<h3 id="torchrun"><a href="#torchrun" class="headerlink" title="torchrun"></a>torchrun</h3><p><a target="_blank" rel="noopener" href="https://pytorch.org/docs/stable/elastic/run.html">torchrun (Elastic Launch) &mdash; PyTorch 2.3 documentation</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Komach/article/details/130765773">关于集群分布式torchrun命令踩坑记录（自用）-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/74792767">【分布式训练】单机多卡的正确打开方式（三）：PyTorch</a></p>
<h2 id="Model-Save-Load"><a href="#Model-Save-Load" class="headerlink" title="Model Save &amp; Load"></a>Model Save &amp; Load</h2><h3 id="save-model"><a href="#save-model" class="headerlink" title="save model"></a>save model</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">torch.save(&#123;</span><br><span class="line">            <span class="string">&#x27;model_state_dict&#x27;</span>: &#123;k: _models[k].state_dict() <span class="keyword">for</span> k <span class="keyword">in</span> _models&#125;,</span><br><span class="line">            <span class="string">&#x27;optimizer_state_dict&#x27;</span>: &#123;k: optimizers[k].state_dict() <span class="keyword">for</span> k <span class="keyword">in</span> optimizers&#125;,</span><br><span class="line">            <span class="string">&quot;stats&quot;</span>: stats,</span><br><span class="line">            <span class="string">&#x27;flags&#x27;</span>: <span class="built_in">vars</span>(flags),</span><br><span class="line">            <span class="string">&#x27;frames&#x27;</span>: frames,</span><br><span class="line">            <span class="string">&#x27;position_frames&#x27;</span>: position_frames</span><br><span class="line">        &#125;, checkpointpath)</span><br></pre></td></tr></table></figure>

<h3 id="save-state-dict"><a href="#save-state-dict" class="headerlink" title="save state_dict()"></a>save state_dict()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.save(learner_model.get_model(position).state_dict(), model_weights_dir)</span><br></pre></td></tr></table></figure>

<h3 id="Saving-Loading-Model"><a href="#Saving-Loading-Model" class="headerlink" title="Saving &amp; Loading Model"></a>Saving &amp; Loading Model</h3><p><strong>Save:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.save(model.state_dict(), PATH)</span><br></pre></td></tr></table></figure>

<p><strong>Load:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model = TheModelClass(*args, **kwargs)</span><br><span class="line">model.load_state_dict(torch.load(PATH))</span><br><span class="line">model.<span class="built_in">eval</span>()</span><br></pre></td></tr></table></figure>

<h3 id="Save-Load-Entire-Model"><a href="#Save-Load-Entire-Model" class="headerlink" title="Save&#x2F;Load Entire Model"></a>Save&#x2F;Load Entire Model</h3><p><a target="_blank" rel="noopener" href="https://pytorch.org/tutorials/beginner/saving_loading_models.html#save-load-entire-model">Officle </a></p>
<p><strong>Save:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.save(model, PATH)</span><br></pre></td></tr></table></figure>

<p><strong>Load:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Model class must be defined somewhere</span></span><br><span class="line">model = torch.load(PATH)</span><br><span class="line">model.<span class="built_in">eval</span>()</span><br></pre></td></tr></table></figure>

<h3 id="Export-Load-Model-in-TorchScript-Format"><a href="#Export-Load-Model-in-TorchScript-Format" class="headerlink" title="Export&#x2F;Load Model in TorchScript Format"></a>Export&#x2F;Load Model in TorchScript Format</h3><p><strong>Export:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">model_scripted = torch.jit.script(model) <span class="comment"># Export to TorchScript</span></span><br><span class="line">model_scripted.save(<span class="string">&#x27;model_scripted.pt&#x27;</span>) <span class="comment"># Save</span></span><br></pre></td></tr></table></figure>

<p><strong>Load:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">model = torch.jit.load(<span class="string">&#x27;model_scripted.pt&#x27;</span>)</span><br><span class="line">model.<span class="built_in">eval</span>()</span><br></pre></td></tr></table></figure>

<h3 id="Saving-Loading-a-General-Checkpoint-for-Inference-and-or-Resuming-Training"><a href="#Saving-Loading-a-General-Checkpoint-for-Inference-and-or-Resuming-Training" class="headerlink" title="Saving &amp; Loading a General Checkpoint for Inference and&#x2F;or Resuming Training"></a>Saving &amp; Loading a General Checkpoint for Inference and&#x2F;or Resuming Training</h3><p>Save:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">torch.save(&#123;</span><br><span class="line">            <span class="string">&#x27;epoch&#x27;</span>: epoch,</span><br><span class="line">            <span class="string">&#x27;model_state_dict&#x27;</span>: model.state_dict(),</span><br><span class="line">            <span class="string">&#x27;optimizer_state_dict&#x27;</span>: optimizer.state_dict(),</span><br><span class="line">            <span class="string">&#x27;loss&#x27;</span>: loss,</span><br><span class="line">            ...</span><br><span class="line">            &#125;, PATH)</span><br></pre></td></tr></table></figure>

<p>Load:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">model = TheModelClass(*args, **kwargs)</span><br><span class="line">optimizer = TheOptimizerClass(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">checkpoint = torch.load(PATH)</span><br><span class="line">model.load_state_dict(checkpoint[<span class="string">&#x27;model_state_dict&#x27;</span>])</span><br><span class="line">optimizer.load_state_dict(checkpoint[<span class="string">&#x27;optimizer_state_dict&#x27;</span>])</span><br><span class="line">epoch = checkpoint[<span class="string">&#x27;epoch&#x27;</span>]</span><br><span class="line">loss = checkpoint[<span class="string">&#x27;loss&#x27;</span>]</span><br><span class="line"></span><br><span class="line">model.<span class="built_in">eval</span>()</span><br><span class="line"><span class="comment"># - or -</span></span><br><span class="line">model.train()</span><br></pre></td></tr></table></figure>

<h3 id="Saving-Multiple-Models-in-One-File"><a href="#Saving-Multiple-Models-in-One-File" class="headerlink" title="Saving Multiple Models in One File"></a>Saving Multiple Models in One File</h3><p>Save:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">torch.save(&#123;</span><br><span class="line">            &#x27;modelA_state_dict&#x27;: modelA.state_dict(),</span><br><span class="line">            &#x27;modelB_state_dict&#x27;: modelB.state_dict(),</span><br><span class="line">            &#x27;optimizerA_state_dict&#x27;: optimizerA.state_dict(),</span><br><span class="line">            &#x27;optimizerB_state_dict&#x27;: optimizerB.state_dict(),</span><br><span class="line">            ...</span><br><span class="line">            &#125;, PATH)</span><br></pre></td></tr></table></figure>

<p>Load:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">modelA = TheModelAClass(*args, **kwargs)</span><br><span class="line">modelB = TheModelBClass(*args, **kwargs)</span><br><span class="line">optimizerA = TheOptimizerAClass(*args, **kwargs)</span><br><span class="line">optimizerB = TheOptimizerBClass(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">checkpoint = torch.load(PATH)</span><br><span class="line">modelA.load_state_dict(checkpoint[&#x27;modelA_state_dict&#x27;])</span><br><span class="line">modelB.load_state_dict(checkpoint[&#x27;modelB_state_dict&#x27;])</span><br><span class="line">optimizerA.load_state_dict(checkpoint[&#x27;optimizerA_state_dict&#x27;])</span><br><span class="line">optimizerB.load_state_dict(checkpoint[&#x27;optimizerB_state_dict&#x27;])</span><br><span class="line"></span><br><span class="line">modelA.eval()</span><br><span class="line">modelB.eval()</span><br><span class="line"># - or -</span><br><span class="line">modelA.train()</span><br><span class="line">modelB.train()</span><br></pre></td></tr></table></figure>

<h3 id="Warmstarting-Model-Using-Parameters-from-a-Different-Model"><a href="#Warmstarting-Model-Using-Parameters-from-a-Different-Model" class="headerlink" title="Warmstarting Model Using Parameters from a Different Model"></a>Warmstarting Model Using Parameters from a Different Model</h3><h3 id="Saving-Loading-Model-Across-Devices"><a href="#Saving-Loading-Model-Across-Devices" class="headerlink" title="Saving &amp; Loading Model Across Devices"></a>Saving &amp; Loading Model Across Devices</h3><p>Save:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.save(modelA.state_dict(), PATH)</span><br></pre></td></tr></table></figure>

<p>Load:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">modelB = TheModelBClass(*args, **kwargs)</span><br><span class="line">modelB.load_state_dict(torch.load(PATH), strict=False)</span><br></pre></td></tr></table></figure>

<h3 id="Save-on-GPU-Load-on-CPU"><a href="#Save-on-GPU-Load-on-CPU" class="headerlink" title="Save on GPU, Load on CPU"></a>Save on GPU, Load on CPU</h3><p><strong>Save:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.save(model.state_dict(), PATH)</span><br></pre></td></tr></table></figure>

<p><strong>Load:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">device = torch.device(&#x27;cpu&#x27;)</span><br><span class="line">model = TheModelClass(*args, **kwargs)</span><br><span class="line">model.load_state_dict(torch.load(PATH, map_location=device))</span><br></pre></td></tr></table></figure>

<h3 id="Save-on-GPU-Load-on-GPU"><a href="#Save-on-GPU-Load-on-GPU" class="headerlink" title="Save on GPU, Load on GPU"></a>Save on GPU, Load on GPU</h3><p><strong>Save:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.save(model.state_dict(), PATH)</span><br></pre></td></tr></table></figure>

<p><strong>Load:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">device = torch.device(<span class="string">&quot;cuda&quot;</span>)</span><br><span class="line">model = TheModelClass(*args, **kwargs)</span><br><span class="line">model.load_state_dict(torch.load(PATH))</span><br><span class="line">model.to(device)</span><br><span class="line"><span class="comment"># Make sure to call input = input.to(device) on any input tensors that you feed to the model</span></span><br></pre></td></tr></table></figure>

<h3 id="Save-on-CPU-Load-on-GPU"><a href="#Save-on-CPU-Load-on-GPU" class="headerlink" title="Save on CPU, Load on GPU"></a>Save on CPU, Load on GPU</h3><p><strong>Save:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.save(model.state_dict(), PATH)</span><br></pre></td></tr></table></figure>

<p><strong>Load:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">device = torch.device(&quot;cuda&quot;)</span><br><span class="line">model = TheModelClass(*args, **kwargs)</span><br><span class="line">model.load_state_dict(torch.load(PATH, map_location=&quot;cuda:0&quot;))  # Choose whatever GPU device number you want</span><br><span class="line">model.to(device)</span><br><span class="line"># Make sure to call input = input.to(device) on any input tensors that you feed to the model</span><br></pre></td></tr></table></figure>

<h3 id="Saving-torch-nn-DataParallel-Models"><a href="#Saving-torch-nn-DataParallel-Models" class="headerlink" title="Saving torch.nn.DataParallel Models"></a>Saving <code>torch.nn.DataParallel</code> Models</h3><p><strong>Save:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.save(model.module.state_dict(), PATH)</span><br></pre></td></tr></table></figure>

<p><strong>Load:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># Load to whatever device you want</span><br></pre></td></tr></table></figure>

<h2 id="模型参数-打印print"><a href="#模型参数-打印print" class="headerlink" title="模型参数(打印print)"></a>模型参数(打印print)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_model_param_names</span>(<span class="params">model</span>):</span><br><span class="line">    <span class="keyword">for</span> name, param <span class="keyword">in</span> model.named_parameters():</span><br><span class="line">        <span class="built_in">print</span>(name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_model_param_values</span>(<span class="params">model</span>):</span><br><span class="line">    <span class="keyword">for</span> name, param <span class="keyword">in</span> model.named_parameters():</span><br><span class="line">        <span class="built_in">print</span>(name, param.data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个模型实例</span></span><br><span class="line">model = torch.nn.Sequential(</span><br><span class="line">          torch.nn.Linear(<span class="number">10</span>, <span class="number">5</span>),</span><br><span class="line">          torch.nn.ReLU(),</span><br><span class="line">          torch.nn.Linear(<span class="number">5</span>, <span class="number">1</span>)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印模型的所有参数名</span></span><br><span class="line">print_model_param_names(model)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印模型的所有参数值</span></span><br><span class="line">print_model_param_values(model)</span><br></pre></td></tr></table></figure>

<p>此我们可以使用clone()方法来创建它们的副本。具体来说，我们可以使用clone()方法来创建一个张量的深拷贝，然后使用detach()方法来将其从计算图中分离，从而得到一个不会影响原始张量的新张量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打印模型的所有参数名和参数值，并取出参数值</span></span><br><span class="line">params = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> name, param <span class="keyword">in</span> model.named_parameters():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Parameter name:&#x27;</span>, name)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Parameter value:&#x27;</span>, param)</span><br><span class="line">    params[name] = param.clone().detach().numpy()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 断开图的链接</span></span><br><span class="line">model = <span class="literal">None</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/07/13/Sub_Language/PythonDoc/Language-pd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/13/Sub_Language/PythonDoc/Language-pd/" class="post-title-link" itemprop="url">tools_pandas APIs</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-13 20:20:52" itemprop="dateCreated datePublished" datetime="2020-07-13T20:20:52+00:00">2020-07-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/" itemprop="url" rel="index"><span itemprop="name">dev</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/python/pandas/" itemprop="url" rel="index"><span itemprop="name">pandas</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<h2 id="数据初始化"><a href="#数据初始化" class="headerlink" title="数据初始化"></a>数据初始化</h2><h3 id="1、readcsv"><a href="#1、readcsv" class="headerlink" title="1、readcsv"></a>1、readcsv</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(<span class="string">&#x27;file_path&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="2、"><a href="#2、" class="headerlink" title="2、"></a>2、</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(columns=[<span class="string">&#x27;index&#x27;</span>, <span class="string">&#x27;v2&#x27;</span>])</span><br><span class="line">df[<span class="string">&#x27;index&#x27;</span>] = np.arange(<span class="number">10</span>)</span><br><span class="line">df[<span class="string">&#x27;v2&#x27;</span>] = np.random.randn(<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 修改某行的v2列值</span></span><br><span class="line">df.loc[df.index==<span class="number">1</span>, <span class="string">&#x27;c&#x27;</span>] = <span class="string">&#x27;9&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="3、pd-和np转换"><a href="#3、pd-和np转换" class="headerlink" title="3、pd 和np转换"></a>3、pd 和np转换</h3><p>首先导入numpy模块、pandas模块、创建一个DataFrame类型数据df</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df=pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="string">&#x27;B&#x27;</span>:[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],<span class="string">&#x27;C&#x27;</span>:[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>使用DataFrame中的values方法</span><br><span class="line">df.values</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>使用DataFrame中的as_matrix()方法</span><br><span class="line">df.as_matrix()</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>使用Numpy中的array方法</span><br><span class="line">np.array(df)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>语法</th>
<th>操作</th>
<th>返回结果</th>
</tr>
</thead>
<tbody><tr>
<td><code>df.head(n)</code></td>
<td>查看 DataFrame 对象的前n行</td>
<td>DataFrame</td>
</tr>
<tr>
<td><code>df.tail(n)</code></td>
<td>查看 DataFrame 对象的最后n行</td>
<td>DataFrame</td>
</tr>
<tr>
<td><code>df.sample(n)</code></td>
<td>查看 n 个样本，随机</td>
<td>DataFrame</td>
</tr>
</tbody></table>
<h2 id="读取列"><a href="#读取列" class="headerlink" title="读取列"></a>读取列</h2><p>以下两种方法都可以代表一列：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&#x27;name&#x27;</span>] <span class="comment"># 会返回本列的 Series</span></span><br><span class="line">df.name</span><br><span class="line">df.Q1</span><br><span class="line"><span class="comment"># df.1Q 即使列名叫 1Q 也无法使用</span></span><br><span class="line"><span class="comment"># df.my name 有空格也无法调用，可以处理加上下划线</span></span><br></pre></td></tr></table></figure>

<p>注意，当列名为一个合法的 python 变量时可以直接作为属性去使用。</p>
<h2 id="读取部分行列"><a href="#读取部分行列" class="headerlink" title="读取部分行列"></a>读取部分行列</h2><p>有时我们需要按条件选择部分列、部分行，一般常用的有：</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>语法</th>
<th>返回结果</th>
</tr>
</thead>
<tbody><tr>
<td>选择列</td>
<td><code>df[col]</code></td>
<td>Series</td>
</tr>
<tr>
<td>按索引选择行</td>
<td><code>df.loc[label]</code></td>
<td>Series</td>
</tr>
<tr>
<td>按数字索引选择行</td>
<td><code>df.iloc[loc]</code></td>
<td>Series</td>
</tr>
<tr>
<td>使用切片选择行</td>
<td><code>df[5:10]</code></td>
<td>DataFrame</td>
</tr>
<tr>
<td>用表达式筛选行</td>
<td><code>df[bool_vec]</code></td>
<td>DataFrame</td>
</tr>
</tbody></table>
<p>以上操作称为 Fancy Indexing（花式索引），它来自 Numpy，是指传递一个索引序列，然后一次性得到多个索引元素。Fancy Indexing 和 slicing 不同，它通常将元素拷贝到新的数据对象中。索引中可以有切片 slice，或者省略 ellipsis、新轴 newaxis、布尔数组或者整数数组索引等，可以看做是一个多维切片。</p>
<p>接下来我们将重点介绍一下这些查询的方法。</p>
<h2 id="数据遍历"><a href="#数据遍历" class="headerlink" title="数据遍历"></a>数据遍历</h2><h3 id="1-使用-iterrows"><a href="#1-使用-iterrows" class="headerlink" title="1. 使用 .iterrows()"></a>1. 使用 <code>.iterrows()</code></h3><p><code>iterrows()</code> 方法返回 DataFrame 的索引标签和相应的行数据。这是一个迭代器，它会产生 (index, Series) 对，其中索引是行索引（如果有），Series 是该行的数据。</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建示例 DataFrame</span></span><br><span class="line">data = &#123;<span class="string">&#x27;A&#x27;</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="string">&#x27;B&#x27;</span>: [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历每一行</span></span><br><span class="line"><span class="keyword">for</span> index, row <span class="keyword">in</span> df.iterrows():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Index: <span class="subst">&#123;index&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Row data: <span class="subst">&#123;row&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure>

<h3 id="2-使用-itertuples"><a href="#2-使用-itertuples" class="headerlink" title="2. 使用 .itertuples()"></a>2. 使用 <code>.itertuples()</code></h3><p><code>itertuples()</code> 方法返回一个迭代器，用于迭代 DataFrame 行作为命名元组。这种方式比使用 <code>iterrows()</code> 更快一些，因为不需要创建 Series 对象。</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 遍历每一行</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> df.itertuples(index=<span class="literal">True</span>, name=<span class="string">&#x27;Pandas&#x27;</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Index: <span class="subst">&#123;row.Index&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Data: A=<span class="subst">&#123;row.A&#125;</span>, B=<span class="subst">&#123;row.B&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure>

<h3 id="3-使用-apply"><a href="#3-使用-apply" class="headerlink" title="3. 使用 .apply()"></a>3. 使用 <code>.apply()</code></h3><p><code>apply()</code> 方法可以应用于整个 DataFrame 或者沿着一个轴应用到每一列或每一行上。这里我们使用 <code>axis=1</code> 来对每一行应用函数。</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">process_row</span>(<span class="params">row</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Processing row: <span class="subst">&#123;row&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">df.apply(process_row, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h3 id="4-使用-loc-或-iloc"><a href="#4-使用-loc-或-iloc" class="headerlink" title="4. 使用 .loc 或 .iloc"></a>4. 使用 <code>.loc</code> 或 <code>.iloc</code></h3><p>如果你想要更灵活地访问特定行或列的数据，可以使用 <code>.loc</code> 或 <code>.iloc</code> 方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 .loc 按照标签索引访问</span></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> df.index:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Index: <span class="subst">&#123;index&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Row data: <span class="subst">&#123;df.loc[index]&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 .iloc 按照位置索引访问</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(df)):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Row <span class="subst">&#123;i&#125;</span> data: <span class="subst">&#123;df.iloc[i]&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure>

<h2 id="切片-行-列"><a href="#切片-行-列" class="headerlink" title="切片 [行&#x2F;列]"></a>切片 [行&#x2F;列]</h2><p>我们可以像列表那样利用切片功能选择部分行的数据，但是不支持索引一条：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df[:2] # 前两行数据</span><br><span class="line">df[4:10]</span><br><span class="line">df[:] # 所有数据，一般没这么用的</span><br><span class="line">df[:10:2] # 按步长取</span><br><span class="line">s[::-1] # 反转顺序</span><br></pre></td></tr></table></figure>

<p>也可以选择列：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df[&#x27;name&#x27;] # 只要一列，Series</span><br><span class="line">df[[&#x27;Q1&#x27;, &#x27;Q2&#x27;]] # 选择两列</span><br><span class="line">df[[&#x27;name&#x27;]] # 选择一列，返回 DataFrame，注意和上例区别</span><br></pre></td></tr></table></figure>

<h3 id="按标签-loc（行）"><a href="#按标签-loc（行）" class="headerlink" title="按标签 .loc（行）"></a>按标签 .loc（行）</h3><p><code>df.loc()</code> 的格式为 df.loc[&lt;索引表达式&gt;, &lt;列表达式&gt;]，表达式支持以下形式：</p>
<p>单个标签:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 代表索引，如果是字符需要加引号</span></span><br><span class="line">df.loc[<span class="number">0</span>] <span class="comment"># 选择索引为 0 的行</span></span><br><span class="line">df.loc[<span class="number">8</span>]</span><br></pre></td></tr></table></figure>

<p>单个列表标签：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name, value, socre, grade</span><br><span class="line">Eli,9,23,C</span><br><span class="line">Ben,8,89,A</span><br><span class="line">Tom,7,65,B</span><br><span class="line">Toni,6,34,C</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df.loc[[<span class="number">0</span>,<span class="number">5</span>,<span class="number">10</span>]] <span class="comment"># 指定索引 0，5，10 的行</span></span><br><span class="line">df.loc[[<span class="string">&#x27;Eli&#x27;</span>, <span class="string">&#x27;Ben&#x27;</span>]] <span class="comment"># 如果行索引是 name，提取所有列</span></span><br><span class="line">df.loc[[<span class="string">&#x27;Eli&#x27;</span>, <span class="string">&#x27;Ben&#x27;</span>],[<span class="string">&quot;name&quot;</span>, <span class="string">&quot;grade&quot;</span>]] <span class="comment"># 如果行索引是 name, 提取指定列</span></span><br><span class="line">df.loc[:,[<span class="string">&quot;name&quot;</span>, <span class="string">&quot;grade&quot;</span>]]</span><br><span class="line"><span class="comment"># 真假选择，长度要和索引一样</span></span><br><span class="line">df.loc[[<span class="literal">False</span>, <span class="literal">True</span>]*<span class="number">50</span>] <span class="comment"># 为真的列显示，隔一个显示一个</span></span><br></pre></td></tr></table></figure>

<p>带标签的切片，包括起始和停止<code>start:stop</code>， 可以其中只有一个，返回包括它们的数据：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df.loc[<span class="number">0</span>:<span class="number">5</span>] <span class="comment"># 索引切片, 代表0-5行，包括5</span></span><br><span class="line">df.loc[<span class="string">&#x27;2010&#x27;</span>:<span class="string">&#x27;2014&#x27;</span>] <span class="comment"># 如果索引是时间可以用字符查询</span></span><br><span class="line">df.loc[:] <span class="comment"># 所有</span></span><br><span class="line"><span class="comment"># 本方法支持 Series</span></span><br></pre></td></tr></table></figure>

<p>关于 loc 的更详细介绍可访问：<a target="_blank" rel="noopener" href="https://www.gairuo.com/p/pandas-loc">loc 查询数据行和列</a>。</p>
<p>进行切片操作，索引必须经过排序，意味着索引单调递增或者单调递减，以下代码中其中一个为 True，否则会引发 <code>KeyError</code> 错误。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 索引单调性</span></span><br><span class="line">(</span><br><span class="line">    df.index.is_monotonic_increasing,</span><br><span class="line">    df.index.is_monotonic_decreasing</span><br><span class="line">)</span><br><span class="line"><span class="comment"># (True, False)</span></span><br></pre></td></tr></table></figure>

<p>通过上边的规则可以先对索引排序再执行词义上的查询，如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 姓名开头从 Ad 到 Bo 的</span></span><br><span class="line">df.set_index(<span class="string">&#x27;name&#x27;</span>).sort_index().loc[<span class="string">&#x27;Ad&#x27;</span>:<span class="string">&#x27;Bo&#x27;</span>]</span><br><span class="line"><span class="comment"># 姓名开头从开始到 Bo 的</span></span><br><span class="line">df.set_index(<span class="string">&#x27;name&#x27;</span>).sort_index().loc[:<span class="string">&#x27;Bo&#x27;</span>]</span><br><span class="line"><span class="comment"># 团队名称从 C 到 D 的</span></span><br><span class="line">df.set_index(<span class="string">&#x27;team&#x27;</span>).sort_index().loc[<span class="string">&#x27;C&#x27;</span>: <span class="string">&#x27;D&#x27;</span>]</span><br><span class="line"><span class="comment"># 姓名开头从 Te 到 X 的</span></span><br><span class="line">df.sort_values(<span class="string">&#x27;name&#x27;</span>).set_index(<span class="string">&#x27;name&#x27;</span>).loc[<span class="string">&#x27;Te&#x27;</span>: <span class="string">&#x27;X&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>列筛选，必须有行元素：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dft.loc[:, [<span class="string">&#x27;Q1&#x27;</span>, <span class="string">&#x27;Q2&#x27;</span>]] <span class="comment"># 所有行，Q1 和 Q2两列</span></span><br><span class="line">dft.loc[:, [<span class="string">&#x27;Q1&#x27;</span>, <span class="string">&#x27;Q2&#x27;</span>]] <span class="comment"># 所有行，Q1 和 Q2两列</span></span><br><span class="line">dft.loc[:<span class="number">10</span>, <span class="string">&#x27;Q1&#x27;</span>:] <span class="comment"># 0-10 行，Q1后边的所有列</span></span><br></pre></td></tr></table></figure>

<h3 id="按位置-iloc"><a href="#按位置-iloc" class="headerlink" title="按位置 .iloc"></a>按位置 .iloc</h3><p><code>df.iloc</code> 与 <code>df.loc</code> 相似，但只能用自然索引（行和列的 0 - n 索引），不能用标签。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[:3]</span><br><span class="line">df.iloc[:]</span><br><span class="line">df.iloc[:, [1, 2]]</span><br><span class="line">df.iloc[2:20:3]</span><br><span class="line">s.iloc[:3]</span><br></pre></td></tr></table></figure>

<p>如果想筛选多个不连续的行列数据（使用 <code>np.r_</code>），可以使用以下方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 筛选索引0-4&amp;10&amp;5-29每两行取一个&amp;70-74</span><br><span class="line">df.iloc[np.r_[:5, 10, 15:30:2, 70:75]] # 行</span><br><span class="line">df.iloc[:, np.r_[0, 2:6]] # 列，0列和第2-5列</span><br><span class="line"># 也可以使用追加的方式拼接</span><br><span class="line">df.loc[:5].append(df.loc[10]).append(df.loc[15:30:2])</span><br></pre></td></tr></table></figure>

<p>关于 iloc 的更详细介绍可访问：<a target="_blank" rel="noopener" href="https://www.gairuo.com/p/pandas-iloc">iloc 数字索引位置选择</a>。</p>
<h3 id="取具体值-at"><a href="#取具体值-at" class="headerlink" title="取具体值 .at"></a>取具体值 .at</h3><p>类似于 loc, 但仅取一个具体的值，结构为 at[&lt;索引&gt;,&lt;列名&gt;]：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注：索引是字符需要加引号</span></span><br><span class="line">df.at[<span class="number">4</span>, <span class="string">&#x27;Q1&#x27;</span>] <span class="comment"># 65</span></span><br><span class="line">df.at[<span class="string">&#x27;lily&#x27;</span>, <span class="string">&#x27;Q1&#x27;</span>] <span class="comment"># 65 假定索引是 name</span></span><br><span class="line">df.at[<span class="number">0</span>, <span class="string">&#x27;name&#x27;</span>] <span class="comment"># &#x27;Liver&#x27;</span></span><br><span class="line">df.loc[<span class="number">0</span>].at[<span class="string">&#x27;name&#x27;</span>] <span class="comment"># &#x27;Liver&#x27;</span></span><br><span class="line"><span class="comment"># 指定列的值对应其他列的值</span></span><br><span class="line">df.set_index(<span class="string">&#x27;name&#x27;</span>).at[<span class="string">&#x27;Eorge&#x27;</span>, <span class="string">&#x27;team&#x27;</span>] <span class="comment"># &#x27;C&#x27;</span></span><br><span class="line">df.set_index(<span class="string">&#x27;name&#x27;</span>).team.at[<span class="string">&#x27;Eorge&#x27;</span>] <span class="comment"># &#x27;C&#x27;</span></span><br><span class="line"><span class="comment"># 指定列的对应索引的值</span></span><br><span class="line">df.team.at[<span class="number">3</span>] <span class="comment"># &#x27;C&#x27;</span></span><br></pre></td></tr></table></figure>

<p>同样 iat 和 iloc 一样，仅支持数字索引：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.iat[<span class="number">4</span>, <span class="number">2</span>] <span class="comment"># 65</span></span><br><span class="line">df.loc[<span class="number">0</span>].iat[<span class="number">1</span>] <span class="comment"># &#x27;E&#x27;</span></span><br></pre></td></tr></table></figure>

<p>.get 可以做类似字典的操作，如果无值给返回默认值（例中是0）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df.get(<span class="string">&#x27;name&#x27;</span>, <span class="number">0</span>) <span class="comment"># 是 name 列</span></span><br><span class="line">df.get(<span class="string">&#x27;nameXXX&#x27;</span>, <span class="number">0</span>) <span class="comment"># 0, 返回默认值</span></span><br><span class="line">s.get(<span class="number">3</span>, <span class="number">0</span>) <span class="comment"># 93, Series 传索引返回具体值</span></span><br><span class="line">df.name.get(<span class="number">99</span>, <span class="number">0</span>) <span class="comment"># &#x27;Ben&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="表达式筛选"><a href="#表达式筛选" class="headerlink" title="表达式筛选"></a>表达式筛选</h3><p><code>[]</code> 切片里可以使用表达式进行筛选：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df[df[&#x27;Q1&#x27;] == 8] # Q1 等于8</span><br><span class="line">df[~(df[&#x27;Q1&#x27;] == 8)] # 不等于8</span><br><span class="line">df[df.name == &#x27;Ben&#x27;] # 姓名为Ben</span><br><span class="line">df.loc[df[&#x27;Q1&#x27;] &gt; 90, &#x27;Q1&#x27;:]  # Q1 大于90，显示Q1后边的所有列</span><br><span class="line">df.loc[(df.Q1 &gt; 80) &amp; (df.Q2 &lt; 15)] # and 关系</span><br><span class="line">df.loc[(df.Q1 &gt; 90) | (df.Q2 &lt; 90)] # or 关系</span><br><span class="line">df[df.Q1 &gt; df.Q2]</span><br></pre></td></tr></table></figure>

<p><code>df.loc</code> 里的索引部分可以使用表达式进行数据筛选。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">df.loc[df[&#x27;Q1&#x27;] == 8] # 等于8</span><br><span class="line">df.loc[df.Q1 == 8] # 等于8</span><br><span class="line">df.loc[df[&#x27;Q1&#x27;] &gt; 90, &#x27;Q1&#x27;] # Q1 大于90，只显示 Q1 Series</span><br><span class="line">df.loc[df[&#x27;Q1&#x27;] &gt; 90, [&#x27;Q1&#x27;]]  # Q1 大于90，只显示 Q1 DataFrame</span><br><span class="line"># 其他表达式与切片一致</span><br><span class="line"></span><br><span class="line"># 通过列位置筛选列</span><br><span class="line">df.loc[:, lambda df: df.columns.str.len()==4] # 真假组成的序列</span><br><span class="line">df.loc[:, lambda df: [i for i in df.columns if &#x27;Q&#x27; in i]] # 列名列表</span><br><span class="line">df.iloc[:3, lambda df: df.columns.str.len()==2] # 真假组成的序列</span><br></pre></td></tr></table></figure>

<p>逻辑判断和函数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">df.eq() # 等于相等 ==</span><br><span class="line">df.ne() # 不等于 !=</span><br><span class="line">df.le() # 小于等于 &gt;=</span><br><span class="line">df.lt() # 小于 &lt;</span><br><span class="line">df.ge() # 大于等于 &gt;=</span><br><span class="line">df.gt() # 大于 &gt;</span><br><span class="line"># 都支持  axis&#123;0 or ‘index’, 1 or ‘columns’&#125;, default ‘columns’</span><br><span class="line">df[df.Q1.ne(89)] # Q1 不等于8</span><br><span class="line">df.loc[df.Q1.gt(90) &amp; df.Q2.lt(90)] # and 关系 Q1&gt;90 Q2&lt;90</span><br></pre></td></tr></table></figure>

<p>其他函数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># isin</span><br><span class="line">df[df.team.isin([&#x27;A&#x27;,&#x27;B&#x27;])] # 包含 AB 两组的</span><br><span class="line">df[df.isin(&#123;&#x27;team&#x27;: [&#x27;C&#x27;, &#x27;D&#x27;], &#x27;Q1&#x27;:[36,93]&#125;)] # 复杂查询，其他值为 NaN</span><br></pre></td></tr></table></figure>

<h3 id="函数筛选"><a href="#函数筛选" class="headerlink" title="函数筛选"></a>函数筛选</h3><p>函数生成具体的标签值或者同长度对应布尔索引，作用于筛选：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df[lambda df: df[&#x27;Q1&#x27;] == 8] # Q1为8的</span><br><span class="line">df.loc[lambda df: df.Q1 == 8, &#x27;Q1&#x27;:&#x27;Q2&#x27;] # Q1为8的, 显示 Q1 Q2</span><br><span class="line"># 选择字段时尽量使用字典法，属性法在条件表达式时一些情况可能有 bug</span><br></pre></td></tr></table></figure>

<p>函数不仅能应用在行位上，也能应用在列位上。</p>
<h2 id="str查询"><a href="#str查询" class="headerlink" title="str查询"></a>str查询</h2><h3 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">data[data.列名.<span class="built_in">str</span>.contains()]</span><br><span class="line">data[data.列名.<span class="built_in">str</span>.contains(<span class="string">&#x27;^某某&#x27;</span>)]</span><br><span class="line">data[data.列名.<span class="built_in">str</span>.contains(<span class="string">&#x27;某某&#x27;</span>)]</span><br><span class="line">data[data.列名.<span class="built_in">str</span>.contains(<span class="string">&#x27;某某$&#x27;</span>)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data[<span class="string">&#x27;列名&#x27;</span>]=data[<span class="string">&#x27;列名&#x27;</span>].apply(<span class="built_in">str</span>)<span class="comment">#把非字符串格式改为字符串格式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#// 多条件查询</span></span><br><span class="line">data[data.source.<span class="built_in">str</span>.contains(<span class="string">&#x27;某某|某某1&#x27;</span>)]</span><br><span class="line"><span class="comment"># 对条件查询结果进行删除</span></span><br><span class="line">data[-data.source.<span class="built_in">str</span>.contains(<span class="string">&#x27;某某|某某1&#x27;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment">#数据框去重</span></span><br><span class="line">DataFrame.drop_duplicates(subset=<span class="literal">None</span>,keep=<span class="string">&#x27;first&#x27;</span>,inplace=<span class="literal">False</span>)</span><br><span class="line"><span class="comment">#    按某列去重</span></span><br><span class="line">data.drop_duplicates(subset=<span class="string">&#x27;列名&#x27;</span>,keep=<span class="string">&#x27;first&#x27;</span>,inplace=<span class="literal">False</span>)</span><br><span class="line"><span class="comment">#    按多列去重</span></span><br><span class="line">data.drop_duplicates(subset=[<span class="string">&#x27;列名&#x27;</span>,<span class="string">&#x27;列名1&#x27;</span>],keep=<span class="string">&#x27;first&#x27;</span>,inplace=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<h2 id="df内置方法"><a href="#df内置方法" class="headerlink" title="df内置方法"></a>df内置方法</h2><h3 id="where-和-mask"><a href="#where-和-mask" class="headerlink" title="where 和 mask"></a>where 和 mask</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">s.where(s &gt; <span class="number">90</span>) <span class="comment"># 不符合条件的为 NaN</span></span><br><span class="line">s.where(s &gt; <span class="number">90</span>, <span class="number">0</span>) <span class="comment"># 不符合条件的为 0</span></span><br><span class="line"><span class="comment"># np.where, 大于80是真否则是假</span></span><br><span class="line">np.where(s&gt;<span class="number">80</span>, <span class="literal">True</span>, <span class="literal">False</span>)</span><br><span class="line">np.where(df.num&gt;=<span class="number">60</span>, <span class="string">&#x27;合格&#x27;</span>, <span class="string">&#x27;不合格&#x27;</span>)</span><br><span class="line"></span><br><span class="line">s.mask(s &gt; <span class="number">90</span>) <span class="comment"># 符合条件的为 NaN</span></span><br><span class="line">s.mask(s &gt; <span class="number">90</span>, <span class="number">0</span>) <span class="comment"># 符合条件的为 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 例：能被整除的显示，不能的显示相反数</span></span><br><span class="line">m = df.loc[:,<span class="string">&#x27;Q1&#x27;</span>:<span class="string">&#x27;Q4&#x27;</span>] % <span class="number">3</span> == <span class="number">0</span></span><br><span class="line">df.loc[:,<span class="string">&#x27;Q1&#x27;</span>:<span class="string">&#x27;Q4&#x27;</span>].where(m, -df.loc[:,<span class="string">&#x27;Q1&#x27;</span>:<span class="string">&#x27;Q4&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 行列相同数量，返回一个 array</span></span><br><span class="line">df.lookup([<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>], [<span class="string">&#x27;Q1&#x27;</span>,<span class="string">&#x27;Q2&#x27;</span>,<span class="string">&#x27;Q3&#x27;</span>]) <span class="comment"># array([36, 96, 61])</span></span><br><span class="line">df.lookup([<span class="number">1</span>], [<span class="string">&#x27;Q1&#x27;</span>]) <span class="comment"># array([36])</span></span><br></pre></td></tr></table></figure>

<p>mask 和 where 还可以通过数据筛选返回布尔序列：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 返回布尔序列，符合条件的行为 True</span><br><span class="line">(df.where((df.team==&#x27;A&#x27;) &amp; (df.Q1&gt;60)) == df).Q1</span><br><span class="line"></span><br><span class="line"># 返回布尔序列，符合条件的行为 False</span><br><span class="line">(df.mask((df.team==&#x27;A&#x27;) &amp; (df.Q1&gt;60)) == df).Q1</span><br></pre></td></tr></table></figure>

<h3 id="query"><a href="#query" class="headerlink" title="query"></a>query</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">df.query(<span class="string">&#x27;Q1 &gt; Q2 &gt; 90&#x27;</span>) <span class="comment"># 直接写类型 sql where 语句</span></span><br><span class="line">df.query(<span class="string">&#x27;Q1 + Q2 &gt; 180&#x27;</span>)</span><br><span class="line">df.query(<span class="string">&#x27;Q1 == Q2&#x27;</span>)</span><br><span class="line">df.query(<span class="string">&#x27;(Q1&lt;50) &amp; (Q2&gt;40) and (Q3&gt;90)&#x27;</span>)</span><br><span class="line">df.query(<span class="string">&#x27;Q1 &gt; Q2 &gt; Q3 &gt; Q4&#x27;</span>)</span><br><span class="line">df.query(<span class="string">&#x27;team != &quot;C&quot;&#x27;</span>)</span><br><span class="line">df.query(<span class="string">&#x27;team in [&quot;A&quot;,&quot;B&quot;]&#x27;</span>)</span><br><span class="line">df.query(<span class="string">&#x27;team not in (&quot;E&quot;,&quot;A&quot;,&quot;B&quot;)&#x27;</span>)</span><br><span class="line">df.query(<span class="string">&#x27;name.str.contains(&quot;am&quot;)&#x27;</span>) <span class="comment"># 包含 am 字符</span></span><br><span class="line"><span class="comment"># 对于名称中带有空格的列，可以使用反引号引起来</span></span><br><span class="line">df.query(<span class="string">&#x27;B == `team name`&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 支持传入变量，如：大于平均分40分的</span></span><br><span class="line">a = df.Q1.mean()</span><br><span class="line">df.query(<span class="string">&#x27;Q1 &gt; @a+40&#x27;</span>)</span><br><span class="line">df.query(<span class="string">&#x27;Q1 &gt; `Q2`+@a&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># df.eval() 用法与 df.query 类似</span></span><br><span class="line">df[df.<span class="built_in">eval</span>(<span class="string">&quot;Q1 &gt; 90 &gt; Q3 &gt; 10&quot;</span>)]</span><br><span class="line">df[df.<span class="built_in">eval</span>(<span class="string">&quot;Q1 &gt; `Q2`+@a&quot;</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>使用 filter 可以对行名和列名进行筛选。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df.<span class="built_in">filter</span>(items=[<span class="string">&#x27;Q1&#x27;</span>, <span class="string">&#x27;Q2&#x27;</span>]) <span class="comment"># 选择两列</span></span><br><span class="line">df.<span class="built_in">filter</span>(regex=<span class="string">&#x27;Q&#x27;</span>, axis=<span class="number">1</span>) <span class="comment"># 列名包含Q的</span></span><br><span class="line">df.<span class="built_in">filter</span>(regex=<span class="string">&#x27;e$&#x27;</span>, axis=<span class="number">1</span>) <span class="comment"># 以 e 结尾的</span></span><br><span class="line">df.<span class="built_in">filter</span>(regex=<span class="string">&#x27;1$&#x27;</span>, axis=<span class="number">0</span>) <span class="comment"># 正则, 索引名包含1的</span></span><br><span class="line">df.<span class="built_in">filter</span>(like=<span class="string">&#x27;2&#x27;</span>, axis=<span class="number">0</span>) <span class="comment"># 索引中有2的</span></span><br><span class="line"><span class="comment"># 索引中2开头列名有Q的</span></span><br><span class="line">df.<span class="built_in">filter</span>(regex=<span class="string">&#x27;^2&#x27;</span>, axis=<span class="number">0</span>).<span class="built_in">filter</span>(like=<span class="string">&#x27;Q&#x27;</span>, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>关于 filter 的详细介绍，可以查阅：<a target="_blank" rel="noopener" href="https://www.gairuo.com/p/pandas-filter">Pandas filter 筛选标签</a>。</p>
<h3 id="索引选择器-pd-IndexSlice"><a href="#索引选择器-pd-IndexSlice" class="headerlink" title="索引选择器 pd.IndexSlice"></a>索引选择器 pd.IndexSlice</h3><p><code>pd.IndexSlice</code> 的使用方法类似于<code>df.loc[]</code> 切片中的方法，常用在多层索引中，以及需要指定应用范围（subset 参数）的函数中，特别是在链式方法中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df.loc[pd.IndexSlice[:, [&#x27;Q1&#x27;, &#x27;Q2&#x27;]]]</span><br><span class="line"># 变量化使用</span><br><span class="line">idx = pd.IndexSlice</span><br><span class="line">df.loc[idx[:, [&#x27;Q1&#x27;, &#x27;Q2&#x27;]]]</span><br><span class="line">df.loc[idx[:, &#x27;Q1&#x27;:&#x27;Q4&#x27;], :] # 多索引</span><br></pre></td></tr></table></figure>

<p>复杂的选择：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 创建复杂条件选择器</span><br><span class="line">selected = df.loc[(df.team==&#x27;A&#x27;) &amp; (df.Q1&gt;90)]</span><br><span class="line">idxs = pd.IndexSlice[selected.index, &#x27;name&#x27;]</span><br><span class="line"># 应用选择器</span><br><span class="line">df.loc[idxs]</span><br><span class="line"># 选择这部分区域加样式（样式功能见教程后文介绍）</span><br><span class="line">df.style.applymap(style_fun, subset=idxs)</span><br></pre></td></tr></table></figure>

<h3 id="按数据类型"><a href="#按数据类型" class="headerlink" title="按数据类型"></a>按数据类型</h3><p>可以只选择或者排除指定类型数据：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df.select_dtypes(include=[<span class="string">&#x27;float64&#x27;</span>]) <span class="comment"># 选择 float64 型数据</span></span><br><span class="line">df.select_dtypes(include=<span class="string">&#x27;bool&#x27;</span>)</span><br><span class="line">df.select_dtypes(include=[<span class="string">&#x27;number&#x27;</span>]) <span class="comment"># 只取数字型</span></span><br><span class="line">df.select_dtypes(exclude=[<span class="string">&#x27;int&#x27;</span>]) <span class="comment"># 排除 int 类型</span></span><br><span class="line">df.select_dtypes(exclude=[<span class="string">&#x27;datetime64&#x27;</span>])</span><br></pre></td></tr></table></figure>

<h3 id="any-和-all"><a href="#any-和-all" class="headerlink" title="any 和 all"></a>any 和 all</h3><p>any 方法如果至少有一个值为 True 是便为 True，all 需要所有值为 True 才为 True。它们可以传入 axis 为 1，会按行检测。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Q1 Q2 成绩全为 80 分的</span></span><br><span class="line">df[(df.loc[:,[<span class="string">&#x27;Q1&#x27;</span>,<span class="string">&#x27;Q2&#x27;</span>]] &gt; <span class="number">80</span>).<span class="built_in">all</span>(<span class="number">1</span>)]</span><br><span class="line"><span class="comment"># Q1 Q2 成绩至少有一个 80 分的</span></span><br><span class="line">df[(df.loc[:,[<span class="string">&#x27;Q1&#x27;</span>,<span class="string">&#x27;Q2&#x27;</span>]] &gt; <span class="number">80</span>).<span class="built_in">any</span>(<span class="number">1</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="理解筛选原理"><a href="#理解筛选原理" class="headerlink" title="理解筛选原理"></a>理解筛选原理</h3><p>df[&lt;表达式&gt;] 里边的表达式如果单独拿出来，可以看到：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">df.Q1.gt(90)</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">0     False</span><br><span class="line">1     False</span><br><span class="line">2     False</span><br><span class="line">3      True</span><br><span class="line">4     False</span><br><span class="line">      ...</span><br><span class="line">Name: Q1, Length: 100, dtype: bool</span><br><span class="line">&#x27;&#x27;&#x27;</span><br></pre></td></tr></table></figure>

<p>会有一个由真假值组成的数据，筛选后的结果就是为 True 的内容。</p>
<h3 id="mean-median-unique-value-count"><a href="#mean-median-unique-value-count" class="headerlink" title="mean() &#x2F; median() &#x2F; unique() &#x2F; value_count()"></a>mean() &#x2F; median() &#x2F; unique() &#x2F; value_count()</h3><ul>
<li><p>mean()</p>
</li>
<li><p>median()</p>
</li>
<li><p>unique()</p>
</li>
<li><p>value_count()</p>
</li>
</ul>
<h3 id="map-apply"><a href="#map-apply" class="headerlink" title="map &amp; apply"></a>map &amp; apply</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Series数据修改，返回当前列的series</span></span><br><span class="line">review_points_mean = reviews.points.mean()</span><br><span class="line">reviews.points.<span class="built_in">map</span>(<span class="keyword">lambda</span> p: p - review_points_mean)</span><br><span class="line"></span><br><span class="line"><span class="comment"># DataFrame 引用修改，返回完整的DF数据</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">remean_points</span>(<span class="params">row</span>):</span><br><span class="line">    row.points = row.points - review_points_mean</span><br><span class="line">    <span class="keyword">return</span> row</span><br><span class="line"></span><br><span class="line">reviews.apply(remean_points, axis=<span class="string">&#x27;columns&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="案例实操"><a href="#案例实操" class="headerlink" title="案例实操"></a>案例实操</h2><h3 id="获取指定值的索引"><a href="#获取指定值的索引" class="headerlink" title="获取指定值的索引"></a>获取指定值的索引</h3><p>有时候我们需要知道指定值所在的位置，即一个值在表中的索引，可以使用以一下方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 指定值的的索引对</span><br><span class="line">np.argwhere(df.values == &#x27;Eorge&#x27;)</span><br><span class="line"># array([[3, 0]])</span><br><span class="line"># 值为 90 的索引对</span><br><span class="line">np.argwhere(df.values == 90)</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">array([[33,  2],</span><br><span class="line">       [64,  5]])</span><br><span class="line">&#x27;&#x27;&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="修改某行某列的值"><a href="#修改某行某列的值" class="headerlink" title="修改某行某列的值"></a>修改某行某列的值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">x2 = pd.read_csv(<span class="string">&quot;submit.csv&quot;</span>)</span><br><span class="line"><span class="comment"># 修改id==80000的行，&#x27;isDefault&#x27;的值</span></span><br><span class="line">x2.loc[x2.<span class="built_in">id</span>==<span class="number">800000</span>,<span class="string">&#x27;isDefault&#x27;</span>] = <span class="number">1</span></span><br><span class="line">x2</span><br></pre></td></tr></table></figure>

<h2 id="相关内容"><a href="#相关内容" class="headerlink" title="相关内容"></a>相关内容</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/07/12/Improve/2020-Plan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/12/Improve/2020-Plan/" class="post-title-link" itemprop="url">2020_PLAN</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-12 15:47:57" itemprop="dateCreated datePublished" datetime="2020-07-12T15:47:57+00:00">2020-07-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:39" itemprop="dateModified" datetime="2025-08-06T08:16:39+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Self/" itemprop="url" rel="index"><span itemprop="name">Self</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Self/Plan/" itemprop="url" rel="index"><span itemprop="name">Plan</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<h3 id="2020年专业精进"><a href="#2020年专业精进" class="headerlink" title="2020年专业精进"></a>2020年专业精进</h3><h4 id="线性代数"><a href="#线性代数" class="headerlink" title="线性代数"></a>线性代数</h4><p>麻省理工公开课：线性代数 <a target="_blank" rel="noopener" href="http://open.163.com/newview/movie/courseintro?newurl=M6V0BQC4M">http://open.163.com/newview/movie/courseintro?newurl=M6V0BQC4M</a></p>
<p>矩阵的秩–挺适合预习线性代数的<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/108093909">https://zhuanlan.zhihu.com/p/108093909</a></p>
<h4 id="图形学变换"><a href="#图形学变换" class="headerlink" title="图形学变换"></a>图形学变换</h4><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/96717729">图形学中的基本变换(Basic Transforms)</a></p>
<h4 id="会议："><a href="#会议：" class="headerlink" title="会议："></a>会议：</h4><p>[CVPR 2019 论文大盘点—人体姿态篇](<a target="_blank" rel="noopener" href="https://bbs.cvmart.net/topics/531/CVPR">https://bbs.cvmart.net/topics/531/CVPR</a> 2019 Human Pose))</p>
<h4 id="AI基础知识"><a href="#AI基础知识" class="headerlink" title="AI基础知识"></a>AI基础知识</h4><ul>
<li>图像配准 <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/de18a6ddb0d6">https://www.jianshu.com/p/de18a6ddb0d6</a></li>
</ul>
<h4 id="专业书籍"><a href="#专业书籍" class="headerlink" title="专业书籍"></a>专业书籍</h4><ul>
<li>《图形学基础》</li>
</ul>
<h4 id="AI-集成项目学习"><a href="#AI-集成项目学习" class="headerlink" title="AI 集成项目学习"></a>AI 集成项目学习</h4><ul>
<li>CenterNet</li>
<li>InsightFace<ul>
<li>梳理基础知识点</li>
</ul>
</li>
<li>SMPL*<ul>
<li>关于 骨骼动画之理解蒙皮算法<a target="_blank" rel="noopener" href="https://blog.csdn.net/smsmn/article/details/53870334">https://blog.csdn.net/smsmn/article/details/53870334</a></li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/07/03/Sub_Language/PythonDoc/Language-np/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/03/Sub_Language/PythonDoc/Language-np/" class="post-title-link" itemprop="url">tools_np Doc</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-03 20:20:52" itemprop="dateCreated datePublished" datetime="2020-07-03T20:20:52+00:00">2020-07-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/" itemprop="url" rel="index"><span itemprop="name">dev</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/python/numpy/" itemprop="url" rel="index"><span itemprop="name">numpy</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<h2 id="np初始化"><a href="#np初始化" class="headerlink" title="np初始化"></a>np初始化</h2><h3 id="np-arange"><a href="#np-arange" class="headerlink" title="np.arange()"></a>np.arange()</h3><h3 id="np-random"><a href="#np-random" class="headerlink" title="np.random"></a>np.random</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># random.randn(x1, x2, x3, ...)</span></span><br><span class="line"><span class="comment"># 返回一个满足正态分布的数组</span></span><br><span class="line"><span class="comment"># 参数：x1:第一维大小</span></span><br><span class="line"><span class="comment">#      x2:第二维大小</span></span><br><span class="line"><span class="comment">#      …</span></span><br><span class="line"></span><br><span class="line">x=np.random.randn(<span class="number">3</span>,<span class="number">5</span>)    <span class="comment"># shape (3,5)</span></span><br><span class="line"><span class="built_in">print</span>(x) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#random.randn(x1, x2, x3, ...)</span></span><br><span class="line"><span class="comment"># 返回一个值在[0,1)之间的数组</span></span><br><span class="line"><span class="comment"># 参数：x1:第一维大小</span></span><br><span class="line"><span class="comment">#      x2:第二维大小</span></span><br><span class="line"><span class="comment">#      …</span></span><br><span class="line"></span><br><span class="line">x=np.random.rand(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#numpy.random.randint(low,high=None,size=None,dtype=‘l’)</span></span><br><span class="line"><span class="comment">#返回一个数组</span></span><br><span class="line"><span class="comment">#参数：low:数组最小值</span></span><br><span class="line"><span class="comment">#   high:数组最大值</span></span><br><span class="line"><span class="comment">#   size:数组维度大小</span></span><br><span class="line"><span class="comment">#   dtype:数据类型，默认为int</span></span><br><span class="line"><span class="comment">#   high为空时，默认生成随机数为[0,low)</span></span><br><span class="line"></span><br><span class="line">x=np.random.randint(<span class="number">1</span>,<span class="number">11</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">y=np.random.randint(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;x:&quot;</span>,x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;y:&quot;</span>,y)</span><br><span class="line"><span class="comment">#输出：</span></span><br><span class="line">x: [[<span class="number">9</span> <span class="number">2</span> <span class="number">4</span> <span class="number">6</span>]</span><br><span class="line">    [<span class="number">1</span> <span class="number">3</span> <span class="number">7</span> <span class="number">7</span>]</span><br><span class="line">    [<span class="number">8</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span>]]</span><br><span class="line">y: <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># np.random.choice(a,size=None,replace=True,p=None)</span></span><br><span class="line"><span class="comment"># 返回一个数组</span></span><br><span class="line"><span class="comment"># 参数：a:一维数组类似数据或整数，整数时对应一维数组为np.arange(a)</span></span><br><span class="line"><span class="comment">#   size:数组维度大小</span></span><br><span class="line"><span class="comment">#   replace:抽样后是否将该数放回数组，若True则放回，False则不放回，所有数不相同</span></span><br><span class="line"><span class="comment">#   p:数组中的数出现的概率</span></span><br><span class="line"><span class="comment"># 举例：</span></span><br><span class="line">x=np.random.choice(<span class="number">5</span>, <span class="number">3</span>, replace=<span class="literal">False</span>, p=[<span class="number">0.1</span>, <span class="number">0</span>, <span class="number">0.3</span>, <span class="number">0.6</span>, <span class="number">0</span>])</span><br><span class="line"><span class="comment">#输出：[0 2 3]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 随机数[0,1]之间</span></span><br><span class="line">np.random.random()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># seed( ) 用于指定随机数生成时所用算法开始的整数值，如果使用相同的seed( )值，则每次生成的随即数都相同，如果不设置这个值，则系统根据时间来自己选择这个值，此时每次生成的随机数因时间差异而不同。</span></span><br><span class="line">np.random.seed()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 是 NumPy 库中的一个函数，用于从正态分布（也称为高斯分布）中随机抽取样本。</span></span><br><span class="line">np.random.normal </span><br></pre></td></tr></table></figure>

<h3 id="np-meshgrid"><a href="#np-meshgrid" class="headerlink" title="np.meshgrid()"></a>np.meshgrid()</h3><p>生成<strong>网格点坐标矩阵</strong></p>
<h3 id="np-eye"><a href="#np-eye" class="headerlink" title="np.eye()"></a>np.eye()</h3><p>函数的原型：numpy.eye(N,M&#x3D;None,k&#x3D;0,dtype&#x3D;&lt;class ‘float’&gt;,order&#x3D;’C)</p>
<p>返回的是一个二维2的数组(N,M)，对角线的地方为1，其余的地方为0.</p>
<p>参数介绍：</p>
<p>（1）N:int型，表示的是输出的行数</p>
<p>（2）M：int型，可选项，输出的列数，如果没有就默认为N</p>
<p>（3）k：int型，可选项，对角线的下标，默认为0表示的是主对角线，负数表示的是低对角，正数表示的是高对角。</p>
<p>（4）dtype：数据的类型，可选项，返回的数据的数据类型</p>
<p>（5）order：{‘C’，‘F’}，可选项，也就是输出的数组的形式是按照C语言的行优先’C’，还是按照Fortran形式的列优先‘F’存储在内存中</p>
<p>案例：（普通的用法）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a=np.eye(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line">a=np.eye(<span class="number">4</span>,k=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line">a=np.eye(<span class="number">4</span>,k=-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line">a=np.eye(<span class="number">4</span>,k=-<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[[1. 0. 0.]</span><br><span class="line"> [0. 1. 0.]</span><br><span class="line"> [0. 0. 1.]]</span><br><span class="line"></span><br><span class="line">[[0. 1. 0. 0.]</span><br><span class="line"> [0. 0. 1. 0.]</span><br><span class="line"> [0. 0. 0. 1.]</span><br><span class="line"> [0. 0. 0. 0.]]</span><br><span class="line"></span><br><span class="line">[[0. 0. 0. 0.]</span><br><span class="line"> [1. 0. 0. 0.]</span><br><span class="line"> [0. 1. 0. 0.]</span><br><span class="line"> [0. 0. 1. 0.]]</span><br><span class="line"></span><br><span class="line">[[0. 0. 0. 0.]</span><br><span class="line"> [0. 0. 0. 0.]</span><br><span class="line"> [0. 0. 0. 0.]</span><br><span class="line"> [1. 0. 0. 0.]]</span><br></pre></td></tr></table></figure>

<p>高级用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">labels=np.array([[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">0</span>],[<span class="number">1</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;labels的大小：&quot;</span>,labels.shape,<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#因为我们的类别是从0-2，所以这里是3个类</span></span><br><span class="line">a=np.eye(<span class="number">3</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;如果对应的类别号是1，那么转成one-hot的形式&quot;</span>,a,<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">a=np.eye(<span class="number">3</span>)[<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;如果对应的类别号是2，那么转成one-hot的形式&quot;</span>,a,<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">a=np.eye(<span class="number">3</span>)[<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;1转成one-hot的数组的第一个数字是：&quot;</span>,a,<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#这里和上面的结果的区别，注意!!!</span></span><br><span class="line">a=np.eye(<span class="number">3</span>)[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;如果对应的类别号是1,2,0,1，那么转成one-hot的形式\n&quot;</span>,a)</span><br><span class="line"></span><br><span class="line">res=np.eye(<span class="number">3</span>)[labels.reshape(-<span class="number">1</span>)]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;labels转成one-hot形式的结果：\n&quot;</span>,res,<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;labels转化成one-hot后的大小：&quot;</span>,res.shape)</span><br><span class="line"></span><br><span class="line">labels的大小： (<span class="number">4</span>, <span class="number">1</span>) </span><br><span class="line"></span><br><span class="line">如果对应的类别号是<span class="number">1</span>，那么转成one-hot的形式 [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>] </span><br><span class="line"></span><br><span class="line">如果对应的类别号是<span class="number">2</span>，那么转成one-hot的形式 [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>] </span><br><span class="line"></span><br><span class="line"><span class="number">1</span>转成one-hot的数组的第一个数字是： <span class="number">0.0</span> </span><br><span class="line"></span><br><span class="line">如果对应的类别号是<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>，那么转成one-hot的形式</span><br><span class="line"> [[<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]]</span><br><span class="line">labels转成one-hot形式的结果：</span><br><span class="line"> [[<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]] </span><br><span class="line"></span><br><span class="line">labels转化成one-hot后的大小： (<span class="number">4</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h3 id="np-identity"><a href="#np-identity" class="headerlink" title="np.identity()"></a>np.identity()</h3><p>这个函数和之前的区别在于，这个只能创建方阵，也就是N&#x3D;M</p>
<p>函数的原型：np.identity(n,dtype&#x3D;None)</p>
<p>参数：n，int型表示的是输出的矩阵的行数和列数都是n</p>
<p>dtype：表示的是输出的类型，默认是float</p>
<p>返回的是nxn的主对角线为1，其余地方为0的数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a=np.identity(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[[<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]]</span><br></pre></td></tr></table></figure>

<h3 id="np-ravel"><a href="#np-ravel" class="headerlink" title="np.ravel()"></a>np.ravel()</h3><h3 id="np-expand-dims"><a href="#np-expand-dims" class="headerlink" title="np.expand_dims()"></a>np.expand_dims()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.zeros((<span class="number">32</span>,<span class="number">32</span>))</span><br><span class="line"><span class="built_in">print</span>(a.shape)</span><br><span class="line">a1 = np.expand_dims(a,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(a1.shape)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">32</span>,<span class="number">32</span>) (<span class="number">1</span>,<span class="number">32</span>,<span class="number">32</span>)</span><br></pre></td></tr></table></figure>

<p>方式2</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.zeros((<span class="number">32</span>,<span class="number">32</span>))</span><br><span class="line"><span class="built_in">print</span>(a.shape)</span><br><span class="line">a1 = a[<span class="literal">None</span>,:,:]</span><br><span class="line"><span class="built_in">print</span>(a1.shape)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">32</span>,<span class="number">32</span>) (<span class="number">1</span>,<span class="number">32</span>,<span class="number">32</span>)</span><br></pre></td></tr></table></figure>

<h3 id="np-sequeeze"><a href="#np-sequeeze" class="headerlink" title="np.sequeeze()"></a>np.sequeeze()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.zeros((<span class="number">1</span>,<span class="number">32</span>,<span class="number">32</span>))</span><br><span class="line"><span class="built_in">print</span>(a.shape)</span><br><span class="line">a1 = a.squeeze()</span><br><span class="line"><span class="built_in">print</span>(a1.shape)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">1</span>,<span class="number">32</span>,<span class="number">32</span>) (<span class="number">32</span>,<span class="number">32</span>)</span><br></pre></td></tr></table></figure>

<p>另一种方式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.zeros((<span class="number">3</span>,<span class="number">32</span>,<span class="number">32</span>))</span><br><span class="line"><span class="built_in">print</span>(a.shape)</span><br><span class="line">a1 = a[<span class="number">0</span>,:,:]</span><br><span class="line"><span class="built_in">print</span>(a1.shape)</span><br></pre></td></tr></table></figure>

<h3 id="np-flatten"><a href="#np-flatten" class="headerlink" title="np.flatten()"></a>np.flatten()</h3><p>两者的功能是一致的，将多维数组降为一维，但是两者的区别是返回拷贝还是返回视图</p>
<p>np.flatten()返回一份拷贝，对拷贝所做修改不会影响原始矩阵，</p>
<p>np.ravel()返回的是视图，修改时会影响原始矩阵</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span> , <span class="number">2</span>] , [<span class="number">3</span> , <span class="number">4</span>]])</span><br><span class="line">b = a.flatten()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;b:&#x27;</span> , b)</span><br><span class="line">c = a.ravel()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;c:&#x27;</span> , c)</span><br><span class="line">d = a.ravel(<span class="string">&#x27;F&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;d:&#x27;</span> , d)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 二者的区别</span></span><br><span class="line">b[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a:&#x27;</span> , a)</span><br><span class="line">c[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a:&#x27;</span> , a)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">b: [1 2 3 4]</span><br><span class="line">c: [1 2 3 4]</span><br><span class="line">d: [1 3 2 4]</span><br><span class="line">a: [[1 2]</span><br><span class="line">[3 4]]</span><br><span class="line">a: [[10 2]</span><br><span class="line">[ 3 4]]</span><br></pre></td></tr></table></figure>

<h3 id="allclose"><a href="#allclose" class="headerlink" title="allclose"></a>allclose</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">numpy.allclose(a, b, rtol=<span class="number">1e-05</span>, atol=<span class="number">1e-08</span>, equal_nan=<span class="literal">False</span>)[source]</span><br><span class="line"></span><br><span class="line">absolute(a - b) &lt;= (atol + rtol * absolute(b))</span><br></pre></td></tr></table></figure>

<p>eg: 判断两个数据的误差小于2：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.allclose(a, b, atol=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>这两个数据，可以是相同维度的，例如 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">149.820974</span> <span class="number">188.13338026</span> <span class="number">145.44900513</span>] </span><br><span class="line">b = [<span class="number">151.086161</span> <span class="number">186.89028926</span> <span class="number">144.17222595</span>]</span><br></pre></td></tr></table></figure>

<h3 id="diag"><a href="#diag" class="headerlink" title="diag"></a>diag</h3><h3 id="np-argmax"><a href="#np-argmax" class="headerlink" title="np.argmax()"></a>np.argmax()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">1</span>])</span><br><span class="line">b=np.argmax(a)<span class="comment">#取出a中元素最大值所对应的索引，此时最大值位6，其对应的位置索引值为4，（索引值默认从0开始）</span></span><br><span class="line"><span class="built_in">print</span>(b)<span class="comment">#4</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://wenku.baidu.com/view/1d3dbe48ac1ffc4ffe4733687e21af45b307fe78.html">https://wenku.baidu.com/view/1d3dbe48ac1ffc4ffe4733687e21af45b307fe78.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_38145317/article/details/79650188">https://blog.csdn.net/weixin_38145317/article/details/79650188</a></p>
<h3 id="np-where"><a href="#np-where" class="headerlink" title="np.where()"></a>np.where()</h3><h4 id="np-where-condition-x-y"><a href="#np-where-condition-x-y" class="headerlink" title="np.where(condition, x, y)"></a>np.where(condition, x, y)</h4><p>满足条件(condition)，输出x，不满足输出y。</p>
<p>如果是一维数组，相当于<code>[xv if c else yv for (c,xv,yv) in zip(condition,x,y)]</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; aa = np.arange(10)</span><br><span class="line">&gt;&gt;&gt; np.where(aa,1,-1)</span><br><span class="line">array([-1,  1,  1,  1,  1,  1,  1,  1,  1,  1])  # 0为False，所以第一个输出-1</span><br><span class="line">&gt;&gt;&gt; np.where(aa &gt; 5,1,-1)</span><br><span class="line">array([-1, -1, -1, -1, -1, -1,  1,  1,  1,  1])</span><br></pre></td></tr></table></figure>

<h4 id="np-where-condition"><a href="#np-where-condition" class="headerlink" title="np.where(condition)"></a>np.where(condition)</h4><p>只有条件 (condition)，没有x和y，则输出满足条件 (即非0) 元素的坐标 (等价于<a target="_blank" rel="noopener" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.nonzero.html#numpy.nonzero">numpy.nonzero</a>)。这里的坐标以tuple的形式给出，通常原数组有多少维，输出的tuple中就包含几个数组，分别对应符合条件元素的各维坐标。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.where(a &gt; <span class="number">5</span>)                <span class="comment"># 返回索引</span></span><br><span class="line">(array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]),)   </span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bid_history = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span>]</span><br><span class="line">np.argwhere(bid_history==<span class="built_in">max</span>(bid_history))</span><br><span class="line">&gt;&gt;&gt;array([[<span class="number">2</span>],</span><br><span class="line">       [<span class="number">4</span>]], dtype=int64)</span><br></pre></td></tr></table></figure>

<h3 id="np-repeat"><a href="#np-repeat" class="headerlink" title="np.repeat"></a>np.repeat</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = np.zeros(<span class="number">54</span>, dtype=np.int8)</span><br><span class="line">batch_num =  <span class="number">4</span></span><br><span class="line">batch_a = np.repeat(a[np.newaxis,:], batch_num, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Slice"><a href="#Slice" class="headerlink" title="Slice"></a>Slice</h2><h3 id="（逆向序列）"><a href="#（逆向序列）" class="headerlink" title=":: （逆向序列）"></a>:: （逆向序列）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(a[-<span class="number">3</span>:][::])</span><br><span class="line"><span class="built_in">print</span>(a[-<span class="number">3</span>:][::-<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[0 1 2 3 4 5 6 7 8 9]</span><br><span class="line">[7 8 9]</span><br><span class="line">[9 8 7]</span><br></pre></td></tr></table></figure>

<h2 id="statck相关"><a href="#statck相关" class="headerlink" title="statck相关"></a>statck相关</h2><p>stack()    Join a sequence of arrays along a new axis.</p>
<p>vstack()    Stack along first axis.                                        &#x3D;&#x3D; np.concatenate(tup, axis&#x3D;0）</p>
<p>hstack()    Stack along second axis.  (column wise).      &#x3D;&#x3D; np.concatenate(tup, axis&#x3D;1)</p>
<p>dstack()    Stack arrays in sequence depth wise (along third dimension).&#x3D;&#x3D;np.concatenate(tup, axis&#x3D;2)</p>
<p>concatenate()     Join a sequence of arrays along an existing axis.</p>
<h3 id="np-stack"><a href="#np-stack" class="headerlink" title="np.stack()"></a>np.stack()</h3><h3 id="np-hstack"><a href="#np-hstack" class="headerlink" title="np.hstack()"></a>np.hstack()</h3><h3 id="np-vstack"><a href="#np-vstack" class="headerlink" title="np.vstack()"></a>np.vstack()</h3><h3 id="np-dstack"><a href="#np-dstack" class="headerlink" title="np.dstack()"></a>np.dstack()</h3><h3 id="np-concatenate"><a href="#np-concatenate" class="headerlink" title="np.concatenate()"></a>np.concatenate()</h3><h3 id="np-split"><a href="#np-split" class="headerlink" title="np.split()"></a>np.split()</h3><h3 id="np-hsplit"><a href="#np-hsplit" class="headerlink" title="np.hsplit"></a>np.hsplit</h3><h3 id="np-vsplit"><a href="#np-vsplit" class="headerlink" title="np.vsplit"></a>np.vsplit</h3><h3 id="np-dsplit"><a href="#np-dsplit" class="headerlink" title="np.dsplit"></a>np.dsplit</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">split  :  1D; indices_or_sections ``[2, 3]`` would, for ``axis=0``, result in</span><br><span class="line">          - ary[:2]</span><br><span class="line">          - ary[2:3]</span><br><span class="line">          - ary[3:]</span><br><span class="line">hsplit : Split array into multiple sub-arrays horizontally (column-wise).</span><br><span class="line">vsplit : Split array into multiple sub-arrays vertically (row wise).</span><br><span class="line">dsplit : Split array into multiple sub-arrays along the 3rd axis (depth).</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.zeros((<span class="number">4</span>, <span class="number">3</span>))</span><br><span class="line">b = np.ones((<span class="number">4</span>, <span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(a.shape)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line">c = np.hstack((a, b))</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"></span><br><span class="line">d = np.ones((<span class="number">1</span>, <span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line">c = np.vstack((a, d))</span><br><span class="line"><span class="built_in">print</span>(c)</span><br></pre></td></tr></table></figure>

<p>Out:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">4</span>, <span class="number">3</span>)</span><br><span class="line">[[<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]]</span><br><span class="line">[[<span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span>]]</span><br><span class="line">[[<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]]</span><br><span class="line">[[<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]]</span><br><span class="line">[[<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]]</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>

<h2 id="np矩阵运算"><a href="#np矩阵运算" class="headerlink" title="np矩阵运算:"></a>np矩阵运算:</h2><h3 id="mean-均值"><a href="#mean-均值" class="headerlink" title="mean 均值"></a>mean 均值</h3><h3 id="var-方差"><a href="#var-方差" class="headerlink" title="var 方差"></a>var 方差</h3><h3 id="item"><a href="#item" class="headerlink" title="item"></a>item</h3><h3 id="dot"><a href="#dot" class="headerlink" title="dot"></a>dot</h3><p><strong>数量积</strong>又称内积（Kronecker product）、点积（Dot product），对应元素相乘相加，结果是一个标量（即一个数）。</p>
<p><img src="/2020/07/03/Sub_Language/PythonDoc/Language-np/image-20200826164113328.png" alt="image-20200826164113328"></p>
<h3 id="cross"><a href="#cross" class="headerlink" title="cross"></a>cross</h3><p><strong>向量积</strong>又称外积、叉积（Cross product）</p>
<p><img src="/2020/07/03/Sub_Language/PythonDoc/Language-np/image-20200826164056372.png" alt="image-20200826164056372"></p>
<h3 id="multiply或"><a href="#multiply或" class="headerlink" title="multiply或*"></a>multiply<code>或</code>*</h3><p><strong>普通乘积</strong>：对应元素相乘，结果还是向量。</p>
<h2 id="np-linalg"><a href="#np-linalg" class="headerlink" title="np.linalg"></a>np.linalg</h2><h3 id="np-linalg-norm-求范数"><a href="#np-linalg-norm-求范数" class="headerlink" title="np.linalg.norm 求范数"></a>np.linalg.norm 求范数</h3><p><img src="/2020/07/03/Sub_Language/PythonDoc/Language-np/20180115105515186" alt="img"></p>
<h1 id="序列化NP"><a href="#序列化NP" class="headerlink" title="序列化NP"></a>序列化NP</h1><h2 id="bcolz"><a href="#bcolz" class="headerlink" title="bcolz"></a>bcolz</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Write:</span><br><span class="line">    carr=bcolz.carray(arr, rootdir=fname, mode=<span class="string">&#x27;w&#x27;</span>); </span><br><span class="line">    carr.flush() </span><br><span class="line"></span><br><span class="line">Read:</span><br><span class="line">    carr=bcolz.carray(arr, rootdir=fname, mode=<span class="string">&#x27;r&#x27;</span>); </span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://vimsky.com/zh-tw/examples/detail/python-method-bcolz.carray.html">https://vimsky.com/zh-tw/examples/detail/python-method-bcolz.carray.html</a></p>
<h2 id="pickle"><a href="#pickle" class="headerlink" title="pickle"></a>pickle</h2><h2 id="path相关"><a href="#path相关" class="headerlink" title="path相关"></a>path相关</h2><p>glob模块是最简单的模块之一，内容非常少。用它可以查找符合特定规则的文件路径名。跟使用windows下的文件搜索差不多。查找文件只用到三个匹配符：”<em>”, “?”, “[]”。”</em>”匹配0个或多个字符；”?”匹配单个字符；”[]”匹配指定范围内的字符，如：[0-9]匹配数字。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取指定目录下的所有图片</span></span><br><span class="line"><span class="built_in">print</span> (glob.glob(<span class="string">r&quot;/home/qiaoyunhao/*/*.png&quot;</span>),<span class="string">&quot;\n&quot;</span>)<span class="comment">#加上r让字符串不转义</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#获取上级目录的所有.py文件</span></span><br><span class="line"><span class="built_in">print</span> (glob.glob(<span class="string">r&#x27;../*.py&#x27;</span>)) <span class="comment">#相对路径</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/06/17/Graphices/Graphices-Benchmark/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/17/Graphices/Graphices-Benchmark/" class="post-title-link" itemprop="url">Point Set Matching/Registration Benchmark</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-17 21:24:30" itemprop="dateCreated datePublished" datetime="2020-06-17T21:24:30+00:00">2020-06-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:39" itemprop="dateModified" datetime="2025-08-06T08:16:39+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Graphices/" itemprop="url" rel="index"><span itemprop="name">Graphices</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Graphices/rigistration/" itemprop="url" rel="index"><span itemprop="name">rigistration</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[Point Set Matching&#x2F;Registration Benchmark](<a target="_blank" rel="noopener" href="http://gwang-cv.github.io/2019/05/01/Point">http://gwang-cv.github.io/2019/05/01/Point</a> Set Matching-Registration Benchmark&#x2F;)</p>
<p>A list of point set matching&#x2F;registration resources collected by <a target="_blank" rel="noopener" href="https://github.com/gwang-cv">Gang Wang</a>. If you find that important resources are not included, please feel free to contact me.</p>
<h1 id="Point-Set-Matching-Registration-Material"><a href="#Point-Set-Matching-Registration-Material" class="headerlink" title="Point Set Matching&#x2F;Registration Material"></a>Point Set Matching&#x2F;Registration Material</h1><h3 id="POINT-SET-MATCHING-REGISTRATION-METHODS-WIKI"><a href="#POINT-SET-MATCHING-REGISTRATION-METHODS-WIKI" class="headerlink" title="POINT SET MATCHING&#x2F;REGISTRATION METHODS [WIKI]"></a>POINT SET MATCHING&#x2F;REGISTRATION METHODS [<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Point_set_registration">WIKI]</a></h3><h6 id="Point-Matching-Registration-Methods"><a href="#Point-Matching-Registration-Methods" class="headerlink" title="Point Matching&#x2F;Registration Methods"></a>Point Matching&#x2F;Registration Methods</h6><ul>
<li>[MCT] A mathematical analysis of the motion coherence theory, IJCV’1989 [<a target="_blank" rel="noopener" href="http://www.cs.jhu.edu/~ayuille/PubsJournal/J16YuilleGrzywacz89.pdf">pdf]</a></li>
<li>[ICP: point-to-point] Method for Registration of 3-D Shapes, Robotics-DL tentative’1992 [<a target="_blank" rel="noopener" href="http://www.cs.virginia.edu/~mjh7v/bib/Besl92.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://staffhome.ecm.uwa.edu.au/~00053650/code/icp.m">code]</a>[<a target="_blank" rel="noopener" href="http://www.open3d.org/docs/tutorial/Basic/icp_registration.html">code]</a> [<a target="_blank" rel="noopener" href="https://ww2.mathworks.cn/matlabcentral/fileexchange/27804-iterative-closest-point">code]</a> [<a target="_blank" rel="noopener" href="http://ais.informatik.uni-freiburg.de/teaching/ss12/robotics/slides/17-icp.pdf">material]</a> [<a target="_blank" rel="noopener" href="http://www.sci.utah.edu/~shireen/pdfs/tutorials/Elhabian_ICP09.pdf">tutorial]</a></li>
<li>[ICP: point-to-plane] Object modeling by registration of multiple range images, IVC’1992 [<a target="_blank" rel="noopener" href="http://graphics.stanford.edu/courses/cs348a-17-winter/Handouts/chen-medioni-align-rob91.pdf">pdf]</a></li>
<li>[ICP] Iterative point matching for registration of free-form curves and surfaces, IJCV’1994 [<a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.175.770&rep=rep1&type=pdf">pdf]</a></li>
<li>[RPM&#x2F;Softassign] New algorithms for 2d and 3d point matching: pose estimation and correspondence, PR’1998 [<a target="_blank" rel="noopener" href="http://cmp.felk.cvut.cz/~amavemig/softassign.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://www.cise.ufl.edu/~anand/students/chui/rpm/TPS-RPM.zip">code]</a></li>
<li>[MultiviewReg] Multiview registration for large data sets, 3DDIM’1999 [<a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.50.2416&rep=rep1&type=pdf">pdf]</a></li>
<li>[SC] Shape matching and object recognition using shape contexts, TPAMI’2002 [<a target="_blank" rel="noopener" href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a640016.pdf">pdf]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Shape_context">wiki]</a> [<a target="_blank" rel="noopener" href="https://www2.eecs.berkeley.edu/Research/Projects/CS/vision/shape/sc_digits.html">project]</a> [<a target="_blank" rel="noopener" href="https://www2.eecs.berkeley.edu/Research/Projects/CS/vision/code/sc_demo/">code]</a></li>
<li>[EM-ICP] Multi-scale EM-ICP: A Fast and Robust Approach for Surface Registration, ECCV’2002 [<a href="ftp://ftp-sop.inria.fr/epidaure/Publications/Granger/eccv-2002.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/tttamaki/cuda_emicp_softassign">code]</a></li>
<li>[LM-ICP] Robust registration of 2D and 3D point sets, IVC’2003 [<a target="_blank" rel="noopener" href="http://luthuli.cs.uiuc.edu/~daf/courses/Opt-2019/Papers/sdarticle.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://research.microsoft.com/~awf/lmicp/">code]</a></li>
<li>[TPS-RPM] A new point matching algorithm for non-rigid registration, CVIU’2003 [<a target="_blank" rel="noopener" href="http://www.cvl.iis.u-tokyo.ac.jp/class2013/2013w/paper/correspondingAndRegistration/05_RPM-TPS.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://www.cise.ufl.edu/~anand/students/chui/tps-rpm.html">project]</a> [<a target="_blank" rel="noopener" href="https://www.cise.ufl.edu/~anand/students/chui/rpm/TPS-RPM.zip">code]</a></li>
<li>[Survey] Image registration methods: a survey, IVC’2003 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Jan_Flusser/publication/222648347_Image_Registration_Methods_A_Survey/links/5ba9f31c92851ca9ed238b48/Image-Registration-Methods-A-Survey.pdf">pdf]</a></li>
<li>[KCReg] A correlation-based approach to robust point set registration, ECCV’2004 [<a target="_blank" rel="noopener" href="http://www.cs.cmu.edu/afs/.cs.cmu.edu/Web/People/ytsin/research/kcreg.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.cs.cmu.edu/~ytsin/KCReg/">code]</a></li>
<li>[3DSC] Recognizing objects in range data using regional point descriptors, ECCV’2004 [<a target="_blank" rel="noopener" href="http://www.cs.jhu.edu/~misha/Papers/Frome04.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/PointCloudLibrary/pcl/blob/master/examples/features/example_shape_contexts.cpp">code_pcl]</a></li>
<li>[RGR] Robust Global Registration, ESGP’2005 [<a target="_blank" rel="noopener" href="http://vecg.cs.ucl.ac.uk/Projects/SmartGeometry/global_registration/paper_docs/global_registration_sgp_05.pdf">pdf]</a></li>
<li>[RPM-LNS] Robust point matching for nonrigid shapes by preserving local neighborhood structures, TPAMI’2006 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Yefeng_Zheng/publication/7211798_Robust_point_matching_for_nonrigid_shapes_by_preserving_local_neighborhood_structures/links/0deec527101e1d3269000000/Robust-point-matching-for-nonrigid-shapes-by-preserving-local-neighborhood-structures.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.umiacs.umd.edu/user.php?path=zhengyf/PointMatching.htm">code]</a></li>
<li>[IT-FFD] Shape registration in implicit spaces using information theory and free form deformations, TPAMI’2006 [<a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.60.2593&rep=rep1&type=pdf">pdf]</a></li>
<li>[Rigid] Rigid Body Registration, 2007 [<a target="_blank" rel="noopener" href="https://www.fil.ion.ucl.ac.uk/spm/doc/books/hbf2/pdfs/Ch2.pdf">ch02]</a></li>
<li>[CDC] Simultaneous covariance driven correspondence (cdc) and transformation estimation in the expectation maximization framework, CVPR’2007 [<a target="_blank" rel="noopener" href="http://www.cs.rpi.edu/~sofka/pdfs/sofka-cvpr07.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://msofka.github.io/projects/cdc/">project]</a></li>
<li>[Nonrigid-ICP] Optimal step nonrigid icp algorithms for surface registration, CVPR’2007 [<a target="_blank" rel="noopener" href="https://gravis.dmi.unibas.ch/publications/2007/CVPR07_Amberg.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://ww2.mathworks.cn/matlabcentral/fileexchange/54077-optimal-step-nonrigid-icp">code]</a> [<a target="_blank" rel="noopener" href="https://github.com/charlienash/nricp">code]</a></li>
<li>[GNA] Global non-rigid alignment of 3D scans, TOG’2007 [<a target="_blank" rel="noopener" href="http://www.academia.edu/download/30932674/10.1.1.93.609.pdf">pdf]</a></li>
<li>[PF] Particle filtering for registration of 2D and 3D point sets with stochastic dynamics, CVPR’2008 [<a target="_blank" rel="noopener" href="https://smartech.gatech.edu/bitstream/handle/1853/28587/2008_IEEE_CCVPR.pdf?sequence=1&isAllowed=y">pdf]</a></li>
<li>[JS] Simultaneous nonrigid registration of multiple point sets and atlas construction, TPAMI’2008 [<a target="_blank" rel="noopener" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2921641/">pdf]</a></li>
<li>[4PCS] 4-points congruent sets for robust pairwise surface registration, TOG’2008 [<a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.140.4881&rep=rep1&type=pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://graphics.stanford.edu/~niloy/research/fpcs/fpcs_sig_08.html">project]</a></li>
<li>[GICP] Generalized ICP, RSS’2009 [<a target="_blank" rel="noopener" href="http://www.robots.ox.ac.uk/~avsegal/resources/papers/Generalized_ICP.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/avsegal/gicp">code]</a></li>
<li>[MP] 2D-3D registration of deformable shapes with manifold projection, ICIP’2009 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Alessio_Del_Bue/publication/223134711_2D-3D_Registration_Of_Deformable_Shapes_With_Manifold_Projection/links/0912f50d0a439af072000000.pdf">pdf]</a></li>
<li>[SMM] The mixtures of Student’s t-distributions as a robust framework for rigid registration, IVC’2009 [<a target="_blank" rel="noopener" href="http://www.academia.edu/download/45493807/imavis09.pdf">pdf]</a></li>
<li>[Algebraic-PSR] An Algebraic Approach to Affine Registration of Point Sets, ICCV’2009 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Anand_Rangarajan/publication/221111832_An_Algebraic_Approach_to_Affine_Registration_of_Point_Sets/links/0c960520d3ec57741c000000.pdf">pdf]</a></li>
<li>[SM] Subspace matching: Unique solution to point matching with geometric constraints, ICCV’2009 [<a target="_blank" rel="noopener" href="http://www.isr.ist.utl.pt/~manuel/pubs/iccv09.pdf">pdf]</a></li>
<li>[FPFH] Fast Point Feature Histograms (FPFH) for 3D Registration, ICRA’2009 [<a target="_blank" rel="noopener" href="http://www.cvl.iis.u-tokyo.ac.jp/class2016/2016w/papers/6.3DdataProcessing/Rusu_FPFH_ICRA2009.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://pointclouds.org/documentation/tutorials/fpfh_estimation.php">code]</a></li>
<li>[GO] Global optimization for alignment of generalized shapes, CVPR’2009 [<a target="_blank" rel="noopener" href="http://projectsweb.cs.washington.edu/research/insects/CVPR2009/optim_learning/glbloptim_alignshape.pdf">pdf]</a></li>
<li>[ISO] Isometric registration of ambiguous and partial data, CVPR’2009 [<a target="_blank" rel="noopener" href="http://www.tevs.eu/files/cvpr09.pdf">pdf]</a></li>
<li>[GF] A new method for the registration of three-dimensional point-sets: The Gaussian fields framework, IVC’2010 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Faysal_Boughorbel/publication/222524708_A_new_method_for_the_registration_of_three-dimensional_point-sets_The_Gaussian_Fields_framework/links/59e8a674a6fdccfe7f8ea302/A-new-method-for-the-registration-of-three-dimensional-point-sets-The-Gaussian-Fields-framework.pdf">pdf]</a></li>
<li>[RotInv] Rotation invariant non-rigid shape matching in cluttered scenes, ECCV’2010 [<a target="_blank" rel="noopener" href="https://pdfs.semanticscholar.org/6131/9215b7934ca4e7262fd67f7d6a493665d258.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://matlab1.com/shop/matlab-code/rotation-invariant-non-rigid-shape-matching-in-cluttered-scenes/">code]</a></li>
<li>[CDFHC] Group-wise point-set registration using a novel cdf-based havrda-charvát divergence, IJCV’2010 [<a target="_blank" rel="noopener" href="https://www.cise.ufl.edu/~anand/pdf/CDFHC.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.cise.ufl.edu/~tichen/cdfHC.zip">code]</a></li>
<li>[QPCCP] A quadratic programming based cluster correspondence projection algorithm for fast point matching, CVIU’2010 [<a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.231.3553&rep=rep1&type=pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.voidcn.com/link?url=http://www4.comp.polyu.edu.hk/~cslzhang/code/QPCCP.zip">code]</a></li>
<li>[CPD] Point set registration: Coherent point drift, NIPS’2007 [<a target="_blank" rel="noopener" href="http://papers.nips.cc/paper/2962-non-rigid-point-set-registration-coherent-point-drift.pdf">pdf]</a> TPAMI’2010 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/0905.2635">pdf]</a> [<a target="_blank" rel="noopener" href="https://sites.google.com/site/myronenko/research/cpd">code]</a></li>
<li>[PFSD] Point set registration via particle filtering and stochastic dynamics, TPAMI’2010 [<a target="_blank" rel="noopener" href="http://iss.bu.edu/tannenba/publications/papers/sandhu-pami09-pointset.pdf">pdf]</a></li>
<li>[ECMPR] Rigid and articulated point registration with expectation conditional maximization, TPAMI’2011 [<a target="_blank" rel="noopener" href="https://hal.inria.fr/docs/00/43/57/72/PDF/RR-7114.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://team.inria.fr/perception/research/ecmpr/">project]</a> [<a target="_blank" rel="noopener" href="https://team.inria.fr/perception/files/2015/04/ecmpr_demo.zip">code]</a></li>
<li>[GMMReg&#x2F;TPS-L2] Robust point set registration using gaussian mixture models, NIPS’2005 TPAMI’2011 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/5674050/">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/bing-jian/gmmreg">code]</a></li>
<li>[TPRL] Topology preserving relaxation labeling for nonrigid point matching, TPAMI’2011 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/5590251/">pdf]</a></li>
<li>[OOH] Robust point set registration using EM-ICP with information-theoretically optimal outlier handling, CVPR’2011 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/5995744">pdf]</a></li>
<li>[SGO] Stochastic global optimization for robust point set registration, CVIU’2011</li>
<li>[survey] 3D Shape Registration, 3DIAA’2012</li>
<li>[Multiview LM-ICP] Accurate and automatic alignment of range surfaces, 3DIMPVT’2012 [<a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.403.2173&rep=rep1&type=pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/adrelino/mv-lm-icp">code]</a></li>
<li>[ISC] Intrinsic shape context descriptors for deformable shapes, CVPR’2012 [<a target="_blank" rel="noopener" href="http://www0.cs.ucl.ac.uk/staff/I.Kokkinos/pubs/KokkinosBronstein_ISC_CVPR12.pdf">pdf]</a></li>
<li>[RPM-Concave] Robust point matching revisited: A concave optimization approach, ECCV’2012 [<a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.297.8822&rep=rep1&type=pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.voidcn.com/link?url=http://www4.comp.polyu.edu.hk/~cslzhang/code/RPM_concave.rar">code]</a></li>
<li>[RINPSM] Rotation Invariant Nonrigid Point Set Matching in Cluttered Scenes, TIP’2012 [<a target="_blank" rel="noopener" href="http://azadproject.ir/wp-content/uploads/2014/07/2011-Rotation-Invariant-Nonrigid-Point-Set-Matching-in-Cluttered-Scenes.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www4.comp.polyu.edu.hk/~cslzhang/code/dynamProg_minSpanTreeTri_shapCont_TIP.rar">code]</a></li>
<li>[RPM-L2E] Robust estimation of nonrigid transformation for point set registration, CVPR’2013 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2013/papers/Ma_Robust_Estimation_of_2013_CVPR_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[GO-ICP] Go-ICP: Solving 3D Registration Efficiently and Globally Optimally, ICCV’2013 [<a target="_blank" rel="noopener" href="https://www.cv-foundation.org/openaccess/content_iccv_2013/papers/Yang_Go-ICP_Solving_3D_2013_ICCV_paper.pdf">pdf]</a> TPAMI’2016 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1605.03344">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/yangjiaolong/Go-ICP">code]</a></li>
<li>[Survey] Registration of 3D point clouds and meshes: a survey from rigid to nonrigid, TVCG’2013 [[pdf]](<a target="_blank" rel="noopener" href="https://orca.cf.ac.uk/47333/1/ROSIN">https://orca.cf.ac.uk/47333/1/ROSIN</a> registration of 3d point clouds and meshes.pdf)</li>
<li>[NMM] Diffeomorphic Point Set Registration Using Non-Stationary Mixture Models, ISBI’2013 [<a target="_blank" rel="noopener" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3886289/">pdf]</a></li>
<li>[Sparse-ICP] Sparse Iterative Closest Point, ESGP’2013 [<a target="_blank" rel="noopener" href="https://dl.acm.org/citation.cfm?id=2600305">pdf]</a> [<a target="_blank" rel="noopener" href="http://jlyang.org/go-icp/">project]</a> [<a target="_blank" rel="noopener" href="https://lgg.epfl.ch/sparseicp">code]</a></li>
<li>[JRMPC] A Generative Model for the Joint Registration of Multiple Point Sets, ECCV’2014 [<a target="_blank" rel="noopener" href="https://hal.archives-ouvertes.fr/docs/01/01/96/61/PDF/main_cr.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://team.inria.fr/perception/research/jrmpc/">project]</a> [<a target="_blank" rel="noopener" href="https://team.inria.fr/perception/files/2015/05/JRMPC_v0.9.4.zip">code&amp;data]</a></li>
<li>[RPM-VFC] Robust Point Matching via Vector Field Consensus, TIP’2014 [<a target="_blank" rel="noopener" href="http://or.nsfc.gov.cn/bitstream/00001903-5/99530/1/1000009269450.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[GLTP] Non-rigid Point Set Registration with Global-Local Topology Preservation, CVPRW’2014 [<a target="_blank" rel="noopener" href="https://www.cv-foundation.org/openaccess/content_cvpr_workshops_2014/W04/papers/Ge_Non-rigid_Point_Set_2014_CVPR_paper.pdf">pdf]</a></li>
<li>[color-GICP] Color supported generalized-ICP, VISAPP’2014 [<a target="_blank" rel="noopener" href="https://pdfs.semanticscholar.org/1560/394a1d34567e7434b8188df59af8103b233f.pdf">pdf]</a></li>
<li>[RPM-Concave] Point Matching in the Presence of Outliers in Both Point Sets: A Concave Optimization Approach, CVPR’2014 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2014/papers/Lian_Point_Matching_in_2014_CVPR_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.voidcn.com/link?url=http://www4.comp.polyu.edu.hk/~cslzhang/code/RPM_concave.rar">code]</a></li>
<li>[super4PCS] Super 4pcs fast global pointcloud registration via smart indexing, CGF’2014 [<a target="_blank" rel="noopener" href="https://hal.archives-ouvertes.fr/hal-01538738/document">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/nmellado/Super4PCS">code]</a> [<a target="_blank" rel="noopener" href="https://github.com/STORM-IRIT/OpenGR">OpenGR]</a></li>
<li>[SDTM] A Riemannian framework for matching point clouds represented by the Schrodinger distance transform, CVPR’2014 [<a target="_blank" rel="noopener" href="https://www.cv-foundation.org/openaccess/content_cvpr_2014/papers/Deng_A_Riemannian_Framework_2014_CVPR_paper.pdf">pdf]</a></li>
<li>[GLMD-TPS] A robust global and local mixture distance based non-rigid point set registration, PR’2015 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Yang_Yang634/publication/266562735_A_robust_global_and_local_mixture_distance_based_non-rigid_point_set_registrationincluding_source_codes-link_data/links/5abda9d60f7e9bfc0457c21d/A-robust-global-and-local-mixture-distance-based-non-rigid-point-set-registrationincluding-source-codes-link-data.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://ww2.mathworks.cn/matlabcentral/fileexchange/47409-glmdtps-registration-method">code]</a></li>
<li>[CSM] Non-rigid point set registration via coherent spatial mapping, SP’2015 [<a target="_blank" rel="noopener" href="http://matlabtools.com/wp-content/uploads/p410-5.pdf">pdf]</a></li>
<li>[ADR] An Adaptive Data Representation for Robust Point-Set Registration and Merging, ICCV’2015 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_iccv_2015/papers/Campbell_An_Adaptive_Data_ICCV_2015_paper.pdf">pdf]</a></li>
<li>[MLMD] MLMD: Maximum likelihood mixture decoupling for fast and accurate point cloud registration, 3DV’2015 [<a target="_blank" rel="noopener" href="http://jankautz.com/publications/MLMD_3DV15.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://www.cc.gatech.edu/~kihwan23/">project]</a></li>
<li>[APSR] Non-rigid Articulated Point Set Registration for Human Pose Estimation, WACV’2015 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Guoliang_Fan2/publication/274955205_Non-rigid_Articulated_Point_Set_Registration_for_Human_Pose_Estimation/links/552d199a0cf29b22c9c4ad61.pdf">pdf]</a></li>
<li>[RegGF] Non-rigid visible and infrared face registration via regularized Gaussian fields criterion, PR’2015 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Jiayi_Ma/publication/268882090_Non-rigid_visible_and_infrared_face_registration_via_regularized_Gaussian_fields_criterion/links/5bb4ba0c45851574f7f7c1b8/Non-rigid-visible-and-infrared-face-registration-via-regularized-Gaussian-fields-criterion.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[LLT] Robust feature matching for remote sensing image registration via locally linear transforming, TGRS’2015 [<a target="_blank" rel="noopener" href="https://yuan-gao.net/pdf/TGRS2015.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[RPM-L2E] Robust L2E estimation of transformation for non-rigid registration, TSP’2015 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Jiayi_Ma/publication/273176803_Robust_L2E_Estimation_of_Transformation_for_Non-Rigid_Registration/links/552142f10cf2f9c130512304.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[GLR] Robust Nonrigid Point Set Registration Using Graph-Laplacian Regularization, WACV’2015 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/7046010/">pdf]</a></li>
<li>[FPPSR] Aligning the dissimilar: A probabilistic method for feature-based point set registration, ICPR’2016 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/7899641/">pdf]</a></li>
<li>[IPDA] Point Clouds Registration with Probabilistic Data Association, IROS’2016 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/7759602/">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/ethz-asl/robust_point_cloud_registration">code]</a></li>
<li>[CPPSR] A probabilistic framework for color-based point set registration, CVPR’2016 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2016/papers/Danelljan_A_Probabilistic_Framework_CVPR_2016_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.cvl.isy.liu.se/research/cogvis/colored-point-set-registration/index.html">project]</a></li>
<li>[GOGMA] GOGMA: Globally-optimal gaussian mixture alignment, CVPR’2016 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2016/papers/Campbell_GOGMA_Globally-Optimal_Gaussian_CVPR_2016_paper.pdf">pdf]</a></li>
<li>[GO-APM] An Efficient Globally Optimal Algorithm for Asymmetric Point Matching, TPAMI’2016 [<a target="_blank" rel="noopener" href="http://www4.comp.polyu.edu.hk/~cslzhang/APM_files/data/APM.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www4.comp.polyu.edu.hk/~cslzhang/APM.htm">project]</a> [<a target="_blank" rel="noopener" href="http://www4.comp.polyu.edu.hk/~cslzhang/APM_files/data/RPM_COV_source_code.rar">code]</a></li>
<li>[PR-GLS] Non-Rigid Point Set Registration by Preserving Global and Local Structures, TIP’2016 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Jiayi_Ma/publication/281082006_Non-Rigid_Point_Set_Registration_by_Preserving_Global_and_Local_Structures/links/55e6478108aecb1a7ccd6883.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[conreg] Non-iterative rigid 2D&#x2F;3D point-set registration using semidefinite programming, TIP’2016 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1501.00630">pdf]</a></li>
<li>[PM] Probabilistic Model for Robust Affine and Non-rigid Point Set Matching, TPAMI’2016 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/7439870/">pdf]</a></li>
<li>[SPSR] A Stochastic Approach to Diffeomorphic Point Set Registration With Landmark Constraints, TPAMI’2016 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/7130637/">pdf]</a></li>
<li>[FRSSP] Fast Rotation Search with Stereographic Projections for 3D Registration, TPAMI’2016 [<a target="_blank" rel="noopener" href="https://www.cv-foundation.org/openaccess/content_cvpr_2014/papers/Bustos_Fast_Rotation_Search_2014_CVPR_paper.pdf">pdf]</a></li>
<li>[VBPSM] Probabilistic Model for Robust Affine and Non-rigid Point Set Matching, TPAMI’2016 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/7439870/">pdf]</a> [<a target="_blank" rel="noopener" href="https://www.computer.org/csdl/trans/tp/2016/12/07416224-abs.html">code]</a></li>
<li>[MFF] Image Correspondences Matching Using Multiple Features Fusion, ECCV’2016 [<a target="_blank" rel="noopener" href="http://icvl.ee.ic.ac.uk/DescrWorkshop/featw-papers/Paper_0005.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://press.liacs.nl/researchdownloads">code]</a></li>
<li>[FGR] Fast Global Registration, ECCV’2016 [<a target="_blank" rel="noopener" href="https://link.springer.com/chapter/10.1007/978-3-319-46475-6_47">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/intel-isl/FastGlobalRegistration">code]</a></li>
<li>[HMRF ICP] Hidden Markov Random Field Iterative Closest Point, arxiv’2017 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1711.05864">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/JStech/ICP">code]</a></li>
<li>[SSFR] Global Registration of 3D LiDAR Point Clouds Basedon Scene Features: Application toStructured Environments, RS’2017 [<a target="_blank" rel="noopener" href="https://www.mdpi.com/2072-4292/9/10/1014/pdf">pdf]</a></li>
<li>[color-PCR] Colored point cloud registration revisited, ICCV’2017 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_ICCV_2017/papers/Park_Colored_Point_Cloud_ICCV_2017_paper.pdf">pdf]</a></li>
<li>[dpOptTrans] Efficient Globally Optimal Point Cloud Alignment using Bayesian<br>  Nonparametric Mixtures, CVPR’2017 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Jonathan_How/publication/301839970_Efficient_Globally_Optimal_Point_Cloud_Alignment_using_Bayesian_Nonparametric_Mixtures/links/5744700508ae9f741b3f0aa0/Efficient-Globally-Optimal-Point-Cloud-Alignment-using-Bayesian-Nonparametric-Mixtures.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jstraub/dpOptTrans">code]</a></li>
<li>[GORE] Guaranteed Outlier Removal for Point Cloud Registration with Correspondences, TPAMI’2017 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1711.10209">pdf]</a></li>
<li>[CSGM] A systematic approach for cross-source point cloud registration by preserving macro and micro structures, TIP’2017 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1608.05143">pdf]</a></li>
<li>[FDCP] Fast descriptors and correspondence propagation for robust global point cloud registration, TIP’2017 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/7918612/">pdf]</a></li>
<li>[RSWD] Multiscale Nonrigid Point Cloud Registration Using Rotation-Invariant Sliced-Wasserstein Distance via Laplace-Beltrami Eigenmap, SIAM JIS’2017 [<a target="_blank" rel="noopener" href="https://epubs.siam.org/doi/abs/10.1137/16M1068827">pdf]</a></li>
<li>[MR] Non-Rigid Point Set Registration with Robust Transformation Estimation under Manifold Regularization, AAAI’2017 [<a target="_blank" rel="noopener" href="https://www.aaai.org/ocs/index.php/AAAI/AAAI17/paper/download/14188/14303">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[LPM] Locality Preserving Matching, IJCAI’2017 [<a target="_blank" rel="noopener" href="https://www.ijcai.org/proceedings/2017/0627.pdf">pdf]</a> IJCV’2019 [<a target="_blank" rel="noopener" href="https://link.springer.com/article/10.1007/s11263-018-1117-z">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[DARE] Density adaptive point set registration, CVPR’2018 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1804.01495.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/felja633/DARE">code]</a></li>
<li>[GC-RANSAC] Graph-Cut RANSAC, CVPR’2018 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Barath_Graph-Cut_RANSAC_CVPR_2018_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/danini/graph-cut-ransac">code]</a></li>
<li>[3D-CODED] 3D-CODED: 3D correspondences by deep deformation, ECCV’2018 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_ECCV_2018/papers/Thibault_Groueix_Shape_correspondences_from_ECCV_2018_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://imagine.enpc.fr/~groueixt/3D-CODED/">project]</a> [<a target="_blank" rel="noopener" href="https://github.com/ThibaultGROUEIX/3D-CODED">code]</a></li>
<li>[3DFeat-NET] 3dfeat-net: Weakly supervised local 3d features for point cloud registration, ECCV’2018 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1807.09413">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/yewzijian/3DFeatNet">code]</a></li>
<li>[MVDesc-RMBP] Learning and Matching Multi-View Descriptors for Registration of Point Clouds, ECCV’2018 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_ECCV_2018/papers/Lei_Zhou_Learning_and_Matching_ECCV_2018_paper.pdf">pdf]</a></li>
<li>[SWS] Nonrigid Points Alignment with Soft-weighted Selection, IJCAI’2018 [<a target="_blank" rel="noopener" href="https://www.ijcai.org/proceedings/2018/0111.pdf">pdf]</a></li>
<li>[DLD] Dependent landmark drift: robust point set registration with aGaussian mixture model and a statistical shape model, arxiv’2018 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1711.06588">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/ohirose/dld">code]</a></li>
<li>[DeepMapping] DeepMapping: Unsupervised Map Estimation From Multiple Point Clouds, arxiv’2018 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1811.11397">pdf]</a> [<a target="_blank" rel="noopener" href="https://ai4ce.github.io/DeepMapping/">project]</a></li>
<li>[APSR] Adversarial point set registration, arxiv’2018 [<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1811.08139">pdf]</a></li>
<li>[3DIV] Fast and Globally Optimal Rigid Registration of 3D Point Sets by Transformation Decomposition, arxiv’2018 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1812.11307">pdf]</a></li>
<li>[Analysis] Analysis of Robust Functions for Registration Algorithms, arxiv’2018 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1810.01474">pdf]</a></li>
<li>[MVCNN] Learning Local Shape Descriptors from Part Correspondences with Multiview Convolutional Networks, TOG’2018 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1706.04496">pdf]</a> [<a target="_blank" rel="noopener" href="https://people.cs.umass.edu/~hbhuang/local_mvcnn/">project]</a></li>
<li>[CSCIF] Cubature Split Covariance Intersection Filter-Based Point Set Registration, TIP’2018 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/8332952/">pdf]</a></li>
<li>[FPR] Efficient Registration of High-Resolution Feature Enhanced Point Clouds, TPAMI’2018 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/8352814/">pdf]</a></li>
<li>[DFMM-GLSP] Non-rigid point set registration using dual-feature finite mixture model and global-local structural preservation, PR’2018 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Yang_Yang634/publication/323843423_Non-rigid_point_set_registration_using_dual-feature_finite_mixture_model_and_global-local_structural_preservation/links/5abda92545851584fa6fc44a/Non-rigid-point-set-registration-using-dual-feature-finite-mixture-model-and-global-local-structural-preservation.pdf">pdf]</a></li>
<li>[PR-Net] Non-Rigid Point Set Registration Networks, arxiv’2019 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1904.01428">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/Lingjing324/PR-Net">code]</a></li>
<li>[SDRSAC] SDRSAC: Semidefinite-Based Randomized Approach for Robust Point Cloud Registration without Correspondences, arxiv’2019 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1904.03483">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/intellhave/SDRSAC">code]</a></li>
<li>[3DRegNet] 3DRegNet: A Deep Neural Network for 3D Point Registration, arxiv’2019 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1904.01701.pdf">pdf]</a></li>
<li>[PointNetLK] PointNetLK: Robust &amp; Efficient Point Cloud Registration using PointNet, arxiv’2019 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1903.05711">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/hmgoforth/PointNetLK">code]</a></li>
<li>[RPM-MR] Nonrigid Point Set Registration with Robust Transformation Learning under Manifold Regularization, TNNLS’2019 [<a target="_blank" rel="noopener" href="https://pdfs.semanticscholar.org/e8c9/75165ffc5af6cad6961b25f29ea112ae50dd.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[FGMM] Feature-guided Gaussian mixture model for image matching, PR’2019 [<a target="_blank" rel="noopener" href="https://www.sciencedirect.com/science/article/pii/S0031320319301414">pdf]</a></li>
<li>[LSR-CFP] Least-squares registration of point sets over SE (d) using closed-form projections, CVIU’2019 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1904.04218">pdf]</a></li>
<li>[FilterReg] FilterReg: Robust and Efficient Probabilistic Point-Set Registration using Gaussian Filter and Twist Parameterization, CVPR’2019 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1811.10136">pdf]</a> [<a target="_blank" rel="noopener" href="https://sites.google.com/view/filterreg/home">project]</a> [<a target="_blank" rel="noopener" href="https://bitbucket.org/gaowei19951004/poser/src/master/">code]</a></li>
<li>[TEASER] A Polynomial-time Solution for Robust Registration with Extreme Outlier Rates, arxiv’2019 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1903.08588">pdf]</a></li>
</ul>
<h6 id="Mismatch-Removal-Methods"><a href="#Mismatch-Removal-Methods" class="headerlink" title="Mismatch Removal Methods"></a>Mismatch Removal Methods</h6><ul>
<li>[RANSAC] Random sample consensus: a paradigm for model fitting with applications to image analysis and automated cartography, 1981 [<a target="_blank" rel="noopener" href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a460585.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Random_sample_consensus">wiki]</a></li>
<li>[MLESAC] MLESAC: A new robust estimator with application to estimating image geometry, CVIU’2000 [<a target="_blank" rel="noopener" href="http://www.academia.edu/download/3436793/torr_mlesac.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/PointCloudLibrary/pcl/tree/master/sample_consensus/include/pcl/sample_consensus">code_pcl]</a></li>
<li>[PROSAC] Matching with PROSAC-progressive sample consensus, CVPR’2005 [<a target="_blank" rel="noopener" href="https://dspace.cvut.cz/bitstream/handle/10467/9496/2005-Matching-with-PROSAC-progressive-sample-consensus.pdf?sequence=1">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/PointCloudLibrary/pcl/tree/master/sample_consensus/include/pcl/sample_consensus">code_pcl]</a></li>
<li>[ICF&#x2F;SVR] Rejecting mismatches by correspondence function, IJCV’2010 [<a target="_blank" rel="noopener" href="http://www.nlpr.ia.ac.cn/2010papers/kz/gk24.pdf">pdf]</a></li>
<li>[GS] Common visual pattern discovery via spatially coherent correspondences, CVPR’2010 [[pdf]](<a target="_blank" rel="noopener" href="http://www.jdl.ac.cn/project/faceId/paperreading/Paper/Common">http://www.jdl.ac.cn/project/faceId/paperreading/Paper/Common</a> Visual Pattern Discovery via Spatially Coherent Correspondences.pdf) [<a target="_blank" rel="noopener" href="https://sites.google.com/site/lhrbss/home/papers/SimplifiedCode.zip?attredirects=0">code]</a></li>
<li>[VFC] A robust method for vector field learning with application to mismatch removing, CVPR’2011 [<a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.721.5913&rep=rep1&type=pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[DefRANSAC] In defence of RANSAC for outlier rejection in deformable registration, ECCV’2012 [[pdf]](<a target="_blank" rel="noopener" href="https://media.adelaide.edu.au/acvt/Publications/2012/2012-In">https://media.adelaide.edu.au/acvt/Publications/2012/2012-In</a> Defence of RANSAC for Outlier Rejection in Deformable Registration.pdf) [<a target="_blank" rel="noopener" href="https://cs.adelaide.edu.au/~tjchin/lib/exe/fetch.php?media=code:eccv12code.zip">code]</a></li>
<li>[CM] Robust Non-parametric Data Fitting for Correspondence Modeling, ICCV’2013 [<a target="_blank" rel="noopener" href="https://mmcheng.net/mftp/Papers/DataFittingICCV13.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://sites.google.com/site/laoszefei81/home/code-1/code-curve-fitting">code]</a></li>
<li>[AGMM] Asymmetrical Gauss Mixture Models for Point Sets Matching, CVPR’2014 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2014/papers/Tao_Asymmetrical_Gauss_Mixture_2014_CVPR_paper.pdf">pdf]</a></li>
<li>[TC] Epipolar geometry estimation for wide baseline stereo by Clustering Pairing Consensus, PRL’2014 [<a target="_blank" rel="noopener" href="http://or.nsfc.gov.cn/bitstream/00001903-5/96605/1/1000007190373.pdf">pdf]</a></li>
<li>[BF] Bilateral Functions for Global Motion Modeling, ECCV’2014 [<a target="_blank" rel="noopener" href="http://mftp.mmcheng.net/Papers/CoherentModelingS.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://mmcheng.net/bfun/">project]</a> [<a target="_blank" rel="noopener" href="http://mftp.mmcheng.net/Data/eccv_2014_release.zip">code]</a></li>
<li>[WxBS] WxBS: Wide Baseline Stereo Generalizations, BMVC’2015 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1504.06603">pdf]</a> [<a target="_blank" rel="noopener" href="http://cmp.felk.cvut.cz/wbs/">project]</a></li>
<li>[RepMatch] RepMatch: Robust Feature Matching and Posefor Reconstructing Modern Cities, ECCV’2016 [<a target="_blank" rel="noopener" href="http://www.kind-of-works.com/papers/eccv_2016_repmatch.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.kind-of-works.com/RepMatch.html">project]</a> [<a target="_blank" rel="noopener" href="http://www.kind-of-works.com/code/repmatch_code_bf_small.zip">code]</a></li>
<li>[SIM] The shape interaction matrix-based affine invariant mismatch removal for partial-duplicate image search, TIP’2017 [<a target="_blank" rel="noopener" href="http://www.cis.pku.edu.cn/faculty/vision/zlin/Publications/2017-TIP-SIM.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/lylinyang/demo_SIM">code]</a></li>
<li>[DSAC] DSAC: differentiable RANSAC for camera localization, CVPR’2017 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2017/papers/Brachmann_DSAC_-_Differentiable_CVPR_2017_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/cvlab-dresden/DSAC">code]</a></li>
<li>[GMS] GMS: Grid-based Motion Statistics for Fast, Ultra-robust Feature Correspondence, CVPR’2017 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2017/papers/Bian_GMS_Grid-based_Motion_CVPR_2017_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/JiawangBian/GMS-Feature-Matcher">code]</a></li>
<li>[LMI] Consensus Maximization with Linear Matrix Inequality Constraints, CVPR’2017 [<a target="_blank" rel="noopener" href="https://www.cvg.ethz.ch/research/conmax/paper/PSpeciale2017CVPR.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://www.cvg.ethz.ch/research/conmax/">project]</a> [<a target="_blank" rel="noopener" href="https://www.cvg.ethz.ch/research/conmax/paper/PSpeciale2017CVPR_code_sample.tar.gz">code]</a></li>
<li>[LFGC] Learning to Find Good Correspondences, CVPR’2018 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2018/CameraReady/1453.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/vcg-uvic/learned-correspondence-release">code]</a></li>
<li>[GC-RANSAC] Graph-Cut RANSAC, CVPR’2018 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Barath_Graph-Cut_RANSAC_CVPR_2018_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/danini/graph-cut-ransac">code]</a></li>
<li>[SRC] Consensus Maximization for Semantic Region Correspondences, CVPR’2018 [<a target="_blank" rel="noopener" href="https://www.cvg.ethz.ch/research/secon/paper/PSpeciale2018CVPR.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://www.cvg.ethz.ch/research/secon/paper/PSpeciale2018CVPR_code_sample.zip">code]</a></li>
<li>[CODE] Code: Coherence based decision boundaries for feature correspondence, TPAMI’2018 [<a target="_blank" rel="noopener" href="https://ora.ox.ac.uk/objects/uuid:0e5a62ab-fb69-472f-a1e1-49d49595db62/download_file?safe_filename=matching.pdf&file_format=application/pdf&type_of_work=Journal+article">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.kind-of-works.com/CODE_matching.html">project]</a></li>
<li>[LPM] Locality preserving matching, IJCV’2019 [<a target="_blank" rel="noopener" href="https://link.springer.com/article/10.1007/s11263-018-1117-z">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
<li>[LMR] LMR: Learning A Two-class Classifier for Mismatch Removal, TIP’2019 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/8672170/">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/StaRainJ/LMR">code]</a></li>
<li>[PFFM] Progressive Filtering for Feature Matching, ICASSP’2019 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/8682372/">pdf]</a></li>
<li>[NM-Net] NM-Net: Mining Reliable Neighbors for Robust Feature Correspondences, arXiv’2019 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1904.00320">pdf]</a></li>
</ul>
<h6 id="Graph-Matching-Methods"><a href="#Graph-Matching-Methods" class="headerlink" title="Graph Matching Methods"></a>Graph Matching Methods</h6><ul>
<li>[SM] A spectral technique for correspondence problems using pairwise constraints, ICCV’2005 [<a target="_blank" rel="noopener" href="https://kilthub.figshare.com/articles/A_Spectral_Technique_for_Correspondence_Problems_Using_Pairwise_Constraints/6551327/files/12031808.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://sites.google.com/site/graphmatchingmethods/Code_including_Spectral_Matching.zip?attredirects=0">code]</a></li>
<li>[SM-MAP] Efficient MAP approximation for dense energy functions, ICML’2006 [<a target="_blank" rel="noopener" href="https://kilthub.figshare.com/articles/Efficient_MAP_Approximation_For_Dense_Energy_Functions/6554678/files/12036863.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://sites.google.com/site/graphmatchingmethods/Code_including_IPFP_and_L2QP_for_MAP_Inference.zip?attredirects=0">code]</a></li>
<li>[SMAC] Balanced Graph Matching, NIPS’2006 [<a target="_blank" rel="noopener" href="http://papers.nips.cc/paper/2960-balanced-graph-matching.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.timotheecour.com/software/graph_matching/graph_matching.html">code]</a></li>
<li>[FCGM] Feature correspondence via graph matching: Models and global optimization, ECCV’2008 [<a target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/research/wp-content/uploads/2008/10/TR-2008-101.pdf">pdf]</a></li>
<li>[PM] Probabilistic Graph and Hypergraph Matching, CVPR’2008 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Amnon_Shashua/publication/221361679_Probabilistic_graph_and_hypergraph_matching/links/55cc5f3008aeca747d6c288d/Probabilistic-graph-and-hypergraph-matching.pdf">pdf]</a></li>
<li>[IPFP] An Integer Projected Fixed Point Method for Graph Matching and MAP Inference, NIPS’2009 [<a target="_blank" rel="noopener" href="http://papers.nips.cc/paper/3756-an-integer-projected-fixed-point-method-for-graph-matching-and-map-inference.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://sites.google.com/site/graphmatchingmethods/Code_including_IPFP.zip?attredirects=0">code]</a></li>
<li>[RRWM] Reweighted Random Walks for Graph Matching, ECCV’2010 [<a target="_blank" rel="noopener" href="https://link.springer.com/chapter/10.1007/978-3-642-15555-0_36">pdf]</a></li>
<li>[FGM] Factorized graph matching, CVPR’2012 [<a target="_blank" rel="noopener" href="https://kilthub.figshare.com/articles/Factorized_Graph_Matching/6554858/files/12037043.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.f-zhou.com/gm_code.html">code]</a></li>
<li>[DGM] Deformable Graph Matching, CVPR’2013 [<a target="_blank" rel="noopener" href="https://www.cv-foundation.org/openaccess/content_cvpr_2013/papers/Zhou_Deformable_Graph_Matching_2013_CVPR_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/zhfe99/fgm">code]</a></li>
<li>[MS] Progressive mode-seeking on graphs for sparse feature matching, ECCV’2014 [<a target="_blank" rel="noopener" href="http://ro.uow.edu.au/cgi/viewcontent.cgi?article=5118&context=eispapers">pdf]</a> [<a target="_blank" rel="noopener" href="https://download.csdn.net/download/family0823/9366365?fps=1&locationNum=1">code]</a></li>
</ul>
<h6 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h6><ul>
<li>[RootSIFT] Three things everyone should know to improve object retrieval, CVPR’2012 [<a target="_blank" rel="noopener" href="http://www.cs.sfu.ca/CourseCentral/820/li/material/source/papers/3things-retrieval-2012.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://www.pyimagesearch.com/2015/04/13/implementing-rootsift-in-python-and-opencv/#">related code]</a></li>
<li>[DM-CNN] Descriptor Matching with Convolutional Neural Networks: a Comparison to SIFT, arXiv’2014 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Alexey_Dosovitskiy/publication/262568634_Descriptor_Matching_with_Convolutional_Neural_Networks_a_Comparison_to_SIFT/links/541fe8dc0cf2218008d41617.pdf">pdf]</a></li>
<li>[DASC] DASC: Robust Dense Descriptor for Multi-modal and Multi-spectral Correspondence Estimation, TPAMI’2017 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1604.07944">pdf]</a> [<a target="_blank" rel="noopener" href="http://diml.yonsei.ac.kr/~srkim/DASC/">project]</a></li>
<li>[MODS] MODS: Fast and Robust Method for Two-View Matching, CVIU’2015 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1503.02619">pdf]</a> [<a target="_blank" rel="noopener" href="http://cmp.felk.cvut.cz/wbs/">project]</a> [<a target="_blank" rel="noopener" href="https://github.com/ducha-aiki/mods">code]</a></li>
<li>[Elastic2D3D] Efficient Globally Optimal 2D-to-3D Deformable Shape Matching, CVPR’2016 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2016/papers/Lahner_Efficient_Globally_Optimal_CVPR_2016_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://vision.in.tum.de/~laehner/Elastic2D3D/">project]</a></li>
<li>[TCDCN] Facial Landmark Detection by Deep Multi-task Learning, ECCV’2014 [<a target="_blank" rel="noopener" href="http://home.ie.cuhk.edu.hk/~ccloy/files/eccv_2014_deepfacealign.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://mmlab.ie.cuhk.edu.hk/projects/TCDCN.html">project]</a></li>
<li>[LAI] Object matching using a locally affine invariant and linear programming techniques, TPAMI’2013 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/6189359/">pdf]</a></li>
<li>[GeoDesc] GeoDesc: Learning Local Descriptors by Integrating Geometry Constraints, ECCV’2018 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_ECCV_2018/papers/Zixin_Luo_Learning_Local_Descriptors_ECCV_2018_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/lzx551402/geodesc">code]</a></li>
</ul>
<h6 id="Deep-Features"><a href="#Deep-Features" class="headerlink" title="Deep Features"></a>Deep Features</h6><ul>
<li>[TFeat] Learning local feature descriptors with triplets and shallow convolutional neural networks, BMVC’2016 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Krystian_Mikolajczyk/publication/317192886_Learning_local_feature_descriptors_with_triplets_and_shallow_convolutional_neural_networks/links/5a038dad0f7e9beb1770c3c2/Learning-local-feature-descriptors-with-triplets-and-shallow-convolutional-neural-networks.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/vbalnt/tfeat">code]</a></li>
<li>[L2-Net] L2-Net: Deep Learning of Discriminative Patch Descriptor in Euclidean Space, CVPR’2017 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_cvpr_2017/papers/Tian_L2-Net_Deep_Learning_CVPR_2017_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/yuruntian/L2-Net">code]</a></li>
<li>[HardNet] Working hard to know your neighbor’s margins: Local descriptor learning loss, CVPR’2018 [<a target="_blank" rel="noopener" href="http://papers.nips.cc/paper/7068-working-hard-to-know-your-neighbors-margins-local-descriptor-learning-loss.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/DagnyT/hardnet/tree/master">code]</a></li>
<li>[AffNet] Repeatability Is Not Enough: Learning Discriminative Affine Regions via Discriminability, ECCV’2018 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_ECCV_2018/papers/Dmytro_Mishkin_Repeatability_Is_Not_ECCV_2018_paper.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/ducha-aiki/affnet">code]</a></li>
</ul>
<h3 id="APPLICATIONS"><a href="#APPLICATIONS" class="headerlink" title="APPLICATIONS"></a>APPLICATIONS</h3><h6 id="Remote-Sensing-Image-Registration"><a href="#Remote-Sensing-Image-Registration" class="headerlink" title="Remote Sensing Image Registration"></a>Remote Sensing Image Registration</h6><ul>
<li>[GLPM] Guided Locality Preserving Feature Matching for Remote Sensing Image Registration, TGRS’2018 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/8340808/">pdf]</a></li>
</ul>
<h6 id="Retinal-Image-Registration"><a href="#Retinal-Image-Registration" class="headerlink" title="Retinal Image Registration"></a>Retinal Image Registration</h6><ul>
<li>[DB-ICP] The dual-bootstrap iterative closest point algorithm with application to retinal image registration, TMI’2003 [<a target="_blank" rel="noopener" href="http://www.cs.rpi.edu/~stewart/papers/dual_bootstrap_icp.pdf">pdf]</a></li>
<li>[GDB-ICP] Registration of Challenging Image Pairs: Initialization, Estimation, and Decision, TPAMI’2007 [<a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.226.2782&rep=rep1&type=pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.vision.cs.rpi.edu/gdbicp/">project]</a></li>
<li>[ED-DB-ICP] The edge-driven dual-bootstrap iterative closest point algorithm for registration of multimodal fluorescein angiogram sequence, TMI’2010 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/5223602/">pdf]</a></li>
</ul>
<h6 id="Palmprint-Image-Registration"><a href="#Palmprint-Image-Registration" class="headerlink" title="Palmprint Image Registration"></a>Palmprint Image Registration</h6><ul>
<li>Robust and efficient ridge-based palmprint matching, TPAMI’2012 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/6112761/">pdf]</a></li>
<li>Palmprint image registration using convolutional neural networks and Hough transform, arxiv’2019 [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1904.00579">pdf]</a></li>
</ul>
<h6 id="Visual-Homing-Navigation"><a href="#Visual-Homing-Navigation" class="headerlink" title="Visual Homing Navigation"></a>Visual Homing Navigation</h6><ul>
<li>Visual Homing via Guided Locality Preserving Matching, ICRA’2018 [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/8460935/">pdf]</a></li>
</ul>
<h6 id="HDR-Imaging"><a href="#HDR-Imaging" class="headerlink" title="HDR Imaging"></a>HDR Imaging</h6><ul>
<li>Locally non-rigid registration for mobile HDR photography, CVPRW’2015 [<a target="_blank" rel="noopener" href="https://www.cv-foundation.org/openaccess/content_cvpr_workshops_2015/W12/papers/Gallo_Locally_Non-Rigid_Registration_2015_CVPR_paper.pdf">pdf]</a></li>
</ul>
<h6 id="Misc-1"><a href="#Misc-1" class="headerlink" title="Misc"></a>Misc</h6><ul>
<li>Hand Motion from 3D Point Trajectories and a Smooth Surface Model, ECCV’2004 [<a target="_blank" rel="noopener" href="https://hal.inria.fr/inria-00262293/document">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.inrialpes.fr/movi">project]</a></li>
<li>A robust hybrid method for nonrigid image registration, PR’2011 [<a target="_blank" rel="noopener" href="https://www.sciencedirect.com/science/article/pii/S0031320310004930">pdf]</a></li>
<li>Aligning Images in the Wild, CVPR’2012 [<a target="_blank" rel="noopener" href="https://www.comp.nus.edu.sg/~lowkl/publications/aligning_images_cvpr2012.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://sites.google.com/site/laoszefei81/home/code-1/code-for-aligning-images-in-the-wild">code]</a></li>
<li>Robust feature set matching for partial face recognition, CVPR’2013 [<a target="_blank" rel="noopener" href="http://openaccess.thecvf.com/content_iccv_2013/papers/Weng_Robust_Feature_Set_2013_ICCV_paper.pdf">pdf]</a></li>
<li>Multi-modal and Multi-spectral Registrationfor Natural Images, ECCV’2014 [<a target="_blank" rel="noopener" href="http://www.cse.cuhk.edu.hk/~leojia/projects/multimodal/papers/multispectral_registration.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="http://www.cse.cuhk.edu.hk/~leojia/projects/multimodal/">project]</a></li>
<li>Articulated and Generalized Gaussian KernelCorrelation for Human Pose Estimation, TIP’2016 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/publication/286510775_Articulated_and_Generalized_Gaussian_Kernel_Correlation_for_Human_Pose_Estimation?enrichId=rgreq-1fc1a14d1ced5b1cefa92e498e22f862-XXX&enrichSource=Y292ZXJQYWdlOzI4NjUxMDc3NTtBUzozMzg0NjEwNTc1MzE5MDRAMTQ1NzcwNjgxMjgwMQ==&el=1_x_3&_esc=publicationCoverPdf">pdf]</a></li>
<li>Infrared and visible image fusion via gradient transfer and total variation minimization, Information Fusion’2016 [<a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Chang_Li37/publication/292680729_Infrared_and_visible_image_fusion_via_gradient_transfer_and_total_variation_minimization/links/5a10e6cca6fdccc2d7999da3/Infrared-and-visible-image-fusion-via-gradient-transfer-and-total-variation-minimization.pdf">pdf]</a> [<a target="_blank" rel="noopener" href="https://github.com/jiayi-ma?tab=repositories">code]</a></li>
</ul>
<h3 id="DATABASES"><a href="#DATABASES" class="headerlink" title="DATABASES"></a>DATABASES</h3><h6 id="General-databases"><a href="#General-databases" class="headerlink" title="General databases"></a>General databases</h6><ul>
<li><a target="_blank" rel="noopener" href="https://www.cise.ufl.edu/~anand/students/chui/research.html">2D Synthesized Chui-Rangarajan Dataset (deformation, noise, and outliers)</a></li>
<li><a target="_blank" rel="noopener" href="http://tosca.cs.technion.ac.il/book/resources_data.html">TOSCA</a></li>
<li><a target="_blank" rel="noopener" href="http://vision.middlebury.edu/mview/data/">Multi-View Stereo Dataset</a></li>
<li><a target="_blank" rel="noopener" href="http://grail.cs.washington.edu/projects/mvscpc/">Multi-View Stereo for Community Photo Collections</a></li>
<li><a target="_blank" rel="noopener" href="https://cvlab.epfl.ch/data/data-strechamvs/">Multi-View Stereo</a></li>
<li><a target="_blank" rel="noopener" href="http://www.robots.ox.ac.uk/~vgg/data/data-aff.html">VGG Affine Datasets</a></li>
<li><a target="_blank" rel="noopener" href="http://www.robots.ox.ac.uk/~vgg/data1.html">Multi-view VGG’s Dataset</a></li>
<li><a target="_blank" rel="noopener" href="http://www.robots.ox.ac.uk/~vgg/data2.html">Oxford Building Reconstruction</a></li>
<li><a target="_blank" rel="noopener" href="http://www.imm.dtu.dk/~aam/datasets/datasets.html">IMM Datasets</a></li>
<li><a target="_blank" rel="noopener" href="http://www.imageprocessingplace.com/downloads_V3/root_downloads/image_databases/MPEG7_CE-Shape-1_Part_B.zip">MPEG7 CE Shape-1 Part B</a></li>
<li>[Leaf Shapes Database](<a target="_blank" rel="noopener" href="http://www.imageprocessingplace.com/downloads_V3/root_downloads/image_databases/leaf">http://www.imageprocessingplace.com/downloads_V3/root_downloads/image_databases/leaf</a> shape database&#x2F;leaf_shapes_downloads.htm)</li>
<li><a target="_blank" rel="noopener" href="http://vasc.ri.cmu.edu/idb/html/motion/house/index.html">CMU House&#x2F;Hotel Sequence Images</a></li>
<li><a target="_blank" rel="noopener" href="https://lmb.informatik.uni-freiburg.de/resources/datasets/genmatch.en.html">Generated Matching Dataset</a></li>
<li><a target="_blank" rel="noopener" href="https://lmb.informatik.uni-freiburg.de/resources/datasets/sequences.en.html">Image Sequences</a></li>
<li><a target="_blank" rel="noopener" href="http://tosca.cs.technion.ac.il/book/resources_data.html">Mythological creatures 2D</a></li>
<li><a target="_blank" rel="noopener" href="http://tosca.cs.technion.ac.il/book/resources_data.html">Tools 2D</a></li>
<li><a target="_blank" rel="noopener" href="http://tosca.cs.technion.ac.il/book/resources_data.html">Human face</a></li>
<li><a target="_blank" rel="noopener" href="https://drive.google.com/drive/folders/0B7CshFGxfi_5RVoyYzFyMUhuZnM">Cars &amp; Motorbikes</a></li>
<li><a target="_blank" rel="noopener" href="http://diml.yonsei.ac.kr/~srkim/DASC/DIMLmultimodal/">DIML Multimodal Benchmark</a></li>
<li><a target="_blank" rel="noopener" href="http://3drepresentation.stanford.edu/">Street View Dataset</a> [<a target="_blank" rel="noopener" href="https://github.com/amir32002/3D_Street_View">github]</a> [<a target="_blank" rel="noopener" href="https://console.cloud.google.com/storage/browser/streetview_image_pose_3d">data]</a></li>
<li><a target="_blank" rel="noopener" href="http://cmp.felk.cvut.cz/wbs/datasets/EVD.zip">EVD: Extreme View Dataset</a> [<a target="_blank" rel="noopener" href="http://cmp.felk.cvut.cz/wbs/datasets/EVD_tentatives.zip">EVD_tentatives]</a> [<a target="_blank" rel="noopener" href="http://cmp.felk.cvut.cz/wbs/datasets/ExtremeZoomDataset.zip">EZD]</a></li>
<li><a target="_blank" rel="noopener" href="http://cmp.felk.cvut.cz/wbs/datasets/WxBS-dataset.zip">WxBS: Wide Baseline Dataset</a> [<a target="_blank" rel="noopener" href="http://cmp.felk.cvut.cz/wbs/datasets/W1BS.tar.gz">W1BS]</a></li>
<li><a target="_blank" rel="noopener" href="http://graphics.stanford.edu/data/3Dscanrep/">Stanford 3D Scanning</a></li>
<li><a target="_blank" rel="noopener" href="http://faust.is.tue.mpg.de/">MPI FAUST Dataset</a></li>
<li><a target="_blank" rel="noopener" href="http://lear.inrialpes.fr/people/mikolajczyk/Database/index.html">Mikolajczyk Database</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ti.uni-bielefeld.de/html/research/avardy/index.html">Panoramic Image Database</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/rmitra/PS-Dataset">PS-Dataset (A Large Dataset for improving Patch Matching, PhotoSynth Dataset for improving local patch Descriptors)</a></li>
<li><a target="_blank" rel="noopener" href="http://cmp.felk.cvut.cz/data/geometry2view/index.xhtml">Two-view Geometry</a></li>
<li><a target="_blank" rel="noopener" href="https://projet.liris.cnrs.fr/pcr/">Point clouds data sets for 3D registration</a></li>
<li><a target="_blank" rel="noopener" href="https://image-matching-workshop.github.io/challenge/">IMW CVPR 2019: Challenge</a></li>
<li><a target="_blank" rel="noopener" href="http://kos.informatik.uni-osnabrueck.de/3Dscans/">Robotic 3D Scan Repository</a></li>
<li><a target="_blank" rel="noopener" href="http://staffhome.ecm.uwa.edu.au/~00053650/3Dmodeling.html">Database for 3D surface registration</a></li>
</ul>
<h6 id="Other-databases"><a href="#Other-databases" class="headerlink" title="Other databases"></a>Other databases</h6><ul>
<li><a target="_blank" rel="noopener" href="https://www.ics.forth.gr/cvrl/fire/">FIRE: Fundus Image Registration Dataset</a></li>
<li><a target="_blank" rel="noopener" href="http://www.isi.uu.nl/Research/Databases/DRIVE/">DRIVE (Retinal Images)</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ia.uned.es/~ejcarmona/DRIONS-DB.html">DRIONS-DB (Retinal Images)</a></li>
<li><a target="_blank" rel="noopener" href="http://cecas.clemson.edu/~ahoover/stare/">STARE (Retinal Images)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.plant-phenotyping.org/datasets-download">Plant Images</a></li>
<li><a target="_blank" rel="noopener" href="https://bigr-xnat.erasmusmc.nl/">MR Prostate Images</a></li>
<li><a target="_blank" rel="noopener" href="http://www.cs.cmu.edu/afs/cs/project/cil/www/v-images.html">CV Images</a></li>
<li><a target="_blank" rel="noopener" href="http://www.vision.ee.ethz.ch/en/datasets/">ETHZ Datasets</a></li>
<li><a target="_blank" rel="noopener" href="http://www.cvpapers.com/datasets.html">CVPapers</a></li>
<li><a target="_blank" rel="noopener" href="https://riemenschneider.hayko.at/vision/dataset">YACVID</a></li>
<li><a target="_blank" rel="noopener" href="http://mplab.sztaki.hu/remotesensing/index.html">Intelligent remote sensing data analyis</a></li>
</ul>
<h3 id="TOOLS"><a href="#TOOLS" class="headerlink" title="TOOLS"></a>TOOLS</h3><ul>
<li><a target="_blank" rel="noopener" href="http://www.vlfeat.org/">VLFeat</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/PointCloudLibrary/pcl">PCL: Point Cloud Library</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/ethz-asl/libpointmatcher">Pointmatcher: a modular library implementing the ICP algorithm for aligning point clouds</a></li>
<li><a target="_blank" rel="noopener" href="http://www.open3d.org/docs/index.html">Open3D: A Modern Library for 3D Data Processing</a></li>
<li><a target="_blank" rel="noopener" href="http://mvviewer.gforge.inria.fr/">3D keypoints (MeshDOG) and local descriptors (MeshHOG)</a></li>
<li><a target="_blank" rel="noopener" href="https://colmap.github.io/">COLMAP</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/openMVG/openMVG">OpenMVG: open Multiple View Geometry</a></li>
<li><a target="_blank" rel="noopener" href="http://ccwu.me/vsfm/">VisualSFM : A Visual Structure from Motion System</a></li>
<li><a target="_blank" rel="noopener" href="https://sites.google.com/site/myronenko/research/mirt">Medical Image Registration Toolbox</a></li>
<li><a target="_blank" rel="noopener" href="http://www.timotheecour.com/software/graph_matching/graph_matching.html">Graph Matching Toolbox in MATLAB</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/C4IR/FAIR.m">FAIR: Flexible Algorithms for Image Registration</a> [<a target="_blank" rel="noopener" href="http://www.siam.org/books/fa06/Modersitzki_FAIR_2009_FA06.pdf">pdf]</a></li>
<li><a target="_blank" rel="noopener" href="http://eia.udg.es/~cmatabos/research.htm">Range Image Registration Toolbox</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/23/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><span class="page-number current">24</span><a class="page-number" href="/page/25/">25</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><a class="extend next" rel="next" href="/page/25/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Simon Shi</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">322</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">142</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">269</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:yourname@gmail.com" title="E-Mail → mailto:yourname@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Simon Shi</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

</body>
</html>
