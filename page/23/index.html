<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"novav.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Simon Shi的小站">
<meta property="og:url" content="https://novav.github.io/page/23/index.html">
<meta property="og:site_name" content="Simon Shi的小站">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Simon Shi">
<meta property="article:tag" content="AI,Machine Learning, Deep Learning">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://novav.github.io/page/23/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Simon Shi的小站</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Simon Shi的小站</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">人工智能，机器学习， 强化学习，大模型，自动驾驶</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/10/29/Sub_Language/CPlus/Language-Cplus/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/29/Sub_Language/CPlus/Language-Cplus/" class="post-title-link" itemprop="url">C++ 备忘录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-29 16:00:52" itemprop="dateCreated datePublished" datetime="2020-10-29T16:00:52+00:00">2020-10-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/" itemprop="url" rel="index"><span itemprop="name">dev</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/c/" itemprop="url" rel="index"><span itemprop="name">c++</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<h2 id="相关书籍"><a href="#相关书籍" class="headerlink" title="相关书籍"></a>相关书籍</h2><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>入门</td>
<td>C++ Primer Plus</td>
<td></td>
</tr>
<tr>
<td></td>
<td>C++ Primer</td>
<td></td>
</tr>
<tr>
<td>提高</td>
<td>深度探索C++对象模型</td>
<td></td>
</tr>
<tr>
<td></td>
<td>More Effective C++ 35</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Effective C++ 55</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Effective Modern C++</td>
<td></td>
</tr>
<tr>
<td>进阶篇</td>
<td>STL 源码剖析</td>
<td></td>
</tr>
<tr>
<td></td>
<td>C++标准库</td>
<td></td>
</tr>
<tr>
<td></td>
<td>GOF23 设计模式 C++</td>
<td></td>
</tr>
<tr>
<td></td>
<td>C++并发编程实战</td>
<td></td>
</tr>
<tr>
<td></td>
<td>C++性能优化指南</td>
<td></td>
</tr>
<tr>
<td>网络编程</td>
<td>Linux多线程-服务端编程-<br>使用muduo c++ 网络库</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Unix网络编程 三件套</td>
<td></td>
</tr>
<tr>
<td></td>
<td>TCP&#x2F;UP协议 三卷</td>
<td></td>
</tr>
</tbody></table>
<h2 id="APIs"><a href="#APIs" class="headerlink" title="APIs"></a>APIs</h2><h3 id="标准库"><a href="#标准库" class="headerlink" title="标准库"></a>标准库</h3><h4 id="1-int-float-to-string-array"><a href="#1-int-float-to-string-array" class="headerlink" title="1.int&#x2F;float to string&#x2F;array:"></a><strong>1.int&#x2F;float to string&#x2F;array:</strong></h4><p>C语言提供了几个标准库函数，可以将任意类型(整型、长整型、浮点型等)的数字转换为字符串，下面列举了各函数的方法及其说明。<br>● itoa()：将整型值转换为字符串<br>● ltoa()：将长整型值转换为字符串。<br>● ultoa()：将无符号长整型值转换为字符串。<br>● gcvt()：将浮点型数转换为字符串，取四舍五入。<br>● ecvt()：将双精度浮点型值转换为字符串，转换结果中不包含十进制小数点。<br>● fcvt()：指定位数为转换精度，其余同ecvt()。</p>
<p>除此外，还可以使用<strong>sprintf</strong>系列函数把数字转换成字符串，其比itoa()系列函数运行速度慢</p>
<h4 id="2-string-array-to-int-float"><a href="#2-string-array-to-int-float" class="headerlink" title="2. string&#x2F;array to int&#x2F;float"></a><strong>2. string&#x2F;array to int&#x2F;float</strong></h4><p>C&#x2F;C++语言提供了几个标准库函数，可以将字符串转换为任意类型(整型、长整型、浮点型等)。</p>
<p>● atof()：将字符串转换为双精度浮点型值。<br>● atoi()：将字符串转换为整型值。<br>● atol()：将字符串转换为长整型值。<br>● strtod()：将字符串转换为双精度浮点型值，并报告不能被转换的所有剩余数字。<br>● strtol()：将字符串转换为长整值，并报告不能被转换的所有剩余数字。<br>● strtoul()：将字符串转换为无符号长整型值，并报告不能被转换的所有剩余数字。</p>
<h3 id="数据类型-变量-常量"><a href="#数据类型-变量-常量" class="headerlink" title="数据类型&amp;变量&amp;常量"></a>数据类型&amp;变量&amp;常量</h3><h4 id="int-to-string"><a href="#int-to-string" class="headerlink" title="int to string"></a>int to string</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.</span></span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">char</span> *intStr = <span class="built_in">itoa</span>(a);</span><br><span class="line">string str = <span class="built_in">string</span>(intStr);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2</span></span><br><span class="line">stringstream ss;</span><br><span class="line">ss &lt;&lt; a;</span><br><span class="line">string str = ss.<span class="built_in">str</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//3 c++11</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line">std::string s = std::<span class="built_in">to_string</span>(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//4 C++ 98</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SSTR(x) static_cost<span class="string">&lt;std::ostringstream &amp;&gt;</span> ((std::ostringstream() &lt;&lt; std::dec &lt;&lt; x)).str()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//5 Boost</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/lexical_cast.hpp&gt;</span></span></span><br><span class="line"><span class="type">int</span> num = <span class="number">4</span>;</span><br><span class="line">std::string str = boost::<span class="built_in">lexical_cast</span>&lt;std::string&gt;(num);</span><br></pre></td></tr></table></figure>

<h4 id="rand"><a href="#rand" class="headerlink" title="rand"></a>rand</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> N = <span class="built_in">rand</span>() % <span class="number">11</span>;     <span class="comment">// 0~10的随机数</span></span><br><span class="line"><span class="type">int</span> N = <span class="built_in">rand</span>() % <span class="number">10</span>;     <span class="comment">// 0~9的随机数</span></span><br><span class="line"><span class="type">int</span> N = <span class="number">1</span> + <span class="built_in">rand</span>() % <span class="number">10</span>; <span class="comment">// 1-10</span></span><br><span class="line">a + <span class="built_in">rand</span>() % n </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>（<span class="number">1</span>==rand（）%<span class="number">10</span>）</span><br><span class="line"> <span class="comment">//10%的概率达成，这里编辑余下代码</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"> <span class="comment">//90%的概率没达成，这里编辑余下代码</span></span><br></pre></td></tr></table></figure>

<h3 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h3><p>unsinge</p>
<h3 id="存储类"><a href="#存储类" class="headerlink" title="存储类"></a>存储类</h3><ul>
<li><p>auto</p>
</li>
<li><p>register</p>
</li>
<li><p>static  全局变量</p>
</li>
<li><p>extern  全局变量的引用</p>
</li>
<li><p>mutable</p>
</li>
<li><p>thread_local (C++11)</p>
</li>
<li><p>const (只读变量)</p>
</li>
<li><p>constptr (常量)</p>
<ul>
<li><p>C++ 11标准中，为了解决 const 关键字的双重语义问题，保留了 const 表示“只读”的语义，而将“常量”的语义划分给了新添加的 constexpr 关键字。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/7807.html">C++11 constexpr和const的区别详解</a></p>
</li>
</ul>
</li>
</ul>
<p>从 C++ 17 开始，auto 关键字不再是 C++ 存储类说明符，且 register 关键字被弃用。</p>
<h3 id="运算符-循环-判断"><a href="#运算符-循环-判断" class="headerlink" title="运算符 循环 判断"></a>运算符 循环 判断</h3><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(Cobject* object)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(Cobect&amp; object)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(Cobject object)</span></span>;</span><br></pre></td></tr></table></figure>

<p>有什么区别呢？</p>
<ol>
<li><p>void func(Cobject* object)</p>
<p>这种方式是将<strong>类指针</strong>作为参数，函数压入参数时实际上复制了指针的值（其实指针可以看作一个存放地址值的×××），实际复制的指针<strong>仍指向原对象的空间</strong>，所以func函数对该指针的操作是对原对象空间的操作。</p>
</li>
<li><p>void func(Cobject&amp; object)</p>
<p>这种方式和传指针类似，但函数压入参数时实际上复制了object对象的this指针，其实this指针不是一个真正存在的指针，可以看作是每个对象的数据空间起始地址。func函数中对this指针的操作，实际上也是<strong>对原对象空间的操作</strong>。</p>
</li>
<li><p>void func(Cobject object)</p>
<p>这种函数是非常不建议的，因为函数参数压栈时，对object进行了复制（还记得拷贝构造函数吗），所以函数对object的操作实际上是对新的对象空间进行的操作，不会影响原对象空间。由于不必要的拷贝对象是十分浪费时间的，也没有意义，我们完全可以用下面函数代替</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">const</span> Cobject&amp; object)</span></span>;</span><br></pre></td></tr></table></figure>

<p>这样也能保护对象的只读性质。</p>
</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、值传递</span><br><span class="line">    实参是变量，表达式等值。</span><br><span class="line">    find（<span class="type">int</span> x）&#123;&#125;</span><br><span class="line">    y= <span class="built_in">find</span>(z)；</span><br><span class="line">   上面的例子中，z是实参，x是形参。x变z不变。</span><br><span class="line">   在值传递过程中，实参和形参位于内存中两个不同地址中，实参先自己复制一次拷贝，再把拷贝复制给形参。所以，在值传递过程中，形参的变化不会对实参有任何的影响。</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、地址传递（也称引用传递）</span><br><span class="line"></span><br><span class="line">   实参是指针。</span><br><span class="line">   在函数调用的时候，实参传递给你的是指针地址，地址一样也就意味着实参和形参是一样的，当你的形参发生改变时，实参也会发生改变。</span><br><span class="line"></span><br><span class="line">    find（<span class="type">int</span>  &amp;x）&#123;&#125;</span><br><span class="line">    y= <span class="built_in">find</span>(z)；</span><br><span class="line">    上面的例子中，z是实参，x是形参。z随x而改变。</span><br></pre></td></tr></table></figure>

<h3 id="数字运算"><a href="#数字运算" class="headerlink" title="数字运算"></a>数字运算</h3><p>cos, sin tan, log, pow,</p>
<p>hypot, sqrt, abs, fabs, floor</p>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p><a target="_blank" rel="noopener" href="https://dawnarc.com/2016/09/c-%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84%E4%BB%A5%E5%8F%8A%E6%95%B0%E7%BB%84%E5%88%9D%E5%A7%8B%E5%8C%96/">[C++]指针数组以及数组初始化</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *pia = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">10</span>]; <span class="comment">// array of 10 uninitialized ints</span></span><br></pre></td></tr></table></figure>

<h3 id="枚举enum"><a href="#枚举enum" class="headerlink" title="枚举enum"></a>枚举enum</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    定义格式：枚举类型的定义格式为：</span></span><br><span class="line">    <span class="class"><span class="keyword">enum</span> &lt;</span>类型名&gt; &#123;&lt;枚举常量表&gt;&#125;;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">color_set1</span> &#123;</span>RED, BLUE, WHITE, BLACK&#125;; <span class="comment">//定义枚举类型color_set1</span></span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">week</span> &#123;</span>Sun, Mon, Tue, Wed, Thu, Fri, Sat&#125;; <span class="comment">//定义枚举类型week</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">各枚举常量的值可以重复。例如：</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">fruit_set</span> &#123;</span>apple, orange, banana=<span class="number">1</span>, peach, grape&#125;</span><br><span class="line">    <span class="comment">//枚举常量apple=0,orange=1, banana=1,peach=2,grape=3。</span></span><br><span class="line">    <span class="keyword">enum</span> week &#123;Sun=<span class="number">7</span>, Mon=<span class="number">1</span>, Tue, Wed, Thu, Fri, Sat&#125;;</span><br><span class="line">    <span class="comment">//枚举常量Sun,Mon,Tue,Wed,Thu,Fri,Sat的值分别为7、1、2、3、4、5、6。</span></span><br><span class="line">枚举常量只能以标识符形式表示，而不能是整型、字符型等文字常量。例如，以下定义非法：</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">letter_set</span> &#123;</span><span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;s&#x27;</span>,<span class="string">&#x27;T&#x27;</span>&#125;; <span class="comment">//枚举常量不能是字符常量</span></span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">year_set</span>&#123;</span><span class="number">2000</span>,<span class="number">2001</span>,<span class="number">2002</span>,<span class="number">2003</span>,<span class="number">2004</span>,<span class="number">2005</span>&#125;; <span class="comment">//枚举常量不能是整型常量</span></span><br><span class="line">可改为以下形式则定义合法：</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">letter_set</span> &#123;</span>a, d, F, s, T&#125;;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">year_set</span>&#123;</span>y2000, y2001, y2002, y2003, y2004, y2005&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="字符串String"><a href="#字符串String" class="headerlink" title="字符串String"></a>字符串String</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta"># string -&gt; char*</span></span><br><span class="line">###<span class="meta"># data()方法，如：</span></span><br><span class="line"><span class="number">1</span> <span class="built_in">string</span> str = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="number">2</span> <span class="type">const</span> <span class="type">char</span>* p = str.data();<span class="comment">//加const  或者用char * p=(char*)str.data();的形式</span></span><br><span class="line"></span><br><span class="line">#### c_str()方法，如：</span><br><span class="line"><span class="number">1</span> <span class="built_in">string</span> str=“world”;</span><br><span class="line"><span class="number">2</span> <span class="type">const</span> <span class="type">char</span> *p = str.c_str();<span class="comment">//同上，要加const或者等号右边用char*</span></span><br><span class="line"></span><br><span class="line">###<span class="meta"># copy()方法，如：</span></span><br><span class="line"><span class="number">1</span> <span class="built_in">string</span> str=<span class="string">&quot;hmmm&quot;</span>;</span><br><span class="line"><span class="number">2</span> <span class="type">char</span> p[<span class="number">50</span>];</span><br><span class="line"><span class="number">3</span> str.copy(p, <span class="number">5</span>, <span class="number">0</span>);<span class="comment">//这里5代表复制几个字符，0代表复制的位置，</span></span><br><span class="line"><span class="number">4</span> *(p+<span class="number">5</span>)=‘\<span class="number">0</span>’;<span class="comment">//注意手动加结束符！！！</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 二、<span class="type">char</span>* -&gt; <span class="built_in">string</span> </span><br><span class="line">#### </span><br><span class="line"><span class="number">1</span> <span class="built_in">string</span> s;</span><br><span class="line"><span class="number">2</span> <span class="type">char</span> *p = <span class="string">&quot;hello&quot;</span>;<span class="comment">//直接赋值</span></span><br><span class="line"><span class="number">3</span> s = p; </span><br><span class="line"></span><br><span class="line">## 三、<span class="built_in">string</span>转<span class="type">char</span>[]</span><br><span class="line"><span class="number">1</span>     <span class="built_in">string</span> pp = <span class="string">&quot;dagah&quot;</span>;</span><br><span class="line"><span class="number">2</span>     <span class="type">char</span> p[<span class="number">8</span>];</span><br><span class="line"><span class="number">3</span>     <span class="type">int</span> i;</span><br><span class="line"><span class="number">4</span>     <span class="keyword">for</span>( i=<span class="number">0</span>;i&lt;pp.length();i++)</span><br><span class="line"><span class="number">5</span>         p[i] = pp[i];</span><br><span class="line"><span class="number">6</span>     p[i] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"><span class="number">7</span>     <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,p);</span><br><span class="line"><span class="number">8</span>     <span class="built_in">cout</span>&lt;&lt;p;</span><br></pre></td></tr></table></figure>

<h4 id="string-赋值"><a href="#string-赋值" class="headerlink" title="string 赋值"></a>string 赋值</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1 (ostringstream)</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line">ostringstream buffer;</span><br><span class="line">buffer &lt;&lt; <span class="string">&quot;sss,&quot;</span> &lt;&lt; <span class="number">2015</span> &lt;&lt; <span class="string">&quot;_&quot;</span>&lt;&lt; <span class="number">1</span>;</span><br><span class="line">string str = buffer.<span class="built_in">str</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// char --(sprintf)--&gt; string</span></span><br><span class="line"><span class="type">char</span> buffer[BUFFER_SIZE];</span><br><span class="line"><span class="built_in">sprintf</span>(buffer,<span class="string">&quot;%s_%d_%d&quot;</span>,<span class="string">&quot;cplusplus&quot;</span>,<span class="number">2015</span>,<span class="number">1</span>);</span><br><span class="line">string str = buffer;</span><br></pre></td></tr></table></figure>

<h4 id="string-substr-起点-length"><a href="#string-substr-起点-length" class="headerlink" title="string.substr(起点, length)"></a>string.substr(起点, length)</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string对象.substr(起点 ， 切片长度)</span></span><br><span class="line">operate_str = initial_str.substr(<span class="number">0</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h4 id="string-erase"><a href="#string-erase" class="headerlink" title="string.erase()"></a>string.erase()</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.erase(pos,n);</span><br><span class="line">删除从下标pos开始的n个字符，比如erase(0,1)就是删除第一个字符</span><br><span class="line">2.erase(position);</span><br><span class="line">删除postion处的一个字符（position是一个string类型的迭代器）</span><br><span class="line">3.erase(first,last)</span><br><span class="line">删除从first到last之间的字符（first和last都是迭代器）</span><br></pre></td></tr></table></figure>

<h4 id="string-对比"><a href="#string-对比" class="headerlink" title="string 对比"></a>string 对比</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span> h2 = <span class="string">&quot;BUS_0001&quot;</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span> h3 = <span class="string">&quot;BUS_0001&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; h3 == h2: %d\n&quot;</span>,h3 == h2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(h3 == h2) </span><br><span class="line"></span><br><span class="line">h3.compare(h2) == <span class="number">0</span> <span class="comment">// 相等</span></span><br></pre></td></tr></table></figure>

<h4 id="string-高级"><a href="#string-高级" class="headerlink" title="string 高级"></a>string 高级</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1. 逆序</span></span><br><span class="line">string orderstr = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;正序字符串：&quot;</span> &lt;&lt; <span class="string">orderstr &lt;&lt; endl;</span></span><br><span class="line"><span class="string">reverse(orderstr</span>.begin(), orderstr.end());</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;逆序字符串：&quot;</span> &lt;&lt; <span class="string">orderstr &lt;&lt; endl;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 2.将一个字符串按照空格划分成单词</span></span><br><span class="line"><span class="string">string str = &quot;hello world, how are you?&quot;;</span></span><br><span class="line"><span class="string">stringstream ss(str);</span></span><br><span class="line"><span class="string">string word;</span></span><br><span class="line"><span class="string">while (ss &gt;&gt; word) &#123;</span></span><br><span class="line"><span class="string">    cout &lt;&lt; word &lt;&lt; endl;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><h3 id="memcpy…apis"><a href="#memcpy…apis" class="headerlink" title="memcpy…apis"></a>memcpy…apis</h3><p>memset(void *str, int c, size_t n) </p>
<p>​    <code>复制字符 c(一个无符号字符)到参数 str 所指向的字符串的前 n 个字符。</code></p>
<p>memcpy(void *destin, void *source, unsigned n)；</p>
<p>​    <code>从存储区 source复制n 个字节到存储区 destin。</code></p>
<p>  <code>将地址从src开始的前count个字节的内容拷贝到地址从dst开始的内存空间中。</code></p>
<h3 id="文件读取I-O"><a href="#文件读取I-O" class="headerlink" title="文件读取I&#x2F;O"></a>文件读取I&#x2F;O</h3><p>C++文件读写详解（ofstream,ifstream,fstream）</p>
<p><img src="/2020/10/29/Sub_Language/CPlus/Language-Cplus/iostream.gif" alt="img"></p>
<h4 id="1、基于控制台io"><a href="#1、基于控制台io" class="headerlink" title="1、基于控制台io"></a>1、基于控制台io</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">istream        // 流读取 （input）</span><br><span class="line">ostream        // 写入流 （output）</span><br><span class="line">iostram      // 对流读写</span><br></pre></td></tr></table></figure>

<h4 id="2、基于文件IO-ifstream-ofstream"><a href="#2、基于文件IO-ifstream-ofstream" class="headerlink" title="2、基于文件IO [ifstream&#x2F;ofstream]"></a>2、基于文件IO [ifstream&#x2F;ofstream]</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line">ifstream         <span class="comment">//文件读操作，存储设备读区到内存中</span></span><br><span class="line">ofstream         <span class="comment">//文件写操作 内存写入存储设备 </span></span><br><span class="line">fstream          <span class="comment">//读写操作，对打开的文件可进行读写操作</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当 fstream/ifstream/ofstream 对象超出范围时，文件将自动关闭。</span></span><br></pre></td></tr></table></figure>

<p>ref:</p>
<p><a target="_blank" rel="noopener" href="https://www.toptip.ca/2012/11/is-it-necessary-to-manually-close.html">https://www.toptip.ca/2012/11/is-it-necessary-to-manually-close.html</a></p>
<h4 id="3、基于字符串IO-i-ostringstream"><a href="#3、基于字符串IO-i-ostringstream" class="headerlink" title="3、基于字符串IO [i&#x2F;ostringstream]"></a>3、基于字符串IO [i&#x2F;ostringstream]</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line">istringstream    <span class="comment">// 从string对象读取</span></span><br><span class="line">ostringstream     <span class="comment">// 写入到string对象</span></span><br><span class="line">stringstream    <span class="comment">// 对string对象读写</span></span><br></pre></td></tr></table></figure>

<p>ref:</p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000010266504">c++的输入输出 [一]（istream,ostream,iostream）</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000010267300?utm_source=sf-similar-article">c++的输入输出 [二]（ifstream,ofstream,fstream）</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000010262858?utm_source=sf-similar-article">c++的输入输出 [三]（istringstream,ostringstream,stringstream）</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/kingstar158/article/details/6859379">C++文件读写详解（ofstream,ifstream,fstream）</a></p>
<p><a target="_blank" rel="noopener" href="http://www.tkxiong.com/archives/2165">c++多进程读取同一个文件</a></p>
<p><a target="_blank" rel="noopener" href="https://people.scs.carleton.ca/~dehne/projects/cpp-doc/tutorial/tut6-1.html">C Plus 第 6.1 节 <strong>带文件的输入&#x2F;输出</strong></a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_28114615/article/details/88367016">c++多线程：互斥锁</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013171226/article/details/109472829">c++输入文件流ifstream用法详解_陈 洪 伟的博客-CSDN博客_ifstream用法</a></p>
<h3 id="时间"><a href="#时间" class="headerlink" title="时间"></a>时间</h3><h4 id="1、时间戳毫秒-秒"><a href="#1、时间戳毫秒-秒" class="headerlink" title="1、时间戳毫秒&#x2F;秒"></a>1、时间戳毫秒&#x2F;秒</h4><h5 id="gettimeofday"><a href="#gettimeofday" class="headerlink" title="gettimeofday()"></a>gettimeofday()</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// linux</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">time</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 获取时间s */</span></span><br><span class="line">    gettimeofday(&amp;time, <span class="literal">NULL</span>);</span><br><span class="line">    <span class="comment">//printf(&quot;s: %ld, ms: %ld\n&quot;, time.tv_sec, (time.tv_sec*1000 + time.tv_usec/1000));</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 获取时间us, s */</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">time_now</span>&#123;</span>&#125;;</span><br><span class="line">    gettimeofday(&amp;time_now, nullptr);</span><br><span class="line">    <span class="type">time_t</span> msecs_time = (time_now.tv_sec * <span class="number">1000</span>) + (time_now.tv_usec / <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;seconds         since epoch( s): &quot;</span> &lt;&lt; time_now.tv_sec &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;milliseconds     since epoch(ms): &quot;</span> &lt;&lt; msecs_time &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="chrono"><a href="#chrono" class="headerlink" title="chrono"></a>chrono</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"></span><br><span class="line">using <span class="built_in">std</span>::<span class="built_in">cout</span>; using <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">using <span class="built_in">std</span>::chrono::duration_cast;</span><br><span class="line">using <span class="built_in">std</span>::chrono::milliseconds;</span><br><span class="line">using <span class="built_in">std</span>::chrono::seconds;</span><br><span class="line">using <span class="built_in">std</span>::chrono::system_clock;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">auto</span> millisec_since_epoch = duration_cast&lt;milliseconds&gt;(system_clock::now().time_since_epoch()).count();</span><br><span class="line">    <span class="keyword">auto</span> sec_since_epoch = duration_cast&lt;seconds&gt;(system_clock::now().time_since_epoch()).count();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;seconds since epoch: &quot;</span> &lt;&lt; sec_since_epoch &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;milliseconds since epoch: &quot;</span> &lt;&lt; millisec_since_epoch &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> tp = <span class="built_in">std</span>::chrono::system_clock::now();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> seconds = <span class="built_in">std</span>::chrono::duration_cast&lt;<span class="built_in">std</span>::chrono::seconds&gt;(tp.time_since_epoch());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; seconds.count() &lt;&lt; <span class="string">&quot; s&quot;</span> &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// seconds from 1970    1651286747</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Demo</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">time_point_to_duration</span><span class="params">()</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">duration_to_time_point</span><span class="params">()</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">format_time_point</span><span class="params">()</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">parse_from_string</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    time_point_to_duration();</span><br><span class="line"></span><br><span class="line">    duration_to_time_point();</span><br><span class="line"></span><br><span class="line">    format_time_point();</span><br><span class="line"></span><br><span class="line">    parse_from_string();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">time_point_to_duration</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">auto</span> tp=<span class="built_in">std</span>::chrono::system_clock::now();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> seconds=<span class="built_in">std</span>::chrono::duration_cast&lt;<span class="built_in">std</span>::chrono::seconds&gt;(tp.time_since_epoch());</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;seconds.count()&lt;&lt;<span class="string">&quot; s&quot;</span>&lt;&lt;<span class="built_in">endl</span>;<span class="comment">//seconds from 1970</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> ms=<span class="built_in">std</span>::chrono::duration_cast&lt;<span class="built_in">std</span>::chrono::milliseconds&gt;(tp.time_since_epoch());</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ms.count()&lt;&lt;<span class="string">&quot; ms&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> us=<span class="built_in">std</span>::chrono::duration_cast&lt;<span class="built_in">std</span>::chrono::microseconds&gt;(tp.time_since_epoch());</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;us.count()&lt;&lt;<span class="string">&quot; us&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> ns=<span class="built_in">std</span>::chrono::duration_cast&lt;<span class="built_in">std</span>::chrono::nanoseconds&gt;(tp.time_since_epoch());</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ns.count()&lt;&lt;<span class="string">&quot; ns&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;tp.time_since_epoch().count()&lt;&lt;<span class="string">&quot; default is ns&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">duration_to_time_point</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="type">uint64_t</span> ticker=<span class="number">1609756793160376465</span>;</span><br><span class="line">    <span class="keyword">auto</span> ns=<span class="built_in">std</span>::chrono::nanoseconds(ticker);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> tp1=<span class="built_in">std</span>::chrono::time_point&lt;<span class="built_in">std</span>::chrono::system_clock,<span class="built_in">std</span>::chrono::nanoseconds&gt;(ns);</span><br><span class="line">    <span class="keyword">auto</span> tp2=tp1-<span class="built_in">std</span>::chrono::hours(<span class="number">1</span>);<span class="comment">//time point before one hour</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;tp1=&quot;</span>&lt;&lt;tp1.time_since_epoch().count()&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="string">&quot;tp2=&quot;</span>&lt;&lt;tp2.time_since_epoch().count()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">format_time_point</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">auto</span> tp=<span class="built_in">std</span>::chrono::system_clock::now();</span><br><span class="line">    <span class="keyword">auto</span> time=<span class="built_in">std</span>::chrono::system_clock::<span class="type">to_time_t</span>(tp);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">stringstream</span> ss;</span><br><span class="line">    ss&lt;&lt;<span class="built_in">std</span>::put_time(<span class="built_in">std</span>::localtime(&amp;time),<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ss.str()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">parse_from_string</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">stringstream</span> ss;</span><br><span class="line">    ss&lt;&lt;<span class="string">&quot;2021-01-06 18:47:35&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::tm tm&#123;&#125;;</span><br><span class="line">    ss&gt;&gt;<span class="built_in">std</span>::get_time(&amp;tm,<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>);</span><br><span class="line">    <span class="keyword">auto</span> tp=<span class="built_in">std</span>::chrono::system_clock::<span class="type">from_time_t</span>(<span class="built_in">std</span>::mktime(&amp;tm));</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;tp.time_since_epoch().count()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//原文链接：https://blog.csdn.net/lianshaohua/article/details/112531154</span></span><br></pre></td></tr></table></figure>

<h5 id="掩耳盗铃"><a href="#掩耳盗铃" class="headerlink" title="掩耳盗铃"></a>掩耳盗铃</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">time_t</span> now = time(nullptr);</span><br><span class="line"><span class="type">time_t</span> mnow = now * <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;seconds since epoch: &quot;</span> &lt;&lt; now &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;milliseconds since epoch: &quot;</span> &lt;&lt; mnow &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/sea_snow/article/details/82752492">Windows&#x2F;Linux Get Millisecond</a></p>
<p><a target="_blank" rel="noopener" href="https://www.delftstack.com/zh/howto/cpp/how-to-get-time-in-milliseconds-cpp/">get time in millisecond </a></p>
<h4 id="2、时间戳-s"><a href="#2、时间戳-s" class="headerlink" title="2、时间戳(s)"></a>2、时间戳(s)</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// time for int s</span></span><br><span class="line"><span class="type">time_t</span> now = time(<span class="number">0</span>);</span><br><span class="line"><span class="comment">// time to string format</span></span><br><span class="line">tm *ltm = localtime(&amp;now);</span><br><span class="line"><span class="type">char</span> s[<span class="number">100</span>]&#123;&#125;;</span><br><span class="line">strftime(s, <span class="keyword">sizeof</span>(s), <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, ltm);</span><br><span class="line"><span class="built_in">string</span> <span class="title function_">timestr</span><span class="params">(s)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="type">time_t</span> t = <span class="built_in">std</span>::time(<span class="literal">NULL</span>);</span><br><span class="line"><span class="built_in">std</span>::tm tm = *<span class="built_in">std</span>::localtime(&amp;t);</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span>.imbue(<span class="built_in">std</span>::locale(<span class="string">&quot;CHS&quot;</span>));</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::put_time(&amp;tm,<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>) &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="3、localtime-time-t"><a href="#3、localtime-time-t" class="headerlink" title="3、localtime(time_t)"></a>3、localtime(time_t)</h4><p>C 库函数 <strong>struct tm *localtime(const time_t *timer)</strong> 使用 timer 的值来填充 <strong>tm</strong> 结构。<strong>timer</strong> 的值被分解为 <strong>tm</strong> 结构，并用本地时区表示。</p>
<h4 id="4、strftime"><a href="#4、strftime" class="headerlink" title="4、strftime()"></a>4、strftime()</h4><p>size_t strftime(char *str, size_t count, const char *format, const struct tm *tm);</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str, 表示返回的时间字符串</span><br><span class="line">count, 要写入的字节的最大数量</span><br><span class="line">format, 格式字符串由零个或多个转换符和普通字符(除%)</span><br><span class="line">tm, 输入时间</span><br></pre></td></tr></table></figure>

<h3 id="基本的输入输出"><a href="#基本的输入输出" class="headerlink" title="基本的输入输出"></a>基本的输入输出</h3><h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><h2 id="APIs-C-11"><a href="#APIs-C-11" class="headerlink" title="APIs C++ 11"></a>APIs C++ 11</h2><h3 id="auto"><a href="#auto" class="headerlink" title="auto"></a>auto</h3><p>C++11这次的更新带来了令很多C++程序员期待已久的for range循环，每次看到javascript， lua里的for range，心想要是C++能有多好，心里别提多酸了。这次C++11不负众望，再也不用羡慕别家人的for range了。</p>
<p>字符串 &amp; 数组</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">std::string str = “hello, world”;  </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> ch : str) &#123;  </span><br><span class="line">     std::cout &lt;&lt; ch &lt;&lt; std::endl;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;  </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i : arr) &#123;  </span><br><span class="line">     std::cout&lt;&lt; i &lt;&lt; std::endl;  </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>stl 容器</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">std::vector&lt;std::string&gt; str_vec = &#123;“i”, “like”,  <span class="string">&quot;google”&#125;;  </span></span><br><span class="line"><span class="string">for(auto&amp; it : str_vec) &#123;  </span></span><br><span class="line"><span class="string">     it = “c++”;  </span></span><br><span class="line"><span class="string">&#125;  </span></span><br></pre></td></tr></table></figure>

<p>遍历stl map </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">std::map&lt;<span class="type">int</span>, std::string&gt; hash_map = &#123;&#123;<span class="number">1</span>, “c++”&#125;, &#123;<span class="number">2</span>, “java”&#125;, &#123;<span class="number">3</span>, “python”&#125;&#125;;  </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> it : hash_map) &#123;  </span><br><span class="line">     std::cout &lt;&lt; it.first &lt;&lt; “\t” &lt;&lt; it.second &lt;&lt; std::endl;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h3><h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="对象创建"><a href="#对象创建" class="headerlink" title="对象创建"></a>对象创建</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//隐式创建</span></span><br><span class="line">Person p1;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">Person <span class="title function_">p2</span><span class="params">(<span class="number">18</span>, <span class="string">&quot;lili&quot;</span>)</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//显式创建</span></span><br><span class="line">Person p3 = Person();</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">Person p4 = Person(<span class="number">16</span>, <span class="string">&quot;xx&quot;</span>);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// new 创建</span></span><br><span class="line">Person *p5 = new Person();</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">Person *p6 = new Person(<span class="number">14</span>, <span class="string">&quot;yy&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="VS-快捷键"><a href="#VS-快捷键" class="headerlink" title="VS 快捷键"></a>VS 快捷键</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">多行注释：Ctrl+K+C（先按ctrl，再按K，最后按C）</span><br><span class="line">取消多行注释：Ctrl+K+U（先按ctrl，再按K，最后按U）</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/09/28/Tools/Tools-Anbox/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/28/Tools/Tools-Anbox/" class="post-title-link" itemprop="url">Tools Android emulator -- Anbox</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-28 09:57:23" itemprop="dateCreated datePublished" datetime="2020-09-28T09:57:23+00:00">2020-09-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index"><span itemprop="name">Tools</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Install-by-snap-Ubuntu"><a href="#Install-by-snap-Ubuntu" class="headerlink" title="Install by snap (Ubuntu)"></a>Install by snap (Ubuntu)</h3><p>anbox-kernel</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> add-apt-repository ppa:morphis/anbox-support</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> apt update</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> apt install linux-headers-generic anbox-modules-dkms</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> modprobe ashmem_linux</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> modprobe binder_linux</span></span><br></pre></td></tr></table></figure>

<p>anbox </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> apt install anbox</span></span><br></pre></td></tr></table></figure>

<p>链接：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/65463076">https://zhuanlan.zhihu.com/p/65463076</a></p>
<h3 id="Using"><a href="#Using" class="headerlink" title="Using"></a>Using</h3><p>Docker 点击anbox图标</p>
<h3 id="adb安装"><a href="#adb安装" class="headerlink" title="adb安装"></a>adb安装</h3><p>Ubuntu&#x2F;Debain</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install android-tools-adb</span><br></pre></td></tr></table></figure>

<h3 id="adb使用："><a href="#adb使用：" class="headerlink" title="adb使用："></a>adb使用：</h3><p><img src="/2020/09/28/Tools/Tools-Anbox/image-20200928092932708.png" alt="image-20200928092932708"></p>
<p><img src="/2020/09/28/Tools/Tools-Anbox/image-20200928093448259.png" alt="image-20200928093448259"></p>
<p>adb logcat：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//格式1：打印默认日志数据</span><br><span class="line">adb logcat </span><br><span class="line"></span><br><span class="line">//格式2：需要打印日志详细时间的简单数据</span><br><span class="line">adb logcat -v <span class="keyword">time</span></span><br><span class="line"></span><br><span class="line">//格式3：需要打印级别为Error的信息</span><br><span class="line">adb logcat *:E</span><br><span class="line"></span><br><span class="line">//格式4：需要打印时间和级别是Error的信息</span><br><span class="line">adb logcat -v <span class="keyword">time</span> *:E</span><br><span class="line"></span><br><span class="line">//格式5：将日志保存到电脑固定的位置，比如D:\log.txt</span><br><span class="line">adb logcat -v <span class="keyword">time</span> &gt;D:\log.txt</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/09/23/Sub_Language/PythonDoc/Language-py/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/23/Sub_Language/PythonDoc/Language-py/" class="post-title-link" itemprop="url">python APIs</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-23 17:53:59" itemprop="dateCreated datePublished" datetime="2020-09-23T17:53:59+00:00">2020-09-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/" itemprop="url" rel="index"><span itemprop="name">dev</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>python 备忘录</p>
<p>[TOC]</p>
<h2 id="简单API"><a href="#简单API" class="headerlink" title="简单API"></a>简单API</h2><h3 id="FUN-重命名目录下文件"><a href="#FUN-重命名目录下文件" class="headerlink" title="FUN: 重命名目录下文件"></a>FUN: 重命名目录下文件</h3><ul>
<li>filter</li>
<li>lambda</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">format_filename</span>(<span class="params"><span class="built_in">dir</span></span>):</span><br><span class="line">    fs = os.listdir(<span class="built_in">dir</span>)</span><br><span class="line">    <span class="keyword">for</span> f <span class="keyword">in</span> fs:</span><br><span class="line">        new_n = <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">filter</span>(<span class="keyword">lambda</span> ch: ch <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">&#x27;# ()&#123;&#125;#&#x27;</span>, f))</span><br><span class="line">        <span class="built_in">print</span>(f, <span class="string">&#x27; ----&gt; &#x27;</span>, new_n)</span><br><span class="line">        os.rename(<span class="built_in">dir</span>+f, <span class="built_in">dir</span>+new_n)</span><br></pre></td></tr></table></figure>

<h3 id="traceback"><a href="#traceback" class="headerlink" title="traceback"></a>traceback</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">log_error</span>(<span class="params">e</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;err:&#x27;</span>, e)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;err:&#x27;</span>, request.form)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;err file:&#x27;</span>, e.__traceback__.tb_frame.f_globals[<span class="string">&quot;__file__&quot;</span>])  <span class="comment"># 发生异常所在的文件</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;err file line:&#x27;</span>, e.__traceback__.tb_lineno)  <span class="comment"># 发生异常所在的行数</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;err &#x27;</span>, traceback.print_exc())</span><br></pre></td></tr></table></figure>

<h3 id="Time"><a href="#Time" class="headerlink" title="Time"></a>Time</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.ctime()</span><br><span class="line"><span class="string">&#x27;Thu May 5 14:58:09 2011&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.ctime(time.time())</span><br><span class="line"><span class="string">&#x27;Thu May 5 14:58:39 2011&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.ctime(<span class="number">1304579615</span>)</span><br><span class="line"><span class="string">&#x27;Thu May 5 15:13:35 2011&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="os"><a href="#os" class="headerlink" title="os"></a>os</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.mkdir()</span><br></pre></td></tr></table></figure>

<h3 id="os-path"><a href="#os-path" class="headerlink" title="os.path"></a>os.path</h3><p>os.path.basename()</p>
<p>os.path.dirname()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">path = <span class="string">&#x27;/home/User/Documents&#x27;</span></span><br><span class="line">dirname = os.path.dirname(path)</span><br><span class="line"><span class="built_in">print</span>(dirname)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">path = <span class="string">&#x27;/home/User/Documents/file.txt&#x27;</span></span><br><span class="line">dirname = os.path.dirname(path)</span><br><span class="line"><span class="built_in">print</span>(dirname)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">path = <span class="string">&#x27;file.txt&#x27;</span></span><br><span class="line">dirname = os.path.dirname(path)</span><br><span class="line"><span class="built_in">print</span>(dirname)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 三个的结果：</span></span><br><span class="line">&gt;&gt;&gt;/home/User</span><br><span class="line">&gt;&gt;&gt;/home/User/Documents</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="expanduser"><a href="#expanduser" class="headerlink" title="expanduser"></a>expanduser</h4><p>python的os.path 模块提供了一个expanduser函数，它可以将参数中开头部分的 ~ 或 ~user 替换为当前用户的home目录并返回，仅看定义难以理解，我在linux系统和winodws系统下分别实验它的功能。</p>
<p>在linux系统下，我的账号是kwsy，这个用户的home目录是&#x2F;home&#x2F;kwsy，下面的代码演示如何使用expanduser函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Python <span class="number">3.7</span><span class="number">.0</span> (default, Jun <span class="number">28</span> <span class="number">2018</span>, <span class="number">13</span>:<span class="number">15</span>:<span class="number">42</span>)</span><br><span class="line">[GCC <span class="number">7.2</span><span class="number">.0</span>] :: Anaconda, Inc. on linux</span><br><span class="line"><span class="type">Type</span> <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> <span class="keyword">or</span> <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.expanduser(<span class="string">&#x27;~/.config/&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;/home/kwsy/.config/&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="expandvars"><a href="#expandvars" class="headerlink" title="expandvars"></a>expandvars</h4><p>Python中的方法用于扩展给定路径中的环境变量。它将给定路径中形式为<code>$name$</code> 或<code>$&#123;name&#125;$</code>的子字符串替换为环境变量name的值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">todo</span><br></pre></td></tr></table></figure>

<h3 id="random"><a href="#random" class="headerlink" title="random"></a>random</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">random.randint(0, N) -&gt; one of [0,1, ...,N]</span><br></pre></td></tr></table></figure>

<h3 id="str"><a href="#str" class="headerlink" title="str"></a>str</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. in</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;w&#x27;</span> <span class="keyword">in</span> text:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;find w in text&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;hello&#x27;</span> <span class="keyword">in</span> text:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;find&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;hello&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> text:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27; not find &#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.find func</span></span><br><span class="line"><span class="keyword">if</span> text.find(<span class="string">&#x27;xxx&#x27;</span>) != -<span class="number">1</span>:</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">&#x27;find position=&#x27;</span>, text.find(<span class="string">&#x27;xxx&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 index func</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    position = text.index(<span class="string">&#x27;not exits char&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span> ValueError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;not find &#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="dict-2-obj"><a href="#dict-2-obj" class="headerlink" title="dict_2_obj"></a>dict_2_obj</h3><h4 id="1、手动映射字段"><a href="#1、手动映射字段" class="headerlink" title="1、手动映射字段"></a>1、手动映射字段</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        <span class="variable language_">self</span>.name = name</span><br><span class="line">        <span class="variable language_">self</span>.age = age</span><br><span class="line"></span><br><span class="line">person = Person(data[<span class="string">&#x27;name&#x27;</span>], data[<span class="string">&#x27;age&#x27;</span>])</span><br></pre></td></tr></table></figure>

<h4 id="2、自动映射object-hook"><a href="#2、自动映射object-hook" class="headerlink" title="2、自动映射object_hook"></a>2、自动映射object_hook</h4><p>使用 json.loads() 的 object_hook 参数，自动将字典转换为对象‌</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">JsonObject</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, d</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__dict__ = d</span><br><span class="line"></span><br><span class="line">json_str = <span class="string">&#x27;&#123;&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30&#125;&#x27;</span></span><br><span class="line">obj = json.loads(json_str, object_hook=JsonObject)</span><br><span class="line"><span class="built_in">print</span>(obj.name)  <span class="comment"># 输出：John</span></span><br></pre></td></tr></table></figure>

<h4 id="3、动态属性拓展json-to-object"><a href="#3、动态属性拓展json-to-object" class="headerlink" title="3、动态属性拓展json to object"></a>3、动态属性拓展json to object</h4><p>支持动态解析复杂JSON结构（如嵌套字典或列表）‌</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">obj</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, dict_</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__dict__.update(dict_)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dict2obj</span>(<span class="params">d</span>):</span><br><span class="line">    <span class="keyword">return</span> json.loads(json.dumps(d), object_hook=obj)</span><br><span class="line"></span><br><span class="line">d = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: &#123;<span class="string">&#x27;c&#x27;</span>: <span class="number">2</span>&#125;, <span class="string">&#x27;d&#x27;</span>: [<span class="string">&#x27;hi&#x27;</span>, &#123;<span class="string">&#x27;foo&#x27;</span>: <span class="string">&#x27;cjavapy&#x27;</span>&#125;]&#125;</span><br><span class="line"><span class="comment"># 使用1</span></span><br><span class="line">o = dict2obj(d)</span><br><span class="line"><span class="built_in">print</span>(o)</span><br><span class="line"><span class="built_in">print</span>(o.a)</span><br><span class="line"><span class="built_in">print</span>(o.b)</span><br><span class="line"><span class="built_in">print</span>(o.d)</span><br><span class="line"><span class="built_in">print</span>(o.d[<span class="number">1</span>].foo)</span><br></pre></td></tr></table></figure>

<h4 id="进阶1-自定义-递归"><a href="#进阶1-自定义-递归" class="headerlink" title="进阶1 自定义+递归"></a>进阶1 自定义+递归</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">obj</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, d</span>):</span><br><span class="line">        <span class="keyword">for</span> a, b <span class="keyword">in</span> d.items():</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(b, (<span class="built_in">list</span>, <span class="built_in">tuple</span>)):</span><br><span class="line">               <span class="built_in">setattr</span>(<span class="variable language_">self</span>, a, [obj(x) <span class="keyword">if</span> <span class="built_in">isinstance</span>(x, <span class="built_in">dict</span>) <span class="keyword">else</span> x <span class="keyword">for</span> x <span class="keyword">in</span> b])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">               <span class="built_in">setattr</span>(<span class="variable language_">self</span>, a, obj(b) <span class="keyword">if</span> <span class="built_in">isinstance</span>(b, <span class="built_in">dict</span>) <span class="keyword">else</span> b)</span><br><span class="line">d = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: &#123;<span class="string">&#x27;c&#x27;</span>: <span class="number">2</span>&#125;, <span class="string">&#x27;d&#x27;</span>: [<span class="string">&quot;hi&quot;</span>, &#123;<span class="string">&#x27;foo&#x27;</span>: <span class="string">&quot;cjavapy&quot;</span>&#125;]&#125;</span><br><span class="line">o = obj(d)</span><br><span class="line"><span class="built_in">print</span>(o)</span><br><span class="line"><span class="built_in">print</span>(o.a)</span><br><span class="line"><span class="built_in">print</span>(o.b)</span><br><span class="line"><span class="built_in">print</span>(o.d)</span><br><span class="line"><span class="built_in">print</span>(o.d[<span class="number">1</span>].foo)</span><br></pre></td></tr></table></figure>

<h4 id="json"><a href="#json" class="headerlink" title="json"></a>json</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">obj</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, dict_</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__dict__.update(dict_)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dict2obj</span>(<span class="params">d</span>):</span><br><span class="line">    <span class="keyword">return</span> json.loads(json.dumps(d), object_hook=obj)</span><br><span class="line">d = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: &#123;<span class="string">&#x27;c&#x27;</span>: <span class="number">2</span>&#125;, <span class="string">&#x27;d&#x27;</span>: [<span class="string">&#x27;hi&#x27;</span>, &#123;<span class="string">&#x27;foo&#x27;</span>: <span class="string">&#x27;cjavapy&#x27;</span>&#125;]&#125;</span><br><span class="line">o = dict2obj(d)</span><br><span class="line"><span class="built_in">print</span>(o)</span><br><span class="line"><span class="built_in">print</span>(o.a)</span><br><span class="line"><span class="built_in">print</span>(o.b)</span><br><span class="line"><span class="built_in">print</span>(o.d)</span><br><span class="line"><span class="built_in">print</span>(o.d[<span class="number">1</span>].foo)</span><br></pre></td></tr></table></figure>

<h4 id="进阶2-namedtuple-递归"><a href="#进阶2-namedtuple-递归" class="headerlink" title="进阶2 namedtuple + 递归"></a>进阶2 namedtuple + 递归</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">struct</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__new__</span>(<span class="params">cls, data</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(data, <span class="built_in">dict</span>):</span><br><span class="line">            <span class="keyword">return</span> namedtuple(</span><br><span class="line">                <span class="string">&#x27;struct&#x27;</span>, data.keys()</span><br><span class="line">            )(</span><br><span class="line">                *(struct(val) <span class="keyword">for</span> val <span class="keyword">in</span> data.values())</span><br><span class="line">            )</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">isinstance</span>(data, (<span class="built_in">tuple</span>, <span class="built_in">list</span>, <span class="built_in">set</span>, <span class="built_in">frozenset</span>)):</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">type</span>(data)(struct(_) <span class="keyword">for</span> _ <span class="keyword">in</span> data)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> data</span><br><span class="line">d = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: &#123;<span class="string">&#x27;c&#x27;</span>: <span class="number">2</span>&#125;, <span class="string">&#x27;d&#x27;</span>: [<span class="string">&#x27;hi&#x27;</span>, &#123;<span class="string">&#x27;foo&#x27;</span>: <span class="string">&#x27;cjavapy&#x27;</span>&#125;]&#125;</span><br><span class="line">o = struct(d)</span><br><span class="line"><span class="built_in">print</span>(o)</span><br><span class="line"><span class="built_in">print</span>(o.a)</span><br><span class="line"><span class="built_in">print</span>(o.b)</span><br><span class="line"><span class="built_in">print</span>(o.d)</span><br><span class="line"><span class="built_in">print</span>(o.d[<span class="number">1</span>].foo)</span><br></pre></td></tr></table></figure>

<h4 id="进阶3-自定义编码、解码器"><a href="#进阶3-自定义编码、解码器" class="headerlink" title="进阶3 自定义编码、解码器"></a>进阶3 自定义编码、解码器</h4><p>通过继承 <code>json.JSONEncoder</code> 和 <code>json.JSONDecoder</code> 处理特殊数据类型（如日期、枚举)</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomEncoder</span>(json.JSONEncoder):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">default</span>(<span class="params">self, obj</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(obj, datetime):</span><br><span class="line">            <span class="keyword">return</span> obj.isoformat()</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>().default(obj)</span><br><span class="line"></span><br><span class="line">json_str = json.dumps(obj, cls=CustomEncoder)</span><br></pre></td></tr></table></figure>

<h4 id="进阶4-复杂递归"><a href="#进阶4-复杂递归" class="headerlink" title="进阶4 复杂递归"></a>进阶4 复杂递归</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NestedObject</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, d</span>):</span><br><span class="line">        <span class="keyword">for</span> key, value <span class="keyword">in</span> d.items():</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(value, <span class="built_in">dict</span>):</span><br><span class="line">                <span class="built_in">setattr</span>(<span class="variable language_">self</span>, key, NestedObject(value))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">setattr</span>(<span class="variable language_">self</span>, key, value)</span><br><span class="line"></span><br><span class="line">json_str = <span class="string">&#x27;&#123;&quot;books&quot;: &#123;&quot;语文&quot;: &quot;济南的冬天&quot;&#125;&#125;&#x27;</span></span><br><span class="line">obj = json.loads(json_str, object_hook=NestedObject)</span><br><span class="line"><span class="built_in">print</span>(obj.books.语文)  <span class="comment"># 输出：济南的冬天</span></span><br></pre></td></tr></table></figure>

<h3 id="数据文件读写"><a href="#数据文件读写" class="headerlink" title="数据文件读写"></a>数据文件读写</h3><h4 id="json-1"><a href="#json-1" class="headerlink" title="json"></a>json</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">json.dumps()</span><br><span class="line">json.loads()</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># json.dumps()函数的使用，将字典转化为字符串</span></span><br><span class="line">dict1 = &#123;<span class="string">&quot;age&quot;</span>: <span class="string">&quot;12&quot;</span>&#125;</span><br><span class="line">json_info = json.dumps(dict1)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Writing JSON data</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(data, f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Reading data back</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br></pre></td></tr></table></figure>

<h4 id="np"><a href="#np" class="headerlink" title="np"></a>np</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a=np.array(a)</span><br><span class="line">np.save(‘a.npy’,a)   <span class="comment"># 保存为.npy格式</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=np.load(‘a.npy’)</span><br><span class="line">a=a.tolist()</span><br></pre></td></tr></table></figure>

<h4 id="csv"><a href="#csv" class="headerlink" title="csv"></a>csv</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">readme = pd.read_csv(‘读我.txt’,sep=’:’,encoding=“utf-<span class="number">8</span>”, engine=‘python’,header=<span class="literal">None</span>)</span><br><span class="line">readme = np.array(readme)</span><br></pre></td></tr></table></figure>

<h2 id="高级API"><a href="#高级API" class="headerlink" title="高级API"></a>高级API</h2><h3 id="组合函数-itertools-combinations-元素不可重复"><a href="#组合函数-itertools-combinations-元素不可重复" class="headerlink" title="组合函数 itertools.combinations()元素不可重复"></a>组合函数 itertools.combinations()元素不可重复</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">itertools.combinations(iters,n)元组输出迭代器，需List显示，全组合直接append分三个元组。</span><br><span class="line">combinations(<span class="string">&#x27;ABCD&#x27;</span>, <span class="number">2</span>) --&gt; AB AC AD BC BD CD</span><br><span class="line"><span class="title function_">combinations</span><span class="params">(range(<span class="number">4</span>), <span class="number">3</span>)</span> --&gt; 012 013 023 123</span><br></pre></td></tr></table></figure>

<p>ref:<a target="_blank" rel="noopener" href="https://blog.csdn.net/liuyi761117/article/details/119800028">组合blog</a></p>
<h3 id="combinations"><a href="#combinations" class="headerlink" title="combinations"></a>combinations</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools </span><br><span class="line">combinations2 = itertools.combinations(iterable, r)</span><br><span class="line"><span class="keyword">for</span> combo <span class="keyword">in</span> combinations2: </span><br><span class="line">    <span class="built_in">print</span>(combo)</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">(<span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h3 id="combinations-with-replacement-元素可重复的组合"><a href="#combinations-with-replacement-元素可重复的组合" class="headerlink" title="combinations_with_replacement() 元素可重复的组合"></a>combinations_with_replacement() 元素可重复的组合</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义一个可迭代对象  </span></span><br><span class="line">iterable = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置组合长度为2  </span></span><br><span class="line">r = <span class="number">2</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成可重复组合的迭代器  </span></span><br><span class="line">combinations = itertools.combinations_with_replacement(iterable, r)  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印每个组合  </span></span><br><span class="line"><span class="keyword">for</span> combo <span class="keyword">in</span> combinations:  </span><br><span class="line">    <span class="built_in">print</span>(combo)</span><br></pre></td></tr></table></figure>

<p>out</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(1, 1)  </span><br><span class="line">(1, 2)  </span><br><span class="line">(1, 3)  </span><br><span class="line">(2, 2)  </span><br><span class="line">(2, 3)  </span><br><span class="line">(3, 3)</span><br></pre></td></tr></table></figure>

<h3 id="property的理解和使用"><a href="#property的理解和使用" class="headerlink" title="@property的理解和使用"></a>@property的理解和使用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@property</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">password</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">raise</span> AttributeError(<span class="string">&#x27;password is not a readable attribute&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@password.setter</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">password</span>(<span class="params">self, password</span>):</span><br><span class="line">    <span class="variable language_">self</span>.password_hash = generate_password_hash(password)</span><br></pre></td></tr></table></figure>

<h5 id="通常赋值函数"><a href="#通常赋值函数" class="headerlink" title="通常赋值函数"></a>通常赋值函数</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_score</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>._score</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_score</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(value, <span class="built_in">int</span>):</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;score must be an integer!&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> value &lt; <span class="number">0</span> <span class="keyword">or</span> value &gt; <span class="number">100</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;score must between 0 ~ 100!&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>._score = value</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = Student()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.set_score(<span class="number">60</span>) <span class="comment"># ok!</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.get_score()</span><br><span class="line"><span class="number">60</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.set_score(<span class="number">9999</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  ...</span><br><span class="line">ValueError: score must between <span class="number">0</span> ~ <span class="number">100</span>!</span><br></pre></td></tr></table></figure>

<h5 id="property"><a href="#property" class="headerlink" title="@property"></a>@property</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">但是为了方便,节省时间,我们不想写s.set_score(<span class="number">9999</span>)啊,直接写s.score = <span class="number">9999</span>不是更快么,加了方法做限制不能让调用的时候变麻烦啊,@<span class="built_in">property</span>快来帮忙….</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">score</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>._score</span><br><span class="line"></span><br><span class="line"><span class="meta">    @score.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">score</span>(<span class="params">self,value</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(value, <span class="built_in">int</span>):</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;分数必须是整数才行呐&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> value &lt; <span class="number">0</span> <span class="keyword">or</span> value &gt; <span class="number">100</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;分数必须0-100之间&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>._score = value</span><br><span class="line"></span><br><span class="line">看上面代码可知,把get方法变为属性只需要加上@<span class="built_in">property</span>装饰器即可,此时@<span class="built_in">property</span>本身又会创建另外一个装饰器@score.setter,负责把<span class="built_in">set</span>方法变成给属性赋值,这么做完后,我们调用起来既可控又方便</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = Student()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.score = <span class="number">60</span> <span class="comment"># OK，实际转化为s.set_score(60)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.score <span class="comment"># OK，实际转化为s.get_score()</span></span><br><span class="line"><span class="number">60</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.score = <span class="number">9999</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  ...</span><br><span class="line">ValueError: score must between <span class="number">0</span> ~ <span class="number">100</span>!</span><br></pre></td></tr></table></figure>

<h2 id="MP"><a href="#MP" class="headerlink" title="MP"></a>MP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">对于一般进程间共享数据来说，使用</span><br><span class="line">multiprocessing.Manager().Value</span><br><span class="line">和multiprocessing.Manager().list()</span><br><span class="line">和multiprocessing.Manager().dict()即可。</span><br><span class="line">Or:</span><br><span class="line">Queue()</span><br></pre></td></tr></table></figure>

<h2 id="pyLint"><a href="#pyLint" class="headerlink" title="pyLint"></a>pyLint</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Install</span></span><br><span class="line">pip install pylint</span><br><span class="line">pylint --version</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用,生成默认配置文件：</span></span><br><span class="line">pylint --persistent=n --generate-rcfile &gt; .pylintrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查单个文件：</span></span><br><span class="line">pylint [options] m1.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># 整个项目</span></span><br><span class="line">pylint [options] project_path</span><br></pre></td></tr></table></figure>

<h2 id="re"><a href="#re" class="headerlink" title="re"></a>re</h2><p>去除中文标点符号</p>
<p><code>s = re.sub(r&#39;[.,&quot;\&#39;-?:!;]&#39;, &#39;&#39;, s)</code></p>
<p>去除中文</p>
<p><code>temp = re.sub(&#39;[\u4e00-\u9fa5]&#39;,&#39;&#39;,text)</code></p>
<p>去除英文</p>
<p><code>temp = re.sub(&#39;[a-zA-Z]&#39;,&#39;&#39;,text)</code></p>
<p>del数字</p>
<p><code>temp = re.sub(&#39;[\d]&#39;,&#39;&#39;,text) # [0-9]</code></p>
<p>del 空格</p>
<p><code>temp = re.sub(&#39;[\s]&#39;,&#39;&#39;,text) #temp = text.strip()</code></p>
<h3 id="RUN"><a href="#RUN" class="headerlink" title="RUN"></a>RUN</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 normal run</span></span><br><span class="line">python -u main.py</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 subdir run</span></span><br><span class="line">python demo/main.py</span><br><span class="line">--修改main文件</span><br><span class="line"><span class="keyword">import</span> os, sys</span><br><span class="line">sys.path.append(os.path.dirname(os.path.dirname(os.path.realpath(__file__))))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 -m 运行</span></span><br><span class="line">python -m model.main</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/09/03/Paper/Paper-CV-ImageInpainting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/03/Paper/Paper-CV-ImageInpainting/" class="post-title-link" itemprop="url">Paper-CV-Image Inpainting</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-03 14:59:17" itemprop="dateCreated datePublished" datetime="2020-09-03T14:59:17+00:00">2020-09-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CV-Apply/" itemprop="url" rel="index"><span itemprop="name">CV_Apply</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CV-Apply/Image-Inpainting/" itemprop="url" rel="index"><span itemprop="name">Image Inpainting</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>image inpainting图像修复</p>
<p>传统的图形学和视觉的研究方法，主要还是基于数学和物理的方法。然而随着近几年深度学习在视觉领域取得的卓越的效果，视觉领域研究的前沿已经基本被深度学习占领。在这样的形势之下，越来越多的图形学研究者也开始将目光投向深度学习。在图形学和视觉交叉的领域，一系列问题的研究正在围绕深度学习火热展开，特别是在图像编辑(image editing)和图像生成(image generation)方面，已经初见成效。今天我们讨论的问题，图像补全(image inpainting)，正是介于图像编辑和图像生成之间的一个问题。</p>
<p>图像补全最初是一个传统图形学的问题。问题本身很直观：在一幅图像上挖一个洞，如何利用其它的信息将这个洞补全，并且让人眼无法辨别出补全的部分。这个问题对我们人类似乎很容易，比如下面这个洞，大家很容易脑补出洞里应该有窗户和门，背景是墙，如果还有一些绘画天赋的话，大概就能想象着把它补出来。但是这个任务对于计算机却显得格外困难，首先这个问题没有唯一确定的解，其次如何利用其它的信息？如何判断补全结果是否足够真实？</p>
<p>以深度学习为代表的机器学习，正在逐渐席卷整个图形学研究领域。研究者们逐渐发现，当传统的基于物理的模型发展遇到瓶颈的时候，机器学习的方法也许能够帮助我们解释这些复杂的数理模型。毕竟只有理解了图像的深层结构，才能更好地指导图像的生成和处理。</p>
<p>[toc]</p>
<h2 id="论文推荐–CV"><a href="#论文推荐–CV" class="headerlink" title="论文推荐–CV"></a><strong>论文推荐–CV</strong></h2><hr>
<h3 id="1-CVPR-2016-Context-Encoders"><a href="#1-CVPR-2016-Context-Encoders" class="headerlink" title="1. [CVPR 2016] Context-Encoders"></a>1. [<strong>CVPR 2016</strong>] <strong>Context-Encoders</strong></h3><p>（CNN+GAN， *<strong>鼻祖级的*</strong> NN修复方法） </p>
<p>链接： <strong><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1604.07379">Feature Learning by Inpainting</a></strong>; </p>
<p>Github代码:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/pathak22/context-encoder">pathak22&#x2F;context-encodergithub.com</a></p>
<img src="/2020/09/03/Paper/Paper-CV-ImageInpainting/image-20201013112431560.png" alt="image-20201013112431560" style="zoom:50%;">



<h3 id="2-CVPR-2017-High-Resolution-Inpainting"><a href="#2-CVPR-2017-High-Resolution-Inpainting" class="headerlink" title="2. [CVPR 2017]High Resolution Inpainting"></a>2. [<strong>CVPR 2017</strong>]<strong>High Resolution Inpainting</strong></h3><p>(Context-Encoders+CNNMRF) </p>
<p> 链接： <strong><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1611.09969">High-Resolution Image Inpainting using Multi-Scale Neural Patch Synthesis</a></strong>; </p>
<p>Github代码:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/leehomyc/Faster-High-Res-Neural-Inpainting">leehomyc&#x2F;Faster-High-Res-Neural-Inpaintinggithub.com<img src="/2020/09/03/Paper/Paper-CV-ImageInpainting/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS92Mi1jMzdhOTZmMTRiYjU3YWYxNmJmOGRiNTkxZDgwMjdlYl9pcGljby5qcGc.jpeg" alt="图标"></a></p>
<h3 id="3-CVPR-2017-Semantic-Image-Inpainting"><a href="#3-CVPR-2017-Semantic-Image-Inpainting" class="headerlink" title="3. [CVPR 2017] Semantic Image Inpainting"></a>3. [CVPR 2017] Semantic Image Inpainting</h3><p><a target="_blank" rel="noopener" href="https://github.com/bamos/dcgan-completion.tensorflow">code</a></p>
<p>Semantic Image Inpainting with Perceptual and Contextual Losses</p>
<h3 id="4-ICCV-2017-On-demanding-learning"><a href="#4-ICCV-2017-On-demanding-learning" class="headerlink" title="4. [ICCV 2017] On demanding learning"></a>4. [<strong>ICCV 2017</strong>] On demanding learning</h3><p>(感觉也是Context-Encoders的衍生版…) </p>
<p> 链接：<strong><a target="_blank" rel="noopener" href="https://vision.cs.utexas.edu/projects/on_demand_learning/">On-Demand Learning for Deep Image Restoration</a></strong>， </p>
<p>Github代码: <a target="_blank" rel="noopener" href="https://github.com/rhgao/on-demand-learning">rhgao&#x2F;on-demand-learninggithub.com</a></p>
<h3 id="5-SIGGRAPH-2017-ACM-ToG-Global-and-locally-…"><a href="#5-SIGGRAPH-2017-ACM-ToG-Global-and-locally-…" class="headerlink" title="5. [SIGGRAPH 2017] (ACM ToG) Global and locally …"></a>5. [<strong>SIGGRAPH 2017] (ACM ToG)</strong> Global and locally …</h3><p><strong><a target="_blank" rel="noopener" href="https://hi.cs.waseda.ac.jp/~iizuka/projects/completion/en/">Globally and Locally Consistent Image Completion</a></strong> </p>
<p>(CE中加入Global+Local两个判别器的改进)， </p>
<p>Github代码:</p>
<p>1)<a target="_blank" rel="noopener" href="https://github.com/satoshiiizuka/siggraph2017_inpainting">https://github.com/satoshiiizuka/siggraph2017_inpainting</a></p>
<p>2)<a target="_blank" rel="noopener" href="https://github.com/shinseung428/GlobalLocalImageCompletion_TF">https://github.com/shinseung428/GlobalLocalImageCompletion_TF</a></p>
<p> 其中第二个实现稍微不同于原论文。但是展示效果非常棒。</p>
<p><img src="/2020/09/03/Paper/Paper-CV-ImageInpainting/20181102150718796.png" alt="img"></p>
<h3 id="6-2017-12-Deep-image-prior-机构"><a href="#6-2017-12-Deep-image-prior-机构" class="headerlink" title="6. [2017.12 ] Deep image prior [机构]"></a>6. [2017.12 ] Deep image prior [机构]</h3><p>项目主页：<a target="_blank" rel="noopener" href="https://dmitryulyanov.github.io/deep_image_prior">deep_image_prior</a></p>
<p>适用场景：<br>1）难以建模图像退化过程<br>2）难以得到训练图像进行监督训练 </p>
<h3 id="7-ICLR-2018-Nvidia"><a href="#7-ICLR-2018-Nvidia" class="headerlink" title="7. [ICLR 2018] Nvidia"></a>7. [<strong>ICLR 2018</strong>] Nvidia</h3><p><strong><a target="_blank" rel="noopener" href="https://news.developer.nvidia.com/new-ai-imaging-technique-reconstructs-photos-with-realistic-results/">New AI Imaging Technique Reconstructs Photos with Realistic Results</a></strong> </p>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1804.07723.pdf">Image Inpainting for Irregular Holes UsingPartial Convolutions </a> </p>
<p>号称秒杀PS的AI图像修复神器，来自于Nvidia 研究团队。引入了局部卷积，能够修复任意非中心、不规则区域），代码还没有放出来</p>
<p>[<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1804.07723">1804.07723] Image Inpainting for Irregular Holes Using Partial Convolutionsarxiv.org</a></p>
<h3 id="8-CVPR-2018-Deepfill"><a href="#8-CVPR-2018-Deepfill" class="headerlink" title="8. [CVPR 2018]  Deepfill"></a>8. [<strong>CVPR 2018</strong>]  Deepfill</h3><p>的**<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1801.07892">Generative Image Inpainting with Contextual Attention</a>**，</p>
<p>一作大佬**<a target="_blank" rel="noopener" href="https://jiahuiyu.com/">jiahui Yu</a>** 后续还有个工作: <strong><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1806.03589">Deepfill v2: Free-Form Image Inpainting with Gated Convolution</a></strong>,</p>
<p> Github代码：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/JiahuiYu/generative_inpainting">JiahuiYu&#x2F;generative_inpainting</a></p>
<h3 id="9-2018-Shift-Net"><a href="#9-2018-Shift-Net" class="headerlink" title="9. [2018] Shift-Net"></a>9. [2018] Shift-Net</h3><p>哈工大左旺孟老师他们也有一篇**<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1801.09392">Shift-Net: Image Inpainting via Deep Feature Rearrangement</a>** </p>
<p>效果也不错，代码还没有放</p>
<p><a target="_blank" rel="noopener" href="https://github.com/Zhaoyi-Yan/Shift-Net">https://github.com/Zhaoyi-Yan/Shift-Net</a></p>
<p> <img src="/2020/09/03/Paper/Paper-CV-ImageInpainting/image-20200903155833399.png" alt="image-20200903155833399"></p>
<h3 id="10-ECCV-2018-Contextual-base-…"><a href="#10-ECCV-2018-Contextual-base-…" class="headerlink" title="10. [ECCV 2018]  Contextual-base …."></a>10. [ECCV 2018]  Contextual-base ….</h3><p><strong>ECCV 2018</strong>的**<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1711.08590.pdf">Contextual-based Image Inpainting</a><strong>，<strong>inpainting</strong>大佬</strong><a target="_blank" rel="noopener" href="https://www.harryyang.org/">Chao Yang</a>(NPS的一作)**等人的又一力作:</p>
<p>Contextual-based Image Inpainting <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1711.08590">arxiv.org</a></p>
<h3 id="11-NIPS-2018-inpainting-gmcnn"><a href="#11-NIPS-2018-inpainting-gmcnn" class="headerlink" title="11. [NIPS 2018] inpainting_gmcnn"></a>11. [NIPS 2018] inpainting_gmcnn</h3><p><strong><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1810.08771">Image Inpainting via Generative Multi-column Convolutional Neural Networks</a></strong>，用了不少trick，</p>
<p>Github代码：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/shepnerd/inpainting_gmcnn">shepnerd&#x2F;inpainting_gmcnn</a></p>
<h3 id="12-ACM-MM-2018-PGN"><a href="#12-ACM-MM-2018-PGN" class="headerlink" title="12. [ACM MM 2018] PGN"></a>12. [ACM MM 2018] PGN</h3><p><strong><a target="_blank" rel="noopener" href="https://dl.acm.org/citation.cfm%3Fid%3D3240625">Semantic Image Inpainting with Progressive Generative Networks</a>，<strong>简称</strong>PGN，采用了由外至内的步进式修补策略</strong>，Github代码：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/crashmoon/Progressive-Generative-Networks">crashmoon&#x2F;Progressive-Generative-Networks</a></p>
<h3 id="13-ArXiv-2019-EdgeConnect"><a href="#13-ArXiv-2019-EdgeConnect" class="headerlink" title="13. [ArXiv 2019] EdgeConnect"></a>13. [ArXiv 2019] EdgeConnect</h3><p>使用对抗边缘学习进行生成图像修复</p>
<p><strong>论文链接：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1901.00212">ArXiv</a> | <a target="_blank" rel="noopener" href="https://github.com/knazeri/edge-connect#citation">BibTex</a></strong></p>
<p><strong>项目地址：<a target="_blank" rel="noopener" href="https://github.com/knazeri/edge-connect#testing">https://github.com/knazeri/edge-connect#testing</a></strong></p>
<p>EdgeConnect，一种基于边缘补全的图像修复新方法,这篇文章将图像修复的工作分成了两个部分，首先利用利用启发式的生成模型得到了缺失部分的边缘信息，随后将边缘信息作为图像缺失的先验部分和图像一起送入修复网络进行图像重建。（from 安大略技术大学）</p>
<p>具体来说，作者们提出了一个二阶段生成对抗网络 EdgeConnect，它包括一个边缘生成器，然后是一个图像补全网络。边缘生成器在图像的缺失区域（规则和不规则）生成预测边缘，然后图像补全网络使用预测边缘作为先验填充缺失区域。研究者通过公开可用的数据集 CelebA、Places2 和 Paris StreetView 对模型进行端到端评估，并表明它在数量和质量上优于当前最先进的技术。</p>
<p>详见<a target="_blank" rel="noopener" href="https://blog.csdn.net/Gavinmiaoc/article/details/87873462">这里</a></p>
<p><img src="/2020/09/03/Paper/Paper-CV-ImageInpainting/20190228101750540.png" alt="img"></p>
<h3 id="14-IJCAI-2019-MUSICAL"><a href="#14-IJCAI-2019-MUSICAL" class="headerlink" title="14. [IJCAI 2019] MUSICAL"></a>14. [IJCAI 2019] MUSICAL</h3><p>的**<a target="_blank" rel="noopener" href="https://sigma.whu.edu.cn/newspage.php%3Fq%3D2019_05_17">MUSICAL: Multi-Scale Image Contextual Attention Learning for Inpainting</a><strong>，武汉大学杜博老师组的工作（注：第一作者为我校计院的一名</strong>本科生**…广大CV狗瑟瑟发抖!）。引入一个多尺度的上下文注意力模块，避免信息滥用&#x2F;误用导致的纹理模糊等问题,损失函数部分联合了风格损失、感知损失、对抗损失，来保证补绘内容的一致性和清晰水平。</p>
<p><a target="_blank" rel="noopener" href="https://sigma.whu.edu.cn/">武汉大学地学智能感知与机器学习研究组</a></p>
<h3 id="15-CVPR-2019-Foreground-aware-Image-Inpainting"><a href="#15-CVPR-2019-Foreground-aware-Image-Inpainting" class="headerlink" title="15. [CVPR 2019] Foreground-aware Image Inpainting"></a>15. [CVPR 2019] Foreground-aware Image Inpainting</h3><p><strong><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1901.05945">Foreground-aware Image Inpainting</a></strong>, 思路类似于上面的工作，也是先推断生成<strong>轮廓边缘</strong>，辅助缺失区域进行修复，不知道上面的哥们看了这篇会是什么感受…速度也很重要啊…</p>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1901.05945">ARXIV-Foreground-aware Image Inpainting</a></p>
<h3 id="16-CVPR-2019-Pluralistic-Image-Completion"><a href="#16-CVPR-2019-Pluralistic-Image-Completion" class="headerlink" title="16. [CVPR 2019] Pluralistic Image Completion"></a>16. [CVPR 2019] Pluralistic Image Completion</h3><p><strong><a target="_blank" rel="noopener" href="https://www.chuanxiaz.com/publication/pluralistic/">Pluralistic Image Completion</a>，</strong></p>
<p>论文与Github代码：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1903.04227">https://arxiv.org/abs/1903.04227</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/lyndonzheng/Pluralistic-Inpainting">lyndonzheng&#x2F;Pluralistic-Inpainting</a></p>
<h3 id="17-ICCV-2019-CSA-inpainting"><a href="#17-ICCV-2019-CSA-inpainting" class="headerlink" title="17. ICCV 2019 CSA-inpainting"></a>17. ICCV 2019 CSA-inpainting</h3><p>的**<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1905.12384">Coherent Semantic Attention for Image Inpainting</a><strong>，论文作者为<a target="_blank" rel="noopener" href="https://www.zhihu.com/people/kuma-48-65/activities">@Kuma</a> , 文中提出了一个全新的</strong>Attention模块**，该模块不仅有效的利用了<strong>上下文信息</strong>同时能够捕捉到<strong>生成补丁之间的相关性</strong>。同时提出了一个<strong>新的损失函数</strong>配合模块的工作，最后利用一个新的<strong>特征感知辨别器对细节效果进行加强，<strong>代码过段时间会公开</strong>。</strong></p>
<p>作者主页： <a target="_blank" rel="noopener" href="https://github.com/KumapowerLIU">KumapowerLIU - Overview</a></p>
<p>Paper：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1905.12384">《Coherent Semantic Attention for Image Inpainting》</a></p>
<p>Code：<a target="_blank" rel="noopener" href="https://github.com/KumapowerLIU/CSA-inpainting">github ICCV 2019 CSA impainting</a></p>
<p>效果对比：</p>
<p><img src="/2020/09/03/Paper/Paper-CV-ImageInpainting/image-20200903170835494.png" alt="image-20200903170835494"></p>
<p>软件架构：</p>
<p><img src="/2020/09/03/Paper/Paper-CV-ImageInpainting/6JHi78y1Nz.jpg" alt="file"></p>
<h3 id="18-ECCV-2020-RethingImpainting"><a href="#18-ECCV-2020-RethingImpainting" class="headerlink" title="18. [ECCV-2020] RethingImpainting"></a>18. [ECCV-2020] RethingImpainting</h3><p>《Rethinking Image Inpainting via a Mutual Encoder Decoder with Feature Equalizations》(ECCV2020 Oral)</p>
<p><a target="_blank" rel="noopener" href="https://github.com/KumapowerLIU/Rethinking-Inpainting-MEDFE">Rethinking-Inpainting</a></p>
<h3 id="19-1807-GAN-based-RGB-D-inpainting"><a href="#19-1807-GAN-based-RGB-D-inpainting" class="headerlink" title="19. [1807] GAN-based RGB-D inpainting"></a>19. [1807] GAN-based RGB-D inpainting</h3><p><img src="/2020/09/03/Paper/Paper-CV-ImageInpainting/image-20200903165822523.png" alt="image-20200903165822523"></p>
<h2 id="综述论文"><a href="#综述论文" class="headerlink" title="综述论文"></a>综述论文</h2><h3 id="《-Image-inpainting-A-review》"><a href="#《-Image-inpainting-A-review》" class="headerlink" title="《 Image inpainting: A review》"></a>《 Image inpainting: A review》</h3><p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1909.06399">https://arxiv.org/abs/1909.06399</a></p>
<h2 id="参考链接："><a href="#参考链接：" class="headerlink" title="参考链接："></a>参考链接：</h2><p>1.<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/56801298">https://www.zhihu.com/question/56801298</a></p>
<p>2.<a target="_blank" rel="noopener" href="https://blog.csdn.net/muyiyushan/article/details/79093806">https://blog.csdn.net/muyiyushan/article/details/79093806</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/09/02/Paper/Paper-CV-SuperResolution/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/02/Paper/Paper-CV-SuperResolution/" class="post-title-link" itemprop="url">Paper-CV-Super Resolution</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-02 21:43:52" itemprop="dateCreated datePublished" datetime="2020-09-02T21:43:52+00:00">2020-09-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CV-Apply/" itemprop="url" rel="index"><span itemprop="name">CV_Apply</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CV-Apply/SR/" itemprop="url" rel="index"><span itemprop="name">SR</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<p>高分辨率</p>
<ul>
<li>单张照片</li>
<li>多张照片</li>
</ul>
<h2 id="SISR-高清图片"><a href="#SISR-高清图片" class="headerlink" title="SISR 高清图片"></a>SISR 高清图片</h2><h3 id="SRCNN-ECCV2014"><a href="#SRCNN-ECCV2014" class="headerlink" title="SRCNN [ECCV2014]"></a>SRCNN [ECCV2014]</h3><p>开山之作，三个卷积层，输入图像是低分辨率图像经过双三次(bicubic)插值和高分辨率一个尺寸后输入CNN。</p>
<p>图像块的提取和特征表示，特征非线性映射和最终的重建。使用均方误差(MSE)作为损失函数。</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204161720504" alt="img"></p>
<p>code: <a target="_blank" rel="noopener" href="http://mmlab.ie.cuhk.edu.hk/projects/SRCNN.html">http://mmlab.ie.cuhk.edu.hk/projects/SRCNN.html</a></p>
<h3 id="SCN-ICCV-2015"><a href="#SCN-ICCV-2015" class="headerlink" title="SCN ICCV 2015"></a>SCN ICCV 2015</h3><h3 id="FSRCNN-ECCV2016"><a href="#FSRCNN-ECCV2016" class="headerlink" title="FSRCNN [ECCV2016]"></a>FSRCNN [ECCV2016]</h3><p><strong>特征提取</strong>：低分辨率图像，选取的核9×9设置为5×5。</p>
<p>**收缩：**1×1的卷积核进行降维。</p>
<p>**非线性映射：**用两个串联的3×3的卷积核可以替代一个5×5的卷积核。</p>
<p><strong>扩张</strong>：1×1的卷积核进行扩维。</p>
<p><strong>反卷积层</strong>：卷积层的逆操作，如果步长为n，那么尺寸放大n倍，实现了上采样的操作。</p>
<p>FSRCNN与SRCNN都是香港中文大学Dong Chao， Xiaoou  Tang等人的工作。FSRCNN是对之前SRCNN的改进。</p>
<p>主要在三个方面：</p>
<p>​        一是在最后使用了一个反卷积层放大尺寸，因此可以直接将原始的低分辨率图像输入到网络中，而不是像之前SRCNN那样需要先通过bicubic方法放大尺寸。</p>
<p>​        二是改变特征维数，使用更小的卷积核和使用更多的映射层。</p>
<p>​        三是可以共享其中的映射层，如果需要训练不同上采样倍率的模型，只需要fine-tuning最后的反卷积层。</p>
<p><strong>相对于SRCNN：</strong></p>
<p>在最后使用了一个反卷积层放大尺寸，因此可以直接将原始的低分辨率图像输入到网络中；改变特征维数，使用更小的卷积核和使用更多的映射层；可以共享其中的映射层，如果需要训练不同上采样倍率的模型，只需要fine-tuning最后的反卷积层。</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204161733884" alt="img"></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_39372048/article/details/81628945">https://blog.csdn.net/sinat_39372048/article/details/81628945</a></p>
<p>code: <a target="_blank" rel="noopener" href="http://mmlab.ie.cuhk.edu.hk/projects/FSRCNN.html">http://mmlab.ie.cuhk.edu.hk/projects/FSRCNN.html</a></p>
<h3 id="ESPCN-CVPR2016"><a href="#ESPCN-CVPR2016" class="headerlink" title="ESPCN [CVPR2016]"></a>ESPCN [CVPR2016]</h3><p>核心概念是亚像素卷积层，输入原始低分辨率图像，三个卷积层，将 $H \times W \times r^2$ 的特征图像被重新排列成 $rH \times rW \times 1$的高分辨率图像。</p>
<p>ESPCN激活函数采用tanh替代了ReLU。损失函数为均方误差。</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/10041382-13cfbbe52721b611.png" alt="img"></p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/10041382-f17121bcfcaeed0e.png" alt="img"></p>
<p>github(tensorflow): <a target="_blank" rel="noopener" href="https://github.com/drakelevy/ESPCN-TensorFlow">https://github.com/drakelevy/ESPCN-TensorFlow</a> </p>
<p>github(pytorch): <a target="_blank" rel="noopener" href="https://github.com/leftthomas/ESPCN">https://github.com/leftthomas/ESPCN</a> </p>
<p>github(caffe): <a target="_blank" rel="noopener" href="https://github.com/wangxuewen99/Super-Resolution/tree/master/ESPCN">https://github.com/wangxuewen99/Super-Resolution/tree/master/ESPCN</a></p>
<h3 id="VDSR–7-CVPR2016"><a href="#VDSR–7-CVPR2016" class="headerlink" title="VDSR–7 [CVPR2016]"></a>VDSR–7 [CVPR2016]</h3><p>该论文利用残差学习，加深网络结构（20层），在图像的超分辨率上取得了较好的效果。</p>
<p>只学习高分辨率图像和低分辨率图像之间的高频部分残差即可——<strong>残差网络</strong></p>
<p>输入低分辨率图像插值后的图像，再将这个图像与网络学到的残差相加得到最终的网络的输出。</p>
<p>特点：</p>
<p>1.加深了网络结构(20层)，：更深的网络结构使得后面的网络层拥有更大的感受野，该文章采取3X3的卷积核，从而使得深度为D的网络，拥有(2D+1)X(2D+1)的感受野，从而可以根据更多的像素点去推断结果像素点</p>
<p>2.采用残差学习（自适应梯度裁剪将梯度限制在某一范围）。</p>
<p>3.卷积补0操作，保证特征图和最终的输出图像在尺寸上都保持一致。</p>
<p>4.多尺度图像共同训练</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20170703182335617.png" alt="img"></p>
<p>code: <a target="_blank" rel="noopener" href="https://cv.snu.ac.kr/research/VDSR/">https://cv.snu.ac.kr/research/VDSR/</a></p>
<p>github(caffe): <a target="_blank" rel="noopener" href="https://github.com/huangzehao/caffe-vdsr">https://github.com/huangzehao/caffe-vdsr</a></p>
<p>github(tensorflow): <a target="_blank" rel="noopener" href="https://github.com/Jongchan/tensorflow-vdsr">https://github.com/Jongchan/tensorflow-vdsr</a> </p>
<p>github(pytorch): <a target="_blank" rel="noopener" href="https://github.com/twtygqyy/pytorch-vdsr">https://github.com/twtygqyy/pytorch-vdsr</a> </p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wangkun1340378/article/details/74231352">https://blog.csdn.net/wangkun1340378/article/details/74231352</a></p>
<h3 id="DRCN-CVPR-2016"><a href="#DRCN-CVPR-2016" class="headerlink" title="DRCN [CVPR 2016]"></a>DRCN [CVPR 2016]</h3><p><strong>递归神经网络结构</strong></p>
<p>输入的是插值后的图像,分为三个模块，第一个是Embedding network，相当于特征提取，第二个是Inference network, 相当于特征的非线性映射，第三个是Reconstruction network,即从特征图像恢复最后的重建结果。其中的Inference network是一个递归网络，即数据循环地通过该层多次。将这个循环进行展开，等效于使用同一组参数的多个串联的卷积层.</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/v2-0e4bfefd4a53912f2f046a6a86b35f2d_720w.jpg" alt="img"></p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/v2-235d48c32fbd39b3e960b17768505e22_720w.jpg" alt="img"></p>
<p>​        在递归次数比较多的时候，这种基本的递归形式的网络模型会有两个比较典型的问题，一是很容易出现梯度消失或者梯度爆炸的现象，导致基本上无法训练；二是类似于RNN，输出与输入之间有着较长的依赖关系，这种依赖关系导致模型很难获得输入图片中较好的细节。</p>
<p>​        </p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/v2-a1679efdb52d6c839fcf872e068e1a2c_720w.jpg" alt="img">        鉴于此，作者提出了递归监督的方法，来使得递归层中间的输出经过重建之后也可以加上监督的信息；然后采用残差学习的方法来解决输入与输出之间的这种长期依赖的关系，来使得输出获得较好的细节。</p>
<p>code: <a target="_blank" rel="noopener" href="https://cv.snu.ac.kr/research/DRCN/">https://cv.snu.ac.kr/research/DRCN/</a></p>
<p>githug(tensorflow): <a target="_blank" rel="noopener" href="https://github.com/jiny2001/deeply-recursive-cnn-tf">https://github.com/jiny2001/deeply-recursive-cnn-tf</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/76868378">https://zhuanlan.zhihu.com/p/76868378</a></p>
<h3 id="RED-NIPS2016"><a href="#RED-NIPS2016" class="headerlink" title="RED [NIPS2016]"></a>RED [NIPS2016]</h3><p>对称的卷积层-反卷积层构成的网络结构</p>
<p>RED网络的结构是对称的，每个卷积层都有对应的反卷积层。卷积层用来获取图像的抽象内容，反卷积层用来放大特征尺寸并且恢复图像细节。</p>
<p>用到了与VDSR相同的Idea：网络中有一条线是将输入的图像连接到后面与最后的一层反卷积层的输出相加。</p>
<p>RED中间的卷积层和反卷积层学习的特征是目标图像和低质图像之间的残差。RED的网络深度为30层，损失函数用的均方误差。</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204161839885" alt="img"></p>
<h3 id="VDSR-CVPR-2016"><a href="#VDSR-CVPR-2016" class="headerlink" title="VDSR [CVPR. (2016)]"></a>VDSR [CVPR. (2016)]</h3><h3 id="DRRN-CVPR-2017"><a href="#DRRN-CVPR-2017" class="headerlink" title="DRRN [CVPR. (2017)]"></a>DRRN [CVPR. (2017)]</h3><h3 id="LapSRN-CVPR-2017"><a href="#LapSRN-CVPR-2017" class="headerlink" title="LapSRN  [CVPR. (2017)]"></a>LapSRN  [CVPR. (2017)]</h3><h3 id="MSLapSRN-2017"><a href="#MSLapSRN-2017" class="headerlink" title="MSLapSRN (2017)"></a>MSLapSRN (2017)</h3><h3 id="ENet-PAT-ICCV-2017"><a href="#ENet-PAT-ICCV-2017" class="headerlink" title="ENet-PAT  [ICCV. (2017)]"></a>ENet-PAT  [ICCV. (2017)]</h3><h3 id="MemNet-CVPRW-2017"><a href="#MemNet-CVPRW-2017" class="headerlink" title="MemNet [CVPRW 2017]"></a>MemNet [CVPRW 2017]</h3><h3 id="DRRN-CVPR2017-："><a href="#DRRN-CVPR2017-：" class="headerlink" title="DRRN [CVPR2017]："></a>DRRN [CVPR2017]：</h3><p>DRRN的作者应该是受到了（VDSR, DRCN，残差网络)启发，采用了更深的网络结构来获取性能的提升。作者也在文中用图片示例比较了DRRN与上述三个网络的区别，比较示例图如下所示。</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204161854203" alt="img"></p>
<p>ResNet是链模式的局部残差学习。VDSR是全局残差学习。DRCN是全局残差学习+单权重的递归学习+多目标优化。DRRN是多路径模式的局部残差学习+全局残差学习+多权重的递归学习。</p>
<p>选用的是1个递归块和25个残差单元，深度为52层的网络结构</p>
<p>github(caffe): <a target="_blank" rel="noopener" href="https://github.com/tyshiwo/DRRN_CVPR17">https://github.com/tyshiwo/DRRN_CVPR17</a></p>
<h3 id="LapSRN-CVPR2017"><a href="#LapSRN-CVPR2017" class="headerlink" title="LapSRN [CVPR2017]"></a>LapSRN [CVPR2017]</h3><p>改进前面大部分算法</p>
<p><strong>论文中作者先总结了之前的方法存在有三点问题</strong>。</p>
<p>​    一是有的方法在输入图像进网络前，需要使用预先定义好的<strong>上采样</strong>操作(例如bicubic)来获得目标的空间尺寸，这样的操作增加了额外的计算开销，同时也会导致可见的重建伪影。而有的方法使用了<strong>亚像素卷积层或者反卷积层这样的操作</strong>来替换预先定义好的上采样操作，这些方法的网络结构又相对比较简单，性能较差，并不能学好低分辨率图像到高分辨率图像复杂的映射。    </p>
<p>​    二是在训练网络时使用 l2 型<strong>损失函数</strong>时，不可避免地会产生模糊的预测，恢复出的高分辨率图片往往会太过于平滑。</p>
<p>​    三是在重建高分辨率图像时，如果只用一次上采样的操作，在获得大倍数**(8倍以上)的上采样因子**时就会比较困难。</p>
<p>LapSRN通过逐步上采样，一级一级预测残差的方式，在做高倍上采样时，也能得到中间低倍上采样结果的输出。由于尺寸是逐步放大，不是所有的操作都在大尺寸特征上进行，因此速度比较快。LapSRN设计了损失函数来训练网络，对每一级的结果都进行监督，因此取得了不错的结果。</p>
<p>​        <img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204161912490" alt="img" style="zoom: 33%;"></p>
<p>github(matconvnet): <a target="_blank" rel="noopener" href="https://github.com/phoenix104104/LapSRN">https://github.com/phoenix104104/LapSRN</a></p>
<p>github(pytorch): <a target="_blank" rel="noopener" href="https://github.com/twtygqyy/pytorch-LapSRN">https://github.com/twtygqyy/pytorch-LapSRN</a></p>
<p>github(tensorflow): <a target="_blank" rel="noopener" href="https://github.com/zjuela/LapSRN-tensorflow">https://github.com/zjuela/LapSRN-tensorflow</a></p>
<h3 id="SRDenseNet-CVPR-2017"><a href="#SRDenseNet-CVPR-2017" class="headerlink" title="SRDenseNet [CVPR 2017]"></a>SRDenseNet [CVPR 2017]</h3><p>SRDenseNet将稠密块结构应用到了超分辨率问题上，这样的结构给整个网络带来了减轻梯度消失问题、加强特征传播、支持特征复用、减少参数数量的优点</p>
<p>DenseNet: 结构给整个网络带来了减轻梯度消失问题、加强特征传播、支持特征复用、减少参数数量的优点。</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204161940993" alt="img"></p>
<h3 id="SRGAN-SRResNet-CVPR2017"><a href="#SRGAN-SRResNet-CVPR2017" class="headerlink" title="SRGAN(SRResNet) [CVPR2017]"></a>SRGAN(SRResNet) [CVPR2017]</h3><p>在这篇文章中，将生成对抗网络(Generative Adversarial Network, GAN)用在了解决超分辨率问题上</p>
<p>《Photo-Realistic Single Image Super-Resolution Using a Generative Adversarial Network》</p>
<p>用均方误差优化SRResNet(SRGAN的生成网络部分)，文章中的实验结果表明，用基于均方误差的损失函数训练的SRResNet，得到了结果具有很高的峰值信噪比，但是会丢失一些高频部分细节，图像比较平滑。而SRGAN得到的结果则有更好的视觉效果。</p>
<p>SRGAN利用感知损失(perceptual loss)和对抗损失(adversarial loss)来提升恢复出的图片的真实感。</p>
<p>其中，又对内容损失分别设置成基于均方误差、基于VGG模型（损失函数）低层特征和基于VGG模型高层特征三种情况作了比较，在基于均方误差的时候表现最差，基于<strong>VGG模型高层特征</strong>比基于VGG模型<strong>低层特征</strong>的内容损失能生成更好的纹理细节。</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204161954958" alt="img"></p>
<p>​        在生成网络部分(SRResNet)部分包含多个残差块，每个残差块中包含两个3×3的卷积层，卷积层后接批规范化层(batch  normalization, BN)和PReLU作为激活函数，两个2×亚像素卷积层(sub-pixel convolution  layers)被用来增大特征尺寸。在判别网络部分包含8个卷积层，随着网络层数加深，特征个数不断增加，特征尺寸不断减小，选取激活函数为LeakyReLU，最终通过两个全连接层和最终的sigmoid激活函数得到预测为自然图像的概率。SRGAN的损失函数为：</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204161635000" alt="img"></p>
<p>其中内容损失可以是基于均方误差的损失的损失函数：</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204161617237" alt="img"></p>
<p>也可以是基于训练好的以ReLU为激活函数的VGG模型的损失函数:</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204162028043" alt="img"></p>
<p>i和j表示VGG19网络中第i个最大池化层(maxpooling)后的第j个卷积层得到的特征。对抗损失为：</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204162050044" alt="img"></p>
<p>文章中的实验结果表明，用基于均方误差的损失函数训练的SRResNet，得到了结果具有很高的峰值信噪比，但是会丢失一些高频部分细节，图像比较平滑。而SRGAN得到的结果则有更好的视觉效果。其中，又对内容损失分别设置成基于均方误差、基于VGG模型低层特征和基于VGG模型高层特征三种情况作了比较，在基于均方误差的时候表现最差，基于VGG模型高层特征比基于VGG模型低层特征的内容损失能生成更好的纹理细节。</p>
<p>github(tensorflow): <a target="_blank" rel="noopener" href="https://github.com/zsdonghao/SRGAN">https://github.com/zsdonghao/SRGAN</a></p>
<p>github(tensorflow): <a target="_blank" rel="noopener" href="https://github.com/buriburisuri/SRGAN">https://github.com/buriburisuri/SRGAN</a></p>
<p>github(torch): <a target="_blank" rel="noopener" href="https://github.com/junhocho/SRGAN">https://github.com/junhocho/SRGAN</a></p>
<p>github(caffe): <a target="_blank" rel="noopener" href="https://github.com/ShenghaiRong/caffe_srgan">https://github.com/ShenghaiRong/caffe_srgan</a></p>
<p>github(tensorflow): <a target="_blank" rel="noopener" href="https://github.com/brade31919/SRGAN-tensorflow">https://github.com/brade31919/SRGAN-tensorflow</a></p>
<p>github(keras): <a target="_blank" rel="noopener" href="https://github.com/titu1994/Super-Resolution-using-Generative-Adversarial-Networks">https://github.com/titu1994/Super-Resolution-using-Generative-Adversarial-Networks</a></p>
<p>github(pytorch): <a target="_blank" rel="noopener" href="https://github.com/ai-tor/PyTorch-SRGAN">https://github.com/ai-tor/PyTorch-SRGAN</a></p>
<h3 id><a href="#" class="headerlink" title></a></h3><h3 id="EDSR-MDSR-NTIRE2017"><a href="#EDSR-MDSR-NTIRE2017" class="headerlink" title="EDSR+MDSR [NTIRE2017]"></a>EDSR+MDSR [NTIRE2017]</h3><h4 id="EDSR（单一尺度网络）"><a href="#EDSR（单一尺度网络）" class="headerlink" title="EDSR（单一尺度网络）"></a>EDSR（单一尺度网络）</h4><p>EDSR是NTIRE2017超分辨率挑战赛上获得冠军的方案。</p>
<p>如论文中所说，EDSR最有意义的模型性能提升是去除掉了SRResNet多余的模块，从而可以扩大模型的尺寸来提升结果质量。</p>
<p>EDSR的网络结构如下图所示。</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204162137895" alt="img"></p>
<p>EDSR在结构上与SRResNet相比，就是把批规范化处理(batch normalization, BN)操作给去掉了。文章中说**：原始的ResNet最一开始是被提出来解决高层的计算机视觉问题，比如分类和检测，直接把ResNet的结构应用到像超分辨率这样的低层计算机视觉问题，显然不是最优的。**由于批规范化层消耗了与它前面的卷积层相同大小的内存，在去掉这一步操作后，<strong>相同的计算资源下，EDSR就可以堆叠更多的网络层或者使每层提取更多的特征，从而得到更好的性能表现。<strong>EDSR用</strong>L1范数样式的损失函数</strong>来优化网络模型。在训练时先训练低倍数的上采样模型，接着用训练低倍数上采样模型得到的参数来初始化高倍数的上采样模型，这样能减少高倍数上采样模型的训练时间，同时训练结果也更好。</p>
<p>这篇文章还提出了一个能同时不同上采样倍数的网络结构MDSR。</p>
<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20171204164527342" alt="img"></p>
<h4 id="MDSR-多尺度超分辨率架构"><a href="#MDSR-多尺度超分辨率架构" class="headerlink" title="MDSR 多尺度超分辨率架构"></a>MDSR 多尺度超分辨率架构</h4><p><strong>两种模型EDSR（单一尺度网络） 和 MDSR（多尺度超分辨率架构）。</strong></p>
<p>MDSR的中间部分还是和EDSR一样，只是在网络前面添加了不同的预训练好的模型来减少不同倍数的输入图片的差异。在网络最后，不同倍数上采样的结构平行排列来获得不同倍数的输出结果。</p>
<p>从文章给出的结果可以看到，EDSR能够得到很好的结果。增大模型参数数量以后，结果又有了进一步的提升。因此如果能够解决训练困难的问题，网络越深，参数越多，对提升结果确实是有帮助吧。</p>
<p>github(torch): <a target="_blank" rel="noopener" href="https://github.com/LimBee/NTIRE2017">https://github.com/LimBee/NTIRE2017</a></p>
<p>github(tensorflow): <a target="_blank" rel="noopener" href="https://github.com/jmiller656/EDSR-Tensorflow">https://github.com/jmiller656/EDSR-Tensorflow</a></p>
<p>github(pytorch): <a target="_blank" rel="noopener" href="https://github.com/thstkdgus35/EDSR-PyTorch">https://github.com/thstkdgus35/EDSR-PyTorch</a></p>
<h3 id="SRMDNF"><a href="#SRMDNF" class="headerlink" title="SRMDNF"></a>SRMDNF</h3><h3 id="ESRGAN-ECCV2018"><a href="#ESRGAN-ECCV2018" class="headerlink" title="ESRGAN [ECCV2018]"></a>ESRGAN [ECCV2018]</h3><p>《Enhanced Super-Resolution Generative Adversarial Networks》</p>
<p>相比于SRGAN它在三个方面进行了改进</p>
<ol>
<li>改进了网络结构,对抗损失,感知损失</li>
<li>引入<strong>Residual-in-Residu Dense Block</strong>(RRDB)</li>
<li>使用激活前的VGG特征来改善感知损失</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/61009988">https://zhuanlan.zhihu.com/p/61009988</a></p>
<h3 id="RCAN-ECCV-2018"><a href="#RCAN-ECCV-2018" class="headerlink" title="RCAN [ECCV 2018]"></a>RCAN [ECCV 2018]</h3><p>Image Super-Resolution Using Very Deep Residual Channel Attention Networks</p>
<p>PyTorch code for our ECCV 2018 paper “Image Super-Resolution Using Very Deep Residual Channel Attention Networks”</p>
<p><a target="_blank" rel="noopener" href="https://github.com/yulunzhang/RCAN">https://github.com/yulunzhang/RCAN</a></p>
<p>Code:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/xinntao/ESRGAN">Torch ESGAN</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/peteryuX/esrgan-tf2">TF2.0_ESGAN</a>    </p>
<h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2><p>ref: <a target="_blank" rel="noopener" href="https://blog.csdn.net/Jemary_/article/details/92091545">https://blog.csdn.net/Jemary_/article/details/92091545</a></p>
<img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20190615214623876-1601005293401.png" alt="img" style="zoom:200%;">

<p><img src="/2020/09/02/Paper/Paper-CV-SuperResolution/20190616155720366.png" alt="img"></p>
<h2 id="Refrences"><a href="#Refrences" class="headerlink" title="Refrences"></a>Refrences</h2><p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1706.09077">论文综述 Super-Resolution via Deep Learning</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Jemary_/article/details/92091545">A Deep Journey into Super-resolution: A Survey</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/YapengTian/Single-Image-Super-Resolution">SI-SR 论文代码整理</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010327061/article/details/80101301">https://blog.csdn.net/u010327061/article/details/80101301</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/09/02/Course/Algorithm/Algorithm-DM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/02/Course/Algorithm/Algorithm-DM/" class="post-title-link" itemprop="url">Algorithm -- Data Mining</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-02 12:00:00" itemprop="dateCreated datePublished" datetime="2020-09-02T12:00:00+00:00">2020-09-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:38" itemprop="dateModified" datetime="2025-08-06T08:16:38+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/Data-Mining/" itemprop="url" rel="index"><span itemprop="name">Data Mining</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>数据挖掘</p>
<p>[TOC]</p>
<h2 id="奇异值分解SVD"><a href="#奇异值分解SVD" class="headerlink" title="奇异值分解SVD"></a>奇异值分解SVD</h2><h3 id="1、特征值分解EVD"><a href="#1、特征值分解EVD" class="headerlink" title="1、特征值分解EVD"></a>1、特征值分解EVD</h3><h4 id="实对称矩阵"><a href="#实对称矩阵" class="headerlink" title="实对称矩阵"></a>实对称矩阵</h4><p>如果有n阶<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%9F%A9%E9%98%B5">矩阵</a>A，其矩阵的元素都为实数，且矩阵A的转置等于其本身（$a_{ij}&#x3D;a_{ji}$），(i,j为元素的脚标），则称A为实对称矩阵。</p>
<p>如果矩阵<em>𝐴</em>是一个$𝑚×𝑚$的<code>实对称矩阵</code>（即$𝐴&#x3D;𝐴^T$），那么它可以被分解成如下的形式</p>
<p>$$<br>A &#x3D; Q \sigma Q^T&#x3D;<br>Q\left[<br>\begin{matrix}<br>    \lambda_1 &amp; \cdots &amp; \cdots &amp; \cdots\<br>    \cdots &amp; \lambda_2 &amp; \cdots &amp; \cdots\<br>    \cdots &amp; \cdots &amp; \ddots &amp; \cdots\<br>    \cdots &amp; \cdots &amp; \cdots &amp; \lambda_m\<br>\end{matrix}<br>\right]Q^T<br>\tag{1-1}<br>$$</p>
<p>其中<em>𝑄</em>为标准正交阵，即有$𝑄𝑄^𝑇&#x3D;I$，$\sigma$为对角矩阵，且上面的矩阵的维度均为<em>𝑚</em>×<em>𝑚</em>。$𝜆_i$称为<code>特征值</code>，$𝑞_𝑖$是<em>𝑄</em>（特征矩阵）中的列向量，称为<code>特征向量</code>。</p>
<p><strong>一般矩阵</strong></p>
<p>上面的特征值分解，对矩阵有着较高的要求，它需要被分解的矩阵<em>𝐴</em></p>
<p>为实对称矩阵，但是现实中，我们所遇到的问题一般不是实对称矩阵。那么当我们碰到一般性的矩阵，即有一个<em>𝑚</em>×<em>𝑛</em>的矩阵<em>𝐴</em>，它是否能被分解成上面的式（1-1）的形式呢？当然是可以的，这就是我们下面要讨论的内容。</p>
<h3 id="2、-奇异值分解"><a href="#2、-奇异值分解" class="headerlink" title="2、 奇异值分解"></a>2、 奇异值分解</h3><p>定义</p>
<p>有一个<em>𝑚</em>×<em>𝑛</em>的实数矩阵<em>𝐴</em>，我们想要把它分解成如下的形式<br>$$<br>A  &#x3D; U \sigma V^T<br>\tag{2-1}<br>$$<br>其中<em>𝑈</em>和<em>𝑉</em>均为单位正交阵，即有$𝑈𝑈^𝑇&#x3D;𝐼$和$𝑉𝑉^𝑇&#x3D;𝐼$，$𝑈$称为<code>左奇异矩阵</code>，$𝑉$称为<code>右奇异矩阵</code>，$\sigma $ 仅在主对角线上有值，我们称它为<code>奇异值</code>，其它元素均为0。上面矩阵的维度分别为$𝑈 ∈ 𝑅^{𝑚×𝑚}$, $\sigma ∈𝑅^{𝑚×𝑛}$ , $𝑉∈𝑅^{𝑛×𝑛}$。</p>
<p>一般地$\sigma$ 有如下形式<br>$$<br>\sigma &#x3D;<br>\left[<br>    \begin{matrix}<br>    \sigma_1 &amp; 0 &amp; 0 &amp; 0 &amp; 0\<br>    0 &amp; \sigma_2 &amp; 0 &amp; 0 &amp; 0\<br>    0 &amp; 0 &amp; \ddots &amp; 0 &amp; 0\<br>    0 &amp; 0 &amp; 0 &amp; \ddots &amp; 0\<br>    \end{matrix}<br>\right]_{m\times n}<br>$$<br>参考自：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/endlesscoding/p/10033527.html">https://www.cnblogs.com/endlesscoding/p/10033527.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/09/02/AI/Base/Math-matrix/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/02/AI/Base/Math-matrix/" class="post-title-link" itemprop="url">Math -- Matrix</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-02 11:23:00" itemprop="dateCreated datePublished" datetime="2020-09-02T11:23:00+00:00">2020-09-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:37" itemprop="dateModified" datetime="2025-08-06T08:16:37+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Math/" itemprop="url" rel="index"><span itemprop="name">Math</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><h3 id="协方差矩阵"><a href="#协方差矩阵" class="headerlink" title="协方差矩阵"></a>协方差矩阵</h3><h3 id="正交矩阵"><a href="#正交矩阵" class="headerlink" title="正交矩阵"></a>正交矩阵</h3><h3 id="正定矩阵"><a href="#正定矩阵" class="headerlink" title="正定矩阵"></a>正定矩阵</h3><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/44860862">https://zhuanlan.zhihu.com/p/44860862</a></p>
<p>【定义1】给定一个大小为 $n \times n$ 的实对称矩阵 $A$ ，若对于任意长度为$n$ 的非零向量 $x$，有$x^TAx &gt; 0$ 恒成立，则矩阵 $A$ 是一个正定矩阵。</p>
<h3 id="负定矩阵"><a href="#负定矩阵" class="headerlink" title="负定矩阵"></a>负定矩阵</h3><h3 id="对角矩阵"><a href="#对角矩阵" class="headerlink" title="对角矩阵"></a>对角矩阵</h3><h3 id="相似矩阵"><a href="#相似矩阵" class="headerlink" title="相似矩阵"></a>相似矩阵</h3><h3 id="可逆矩阵"><a href="#可逆矩阵" class="headerlink" title="可逆矩阵"></a>可逆矩阵</h3><h3 id="初等矩阵"><a href="#初等矩阵" class="headerlink" title="初等矩阵"></a>初等矩阵</h3><h3 id="等价矩阵"><a href="#等价矩阵" class="headerlink" title="等价矩阵"></a>等价矩阵</h3><h3 id="施密特正交化"><a href="#施密特正交化" class="headerlink" title="施密特正交化"></a>施密特正交化</h3><h3 id="实对称矩阵"><a href="#实对称矩阵" class="headerlink" title="实对称矩阵"></a>实对称矩阵</h3><h3 id="斜对称矩阵"><a href="#斜对称矩阵" class="headerlink" title="斜对称矩阵"></a>斜对称矩阵</h3><h3 id="反对称矩阵"><a href="#反对称矩阵" class="headerlink" title="反对称矩阵"></a>反对称矩阵</h3><h3 id="旋转矩阵"><a href="#旋转矩阵" class="headerlink" title="旋转矩阵"></a>旋转矩阵</h3><h3 id="黑塞矩阵"><a href="#黑塞矩阵" class="headerlink" title="黑塞矩阵"></a>黑塞矩阵</h3><h3 id="稀疏矩阵分解"><a href="#稀疏矩阵分解" class="headerlink" title="稀疏矩阵分解"></a>稀疏矩阵分解</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/08/26/Sub_Language/PythonDoc/Language-scipy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/26/Sub_Language/PythonDoc/Language-scipy/" class="post-title-link" itemprop="url">Scipy (Python 的科学计算包)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-08-26 20:05:51" itemprop="dateCreated datePublished" datetime="2020-08-26T20:05:51+00:00">2020-08-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/" itemprop="url" rel="index"><span itemprop="name">dev</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dev/python/Scipy/" itemprop="url" rel="index"><span itemprop="name">Scipy</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<h2 id="sparse"><a href="#sparse" class="headerlink" title="sparse"></a>sparse</h2><h3 id="kron"><a href="#kron" class="headerlink" title="kron"></a>kron</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> scipy <span class="keyword">import</span> sparse</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>A = sparse.csr_matrix(np.array([[<span class="number">0</span>, <span class="number">2</span>], [<span class="number">5</span>, <span class="number">0</span>]]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>B = sparse.csr_matrix(np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sparse.kron(A, B).toarray()</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">2</span>,  <span class="number">4</span>],</span><br><span class="line">       [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">6</span>,  <span class="number">8</span>],</span><br><span class="line">       [ <span class="number">5</span>, <span class="number">10</span>,  <span class="number">0</span>,  <span class="number">0</span>],</span><br><span class="line">       [<span class="number">15</span>, <span class="number">20</span>,  <span class="number">0</span>,  <span class="number">0</span>]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sparse.kron(A, [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]]).toarray()</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">2</span>,  <span class="number">4</span>],</span><br><span class="line">       [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">6</span>,  <span class="number">8</span>],</span><br><span class="line">       [ <span class="number">5</span>, <span class="number">10</span>,  <span class="number">0</span>,  <span class="number">0</span>],</span><br><span class="line">       [<span class="number">15</span>, <span class="number">20</span>,  <span class="number">0</span>,  <span class="number">0</span>]])</span><br></pre></td></tr></table></figure>

<p>$A \times B$ 如果<em>A</em>是一个<em>m</em>×<em>n</em>的矩阵，而<em>B</em>是一个<em>p</em>×<em>q</em>的矩阵，<strong>克罗内克积</strong>则是一个<em>mp</em>×<em>nq</em>的<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%88%86%E5%9D%97%E7%9F%A9%E9%98%B5">分块矩阵</a></p>
<img src="/2020/08/26/Sub_Language/PythonDoc/Language-scipy/image-20200828144756226.png" alt="image-20200828144756226" style="zoom:75%;">

<img src="/2020/08/26/Sub_Language/PythonDoc/Language-scipy/image-20200828144810260.png" alt="image-20200828144810260" style="zoom:75%;">

<h3 id="csr-matrix"><a href="#csr-matrix" class="headerlink" title="csr_matrix"></a>csr_matrix</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.sparse <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">row =  [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>]<span class="comment">#行指标</span></span><br><span class="line">col =  [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]<span class="comment">#列指标</span></span><br><span class="line">data = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>]<span class="comment">#在行指标列指标下的数字</span></span><br><span class="line">team = csr_matrix((data,(row,col)),shape=(<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(team)</span><br><span class="line"><span class="built_in">print</span>(team.todense())</span><br><span class="line"></span><br><span class="line">输出结果：</span><br><span class="line"> (<span class="number">0</span>, <span class="number">0</span>)    <span class="number">1</span></span><br><span class="line">  (<span class="number">0</span>, <span class="number">1</span>)    <span class="number">0</span></span><br><span class="line">  (<span class="number">0</span>, <span class="number">2</span>)    <span class="number">1</span></span><br><span class="line">  (<span class="number">1</span>, <span class="number">0</span>)    <span class="number">0</span></span><br><span class="line">  (<span class="number">1</span>, <span class="number">1</span>)    <span class="number">1</span></span><br><span class="line">  (<span class="number">1</span>, <span class="number">2</span>)    <span class="number">1</span></span><br><span class="line">  (<span class="number">2</span>, <span class="number">0</span>)    <span class="number">1</span></span><br><span class="line">  (<span class="number">2</span>, <span class="number">1</span>)    <span class="number">1</span></span><br><span class="line">  (<span class="number">2</span>, <span class="number">2</span>)    <span class="number">0</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">0</span> <span class="number">1</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">1</span> <span class="number">0</span>]]</span><br></pre></td></tr></table></figure>

<h3 id="lil-matrix"><a href="#lil-matrix" class="headerlink" title="lil_matrix"></a>lil_matrix</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">100</span>).reshape(<span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">       [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>],</span><br><span class="line">       [<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>],</span><br><span class="line">       [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>],</span><br><span class="line">       [<span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>],</span><br><span class="line">       [<span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>],</span><br><span class="line">       [<span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>],</span><br><span class="line">       [<span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>],</span><br><span class="line">       [<span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lilm = scipy.sparse.lil_matrix(a)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lilm[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], :].toarray() <span class="comment"># extract the rows first...</span></span><br><span class="line">array([[<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>],</span><br><span class="line">       [<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lilm[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], :][:, [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]].toarray() <span class="comment"># ...then the columns</span></span><br><span class="line">array([[<span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>],</span><br><span class="line">       [<span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>],</span><br><span class="line">       [<span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>]])</span><br></pre></td></tr></table></figure>

<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-scipy libsuitesparse-dev</span><br><span class="line">pip install --user scikit-sparse</span><br></pre></td></tr></table></figure>

<p>cholesky</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/08/17/Graphices/Graphices-PC-Data/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/17/Graphices/Graphices-PC-Data/" class="post-title-link" itemprop="url">Graphices Point Cloud 点云数据处理方法-刚性篇</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-08-17 10:35:21" itemprop="dateCreated datePublished" datetime="2020-08-17T10:35:21+00:00">2020-08-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:39" itemprop="dateModified" datetime="2025-08-06T08:16:39+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Graphices/" itemprop="url" rel="index"><span itemprop="name">Graphices</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Graphices/PointCloud/" itemprop="url" rel="index"><span itemprop="name">PointCloud</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<p><strong>点云数据处理方法概述</strong></p>
<p>ICP点云配准就是我们非常熟悉的点云处理算法之一。实际上点云数据在形状检测和分类、立体视觉、运动恢复结构、多视图重建中都有广泛的使用。点云的存储、压缩、渲染等问题也是研究的热点。随着点云采集设备的普及、双目立体视觉技术、VR和AR的发展，点云数据处理技术正成为最有前景的技术之一。PCL是三维点云数据处理领域必备的工具和基本技能，这篇文章也将粗略介绍。</p>
<h3 id="三维点云数据处理技术-刚性变换篇"><a href="#三维点云数据处理技术-刚性变换篇" class="headerlink" title="三维点云数据处理技术(刚性变换篇)"></a>三维点云数据处理技术(刚性变换篇)</h3><h4 id="1-点云滤波（数据预处理）"><a href="#1-点云滤波（数据预处理）" class="headerlink" title="1. 点云滤波（数据预处理）"></a><strong>1. 点云滤波（数据预处理）</strong></h4><p>点云滤波，顾名思义，就是滤掉噪声。原始采集的点云数据往往包含大量散列点、孤立点，比如下图为滤波前后的点云效果对比。</p>
<p>点云滤波的主要方法有：双边滤波、高斯滤波、条件滤波、直通滤波、随机采样一致滤波、VoxelGrid滤波等，这些算法都被封装在了PCL点云库中。</p>
<p><img src="/2020/08/17/Graphices/Graphices-PC-Data/image-20200817104906916.png" alt="image-20200817104906916" style="zoom:50%;"> <img src="/2020/08/17/Graphices/Graphices-PC-Data/image-20200817104915747.png" alt="image-20200817104915747" style="zoom:50%;"></p>
<h4 id="2-点云关键点-提取算法"><a href="#2-点云关键点-提取算法" class="headerlink" title="2. 点云关键点(提取算法)"></a><strong>2. 点云关键点</strong>(提取算法)</h4><p>我们都知道在二维图像上，有Harris、SIFT、SURF、KAZE这样的关键点提取算法，这种特征点的思想可以推广到三维空间。从技术上来说，关键点的数量相比于原始点云或图像的数据量减小很多，与局部特征描述子结合在一起，组成关键点描述子常用来形成原始数据的表示，而且不失代表性和描述性，从而加快了后续的识别，追踪等对数据的处理了速度，故而，关键点技术成为在2D和3D 信息处理中非常关键的技术。</p>
<p>常见的三维点云关键点提取算法有一下几种：ISS3D、Harris3D、NARF、SIFT3D</p>
<p>这些算法在PCL库中都有实现，其中NARF算法是博主见过用的比较多的。</p>
<h4 id="3-特征和特征描述"><a href="#3-特征和特征描述" class="headerlink" title="3. 特征和特征描述"></a><strong>3. 特征和特征描述</strong></h4><p>如果要对一个三维点云进行描述，光有点云的位置是不够的，常常需要计算一些额外的参数，比如法线方向、曲率、文理特征等等。如同图像的特征一样，我们需要使用类似的方式来描述三维点云的特征。</p>
<p>常用的特征描述算法有：法线和曲率计算、特征值分析、PFH、FPFH、3D Shape Context、Spin Image等。</p>
<p>PFH：点特征直方图描述子，FPFH：跨苏点特征直方图描述子，FPFH是PFH的简化形式。这里不提供具体描述了，具体细节去谷歌吧。</p>
<img src="/2020/08/17/Graphices/Graphices-PC-Data/image-20200817104947276.png" alt="image-20200817104947276" style="zoom: 67%;">

<h4 id><a href="#" class="headerlink" title></a></h4><h4 id="4-点云配准"><a href="#4-点云配准" class="headerlink" title="4. 点云配准"></a><strong>4. 点云配准</strong></h4><p>点云配准的概念也可以类比于二维图像中的配准，只不过二维图像配准获取得到的是x，y，alpha，beta等放射变化参数，二三维点云配准可以模拟三维点云的移动和对其，也就是会获得一个旋转矩阵和一个平移向量，通常表达为一个4×3的矩阵，其中3×3是旋转矩阵，1<em>3是平移向量。严格说来是6个参数，因为旋转矩阵也可以通过罗格里德斯变换转变成1</em>3的旋转向量。</p>
<p>常用的点云配准算法有两种：正太分布变换和著名的ICP点云配准，此外还有许多其它算法，列举如下：</p>
<p>ICP：稳健ICP、point to plane ICP、point to line ICP、MBICP、GICP</p>
<p>NDT 3D、Multil-Layer NDT</p>
<p>FPCS、KFPSC、SAC-IA</p>
<p>Line Segment Matching、ICL</p>
<img src="/2020/08/17/Graphices/Graphices-PC-Data/image-20200817105700692.png" alt="image-20200817105700692" style="zoom:50%;">

<h4 id="5-点云分割与分类"><a href="#5-点云分割与分类" class="headerlink" title="5. 点云分割与分类"></a><strong>5. 点云分割与分类</strong></h4><p>点云的分割与分类也算是一个大Topic了，这里因为多了一维就和二维图像比多了许多问题，点云分割又分为区域提取、线面提取、语义分割与聚类等。同样是分割问题，点云分割涉及面太广，确实是三言两语说不清楚的。只有从字面意思去理解了，遇到具体问题再具体归类。一般说来，点云分割是目标识别的基础。</p>
<p>分割：区域声场、Ransac线面提取、NDT-RANSAC、K-Means、Normalize Cut、3D Hough Transform(线面提取)、连通分析</p>
<p>分类：基于点的分类，基于分割的分类，监督分类与非监督分类</p>
<h4 id="6-SLAM图优化"><a href="#6-SLAM图优化" class="headerlink" title="6. SLAM图优化"></a><strong>6. SLAM图优化</strong></h4><p>SLAM又是大Topic，SLAM技术中，在图像前端主要获取点云数据，而在后端优化主要就是依靠图优化工具。而SLAM技术近年来的发展也已经改变了这种技术策略。在过去的经典策略中，为了求解LandMark和Location，将它转化为一个稀疏图的优化，常常使用g2o工具来进行图优化。下面是一些常用的工具和方法。</p>
<p>g2o、LUM、ELCH、Toro、SPA</p>
<p>SLAM方法：ICP、MBICP、IDC、likehood Field、 Cross Correlation、NDT</p>
<h4 id="7-目标识别检索"><a href="#7-目标识别检索" class="headerlink" title="7. 目标识别检索"></a><strong>7. 目标识别检索</strong></h4><p>这是点云数据处理中一个偏应用层面的问题，简单说来就是Hausdorff距离常被用来进行深度图的目标识别和检索，现在很多三维<a target="_blank" rel="noopener" href="https://cloud.tencent.com/product/facerecognition?from=10680">人脸识别</a>都是用这种技术来做的。</p>
<h4 id="8-变化检测"><a href="#8-变化检测" class="headerlink" title="8. 变化检测"></a><strong>8. 变化检测</strong></h4><p>当无序点云在连续变化中，八叉树算法常常被用于检测变化，这种算法需要和关键点提取技术结合起来，八叉树算法也算是经典中的经典了。</p>
<h4 id="9-三维重建"><a href="#9-三维重建" class="headerlink" title="9. 三维重建"></a><strong>9. 三维重建</strong></h4><p>我们获取到的点云数据都是一个个孤立的点，如何从一个个孤立的点得到整个曲面呢，这就是三维重建的topic。</p>
<p>在玩kinectFusion时候，如果我们不懂，会发现曲面渐渐变平缓，这就是重建算法不断迭代的效果。我们采集到的点云是充满噪声和孤立点的，三维重建算法为了重构出曲面，常常要应对这种噪声，获得看上去很舒服的曲面。</p>
<p>常用的三维重建算法和技术有：</p>
<p>泊松重建、Delauary triangulatoins</p>
<p>表面重建，人体重建，建筑物重建，输入重建</p>
<p>实时重建：重建纸杯或者龙作物4D生长台式，人体姿势识别，表情识别</p>
<img src="/2020/08/17/Graphices/Graphices-PC-Data/image-20200817105738655.png" alt="image-20200817105738655" style="zoom:50%;">

<h4 id="10-点云数据管理"><a href="#10-点云数据管理" class="headerlink" title="10. 点云数据管理"></a><strong>10. 点云数据管理</strong></h4><p>点云压缩，点云索引（KDtree、Octree），点云LOD（金字塔），海量点云的渲染</p>
<h3 id="PCL库简介"><a href="#PCL库简介" class="headerlink" title="PCL库简介"></a><strong>PCL库简介</strong></h3><p>点云数据处理中，不仅涉及前段数据的输入，中间数据和处理，还涉及到后端点云的渲染显示，如果这些函数都要我们亲自来实现，那么开发效率必然受到极大影响。在点云数据处理领域，有一个不可或缺的助手：PCL (Point Cloud Library)。PCL在点云数据处理中的地位犹如OpenCV在图像处理领域的地位，如果你接触三维点云数据处理，那么PCL将大大简化你的开发。</p>
<h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref:"></a>Ref:</h3><p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1462320">https://cloud.tencent.com/developer/article/1462320</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://novav.github.io/2020/07/23/Sub_Language/CVs/Language-pyrender/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Simon Shi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simon Shi的小站">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/23/Sub_Language/CVs/Language-pyrender/" class="post-title-link" itemprop="url">3D 点云可視化</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-23 18:40:21" itemprop="dateCreated datePublished" datetime="2020-07-23T18:40:21+00:00">2020-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-08-06 08:16:40" itemprop="dateModified" datetime="2025-08-06T08:16:40+00:00">2025-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Graphices/" itemprop="url" rel="index"><span itemprop="name">Graphices</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Graphices/PointCloud/" itemprop="url" rel="index"><span itemprop="name">PointCloud</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="3D-visiual"><a href="#3D-visiual" class="headerlink" title="3D visiual"></a>3D visiual</h2><p>[TOC]</p>
<h3 id="Pyrender"><a href="#Pyrender" class="headerlink" title="Pyrender"></a>Pyrender</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import trimesh</span><br><span class="line">import pyrender</span><br><span class="line"></span><br><span class="line">fuze_trimesh = trimesh.load(&#x27;hello.obj&#x27;)</span><br><span class="line">mesh = pyrender.Mesh.from_trimesh(fuze_trimesh)</span><br><span class="line">scene = pyrender.Scene()</span><br><span class="line">scene.add(mesh)</span><br><span class="line"></span><br><span class="line">pyrender.Viewer(scene, use_raymond_lighting=True)</span><br></pre></td></tr></table></figure>

<h3 id="psbody"><a href="#psbody" class="headerlink" title="psbody"></a>psbody</h3><p>Mesh</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from psbody.mesh import Mesh, MeshViewer</span><br><span class="line">scan = Mesh(filename=join(path, &#x27;smpl_registered.obj&#x27;))</span><br><span class="line">scan.set_texture_image(tex_file=&#x27;***.jpg&#x27;)</span><br><span class="line">scan.show()</span><br></pre></td></tr></table></figure>

<p>MeshViewer</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from psbody.mesh import Mesh, MeshViewer</span><br><span class="line">scan = Mesh(filename=&#x27;non-vn.obj&#x27;)</span><br><span class="line"></span><br><span class="line">mvs = MeshViewers(shape=(1,3), keepalive=True) #, window_width=1024, window_height=576)</span><br><span class="line">mvs[0][0].set_background_color(np.array([1, 1, 1]))</span><br><span class="line">mvs[0][0].set_static_meshes([scan])</span><br><span class="line">mvs[0][1].set_static_meshes([scan1])</span><br><span class="line">mvs[0][2].set_static_meshes([scan2])</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/22/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/">24</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><a class="extend next" rel="next" href="/page/24/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Simon Shi</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">322</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">142</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">269</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:yourname@gmail.com" title="E-Mail → mailto:yourname@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Simon Shi</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

</body>
</html>
