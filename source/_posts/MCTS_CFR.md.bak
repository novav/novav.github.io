---
title: MCTS-CFR
---

# CFR

ç±»ä¼¼å¼ºåŒ–å­¦ä¹ çš„ç®—æ³•

é—æ†¾å€¼ï¼ˆregretï¼‰	: åœ¨ä¸€å±€çŸ³å¤´å‰ªåˆ€å¸ƒä¸­ï¼Œå¯¹æ‰‹å‡ºäº†å¸ƒï¼Œç?©å®¶å‡ºäº†çŸ³å¤´ï¼Œç»“æ?œæ˜¯ç?©å®¶è¾“äº†-1ã€‚è¿™æ—¶çš„é—æ†¾å€¼ä¸º{çŸ³å¤´ï¼š0ï¼Œå¸ƒï¼š1ï¼Œå‰ªåˆ€ï¼š2}ã€‚ä¹Ÿå°±æ„å‘³ç€å¦‚æ?œæ‰§è¡Œå…¶ä»–åŠ¨ä½œä¼šæ¯”æ‰§è¡Œå½“å‰çš„åŠ¨ä½œæœ‰å¤šå°‘ä¼˜åŠ¿ã€‚

é—æ†¾å€¼åŒ¹é…ï¼ˆregret matching)	: é—æ†¾åŒ¹é…ï¼Œé€šè¿‡è®¡ç®—å‡ºçš„é—æ†¾å€¼æ›´æ–°ç­–ç•¥ã€‚æœ€å¸¸ç”¨çš„æ˜¯å°†é—æ†¾åŠ¨ä½œå€¼å½’ä¸€åŒ–ä¸ºç”Ÿæˆæ¦‚ç?‡ã€‚è¿™ç§æ–¹æ³•å¯ä»¥é€šè¿‡è‡ªæˆ‘å¯¹å±€æ¥æœ€å°åŒ–é¢„æœŸçš„regretã€‚

å¯¹äº?ä¸Šé¢å‰ªåˆ€çŸ³å¤´å¸ƒçš„ä¾‹å­ï¼Œæ ¹æ®ä¸Šè¿°é—æ†¾å€¼è¿›è¡Œregret matchingå?å¾—åˆ°çš„ç­–ç•¥æ˜¯ï¼š

{çŸ³å¤´ï¼š0ï¼Œå¸ƒï¼š1/3ï¼Œå‰ªåˆ€ï¼š2/3}

æ•´ä½“æµç¨‹ï¼š

1ã€å¯¹æ¯ä¸ªç?©å®¶ï¼Œåˆå§‹åŒ–æ‰€æœ‰çš„ç´¯ç§¯regret=0

2ã€è¿­ä»£ä¸€å®šæ¬¡æ•°ï¼š

3ã€è¿”å›?å¹³å‡ç­–ç•¥ç»„åˆ æ¯”å¦‚ï¼ˆÏƒ1+Ïƒ2+Ïƒ3+...ï¼‰/n

â€‹	ç­–ç•¥ç»„åˆÏƒæ˜¯æŒ‡åœ¨æ¯ä¸ªå¯èƒ½çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œå„å¯è¡ŒåŠ¨ä½œçš„æ¦‚ç?‡

![img](MCTS_CFR/cfr_update_u.png)

I ä»£è¡¨å½“å‰çš„çŠ¶æ€ï¼ŒP(h)ä»£è¡¨ç?©å®¶

$U_(ÏƒI->a)[a]$ ä»£è¡¨ å½“å‰çŠ¶æ€ä¸‹æ‰§è¡ŒåŠ¨ä½œaçš„æ”¶ç›Š

Ïƒ^t(I, a) ä»£è¡¨å½“å‰çŠ¶æ€ä¸‹ï¼Œæ‰§è¡Œaçš„æ¦‚ç?‡

v_Ïƒ è¡¨ç¤ºæœŸæœ›å€¼ï¼Œè¿™ä¸ªçŠ¶æ€ä¸‹ï¼Œç?©å®¶çš„åäº‹å®?é—æ†¾å€¼



![img](MCTS_CFR/v2-92d66256208219efb1080525b1ad01e9_hd.png)

Reference:

[zhihu-deepstack_CFR](https://zhuanlan.zhihu.com/p/28442291)



# MCTS_CFR

## Vanilla CFR

full game traverse

![](MCTS_CFR/cfr.png)





Reference

«Regret minimization in games and the development of champion multiplayer computer poker playing agents»(????????????????????????)